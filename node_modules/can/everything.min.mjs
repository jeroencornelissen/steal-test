(function(e,t){"undefined"==typeof process&&(e.process={argv:[],cwd:function(){return""},browser:!0,env:{NODE_ENV:t||"development"},version:"",platform:e.navigator&&e.navigator.userAgent&&/Windows/.test(e.navigator.userAgent)?"win":""})})("object"==typeof self&&self.Object==Object?self:"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)?global:window,"development");var canNamespace_1_0_0_canNamespace={},CanSymbol;if("undefined"!=typeof Symbol&&"function"==typeof Symbol.for)CanSymbol=Symbol;else{var symbolNum=0;CanSymbol=function(e){var t="@@symbol"+symbolNum++ +e,a={};return Object.defineProperties(a,{toString:{value:function(){return t}}}),a};var descriptionToSymbol={},symbolToDescription={};CanSymbol.for=function(e){var t=descriptionToSymbol[e];return t||(t=descriptionToSymbol[e]=CanSymbol(e),symbolToDescription[t]=e),t},CanSymbol.keyFor=function(e){return symbolToDescription[e]},["hasInstance","isConcatSpreadable","iterator","match","prototype","replace","search","species","split","toPrimitive","toStringTag","unscopables"].forEach(function(e){CanSymbol[e]=CanSymbol("Symbol."+e)})}["isMapLike","isListLike","isValueLike","isFunctionLike","getOwnKeys","getOwnKeyDescriptor","proto","getOwnEnumerableKeys","hasOwnKey","hasKey","size","getName","getIdentity","assignDeep","updateDeep","getValue","setValue","getKeyValue","setKeyValue","updateValues","addValue","removeValues","apply","new","onValue","offValue","onKeyValue","offKeyValue","getKeyDependencies","getValueDependencies","keyHasDependencies","valueHasDependencies","onKeys","onKeysAdded","onKeysRemoved","onPatches"].forEach(function(e){CanSymbol.for("can."+e)});var canSymbol_1_6_1_canSymbol=canNamespace_1_0_0_canNamespace.Symbol=CanSymbol,helpers={makeGetFirstSymbolValue:function(e){var t=e.map(function(e){return canSymbol_1_6_1_canSymbol.for(e)}),a=t.length;return function(e){for(var n=-1;++n<a;)if(e[t[n]]!==void 0)return e[t[n]]}},hasLength:function(e){var t=typeof e;if("string"==t||Array.isArray(e))return!0;var a=e&&"boolean"!=t&&"number"!=t&&"length"in e&&e.length;return"function"!=typeof e&&(0===a||"number"==typeof a&&0<a&&a-1 in e)}},plainFunctionPrototypePropertyNames=Object.getOwnPropertyNames(function(){}.prototype),plainFunctionPrototypeProto=Object.getPrototypeOf(function(){}.prototype);function isConstructorLike(e){var t=e[canSymbol_1_6_1_canSymbol.for("can.new")];if(t!==void 0)return t;if("function"!=typeof e)return!1;var a=e.prototype;if(!a)return!1;if(plainFunctionPrototypeProto!==Object.getPrototypeOf(a))return!0;var n=Object.getOwnPropertyNames(a);if(n.length===plainFunctionPrototypePropertyNames.length){for(var r=0,o=n.length;r<o;r++)if(n[r]!==plainFunctionPrototypePropertyNames[r])return!0;return!1}return!0}var getNewOrApply=helpers.makeGetFirstSymbolValue(["can.new","can.apply"]);function isFunctionLike(e){var t=!!e&&e[canSymbol_1_6_1_canSymbol.for("can.isFunctionLike")],a;return void 0===t?(a=getNewOrApply(e),void 0===a?"function"==typeof e:!!a):t}function isPrimitive(e){var t=typeof e;return!(null!=e&&("function"==t||"object"==t))}function isBuiltIn(e){return!!(isPrimitive(e)||Array.isArray(e)||isPlainObject(e)||"[object Object]"!==Object.prototype.toString.call(e)&&-1!==Object.prototype.toString.call(e).indexOf("[object "))}function isValueLike(e){var t;if(isPrimitive(e))return!0;if(t=e[canSymbol_1_6_1_canSymbol.for("can.isValueLike")],"undefined"!=typeof t)return t;var a=e[canSymbol_1_6_1_canSymbol.for("can.getValue")];if(void 0!==a)return!!a}function isMapLike(e){if(isPrimitive(e))return!1;var t=e[canSymbol_1_6_1_canSymbol.for("can.isMapLike")];if("undefined"!=typeof t)return!!t;var a=e[canSymbol_1_6_1_canSymbol.for("can.getKeyValue")];return!(void 0!==a)||!!a}var onValueSymbol=canSymbol_1_6_1_canSymbol.for("can.onValue"),onKeyValueSymbol=canSymbol_1_6_1_canSymbol.for("can.onKeyValue"),onPatchesSymbol=canSymbol_1_6_1_canSymbol.for("can.onPatches");function isObservableLike(e){return!isPrimitive(e)&&!!(e[onValueSymbol]||e[onKeyValueSymbol]||e[onPatchesSymbol])}function isListLike(e){var t;if("string"==typeof e)return!0;if(isPrimitive(e))return!1;if(t=e[canSymbol_1_6_1_canSymbol.for("can.isListLike")],"undefined"!=typeof t)return t;var a=e[canSymbol_1_6_1_canSymbol.iterator];return void 0===a?!!Array.isArray(e)||helpers.hasLength(e):!!a}var supportsSymbols="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,isSymbolLike;if(supportsSymbols)isSymbolLike=function(e){return"symbol"==typeof e};else{var symbolStart="@@symbol";isSymbolLike=function(e){return!("object"!=typeof e||Array.isArray(e))&&e.toString().substr(0,symbolStart.length)===symbolStart}}var coreHasOwn=Object.prototype.hasOwnProperty,funcToString=Function.prototype.toString,objectCtorString=funcToString.call(Object);function isPlainObject(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(t===Object.prototype||null===t)return!0;var a=coreHasOwn.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&funcToString.call(a)===objectCtorString}var type={isConstructorLike:isConstructorLike,isFunctionLike:isFunctionLike,isListLike:isListLike,isMapLike:isMapLike,isObservableLike:isObservableLike,isPrimitive:isPrimitive,isBuiltIn:isBuiltIn,isValueLike:isValueLike,isSymbolLike:isSymbolLike,isMoreListLikeThanMapLike:function(e){if(Array.isArray(e))return!0;if(e instanceof Array)return!0;if(null==e)return!1;var t=e[canSymbol_1_6_1_canSymbol.for("can.isMoreListLikeThanMapLike")];if(t!==void 0)return t;var a=this.isListLike(e),n=this.isMapLike(e);if(a&&!n)return!0;return void 0},isIteratorLike:function(e){return e&&"object"==typeof e&&"function"==typeof e.next&&0===e.next.length},isPromise:function(e){return e instanceof Promise||"[object Promise]"===Object.prototype.toString.call(e)},isPlainObject:isPlainObject},call={call:function(e,t){var a=[].slice.call(arguments,2),n=e[canSymbol_1_6_1_canSymbol.for("can.apply")];return n?n.call(e,t,a):e.apply(t,a)},apply:function(e,t,a){var n=e[canSymbol_1_6_1_canSymbol.for("can.apply")];return n?n.call(e,t,a):e.apply(t,a)},new:function(e){var t=[].slice.call(arguments,1),a=e[canSymbol_1_6_1_canSymbol.for("can.new")];if(a)return a.apply(e,t);var n=Object.create(e.prototype),r=e.apply(n,t);return type.isPrimitive(r)?n:r}},setKeyValueSymbol=canSymbol_1_6_1_canSymbol.for("can.setKeyValue"),getKeyValueSymbol=canSymbol_1_6_1_canSymbol.for("can.getKeyValue"),getValueSymbol=canSymbol_1_6_1_canSymbol.for("can.getValue"),setValueSymbol=canSymbol_1_6_1_canSymbol.for("can.setValue"),reflections={setKeyValue:function(e,t,a){if(type.isSymbolLike(t))return void("symbol"==typeof t?e[t]=a:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:a,writable:!0}));var n=e[setKeyValueSymbol];return void 0===n?void(e[t]=a):n.call(e,t,a)},getKeyValue:function(e,t){var a=e[getKeyValueSymbol];return a?a.call(e,t):e[t]},deleteKeyValue:function(e,t){var a=e[canSymbol_1_6_1_canSymbol.for("can.deleteKeyValue")];return a?a.call(e,t):void delete e[t]},getValue:function(e){if(type.isPrimitive(e))return e;var t=e[getValueSymbol];return t?t.call(e):e},setValue:function(e,t){var a=e&&e[setValueSymbol];if(a)return a.call(e,t);throw new Error("can-reflect.setValue - Can not set value.")},splice:function(e,t,a,n){var r;if("number"!=typeof a){var o=e[canSymbol_1_6_1_canSymbol.for("can.updateValues")];if(o)return o.call(e,t,a,n);r=a.length}else r=a;3>=arguments.length&&(n=[]);var s=e[canSymbol_1_6_1_canSymbol.for("can.splice")];return s?s.call(e,t,r,n):[].splice.apply(e,[t,r].concat(n))},addValues:function(e,t,a){var n=e[canSymbol_1_6_1_canSymbol.for("can.addValues")];return n?n.call(e,t,a):Array.isArray(e)&&void 0===a?e.push.apply(e,t):reflections.splice(e,a,[],t)},removeValues:function(e,t,a){var n=e[canSymbol_1_6_1_canSymbol.for("can.removeValues")];return n?n.call(e,t,a):Array.isArray(e)&&void 0===a?void t.forEach(function(t){var a=e.indexOf(t);0<=a&&e.splice(a,1)}):reflections.splice(e,a,t,[])}};reflections.get=reflections.getKeyValue,reflections.set=reflections.setKeyValue,reflections["delete"]=reflections.deleteKeyValue;var getSet=reflections,slice=[].slice;function makeFallback(e,t){return function(a,n,r,o){var s=a[canSymbol_1_6_1_canSymbol.for(e)];return void 0===s?this[t].apply(this,arguments):s.call(a,n,r,o)}}function makeErrorIfMissing(e,t){return function(a){var n=a[canSymbol_1_6_1_canSymbol.for(e)];if(n!==void 0){var r=slice.call(arguments,1);return n.apply(a,r)}throw new Error(t)}}var observe={onKeyValue:makeFallback("can.onKeyValue","onEvent"),offKeyValue:makeFallback("can.offKeyValue","offEvent"),onKeys:makeErrorIfMissing("can.onKeys","can-reflect: can not observe an onKeys event"),onKeysAdded:makeErrorIfMissing("can.onKeysAdded","can-reflect: can not observe an onKeysAdded event"),onKeysRemoved:makeErrorIfMissing("can.onKeysRemoved","can-reflect: can not unobserve an onKeysRemoved event"),getKeyDependencies:makeErrorIfMissing("can.getKeyDependencies","can-reflect: can not determine dependencies"),getWhatIChange:makeErrorIfMissing("can.getWhatIChange","can-reflect: can not determine dependencies"),getChangesDependencyRecord:function(e){var t=e[canSymbol_1_6_1_canSymbol.for("can.getChangesDependencyRecord")];if("function"==typeof t)return t()},keyHasDependencies:makeErrorIfMissing("can.keyHasDependencies","can-reflect: can not determine if this has key dependencies"),onValue:makeErrorIfMissing("can.onValue","can-reflect: can not observe value change"),offValue:makeErrorIfMissing("can.offValue","can-reflect: can not unobserve value change"),getValueDependencies:makeErrorIfMissing("can.getValueDependencies","can-reflect: can not determine dependencies"),valueHasDependencies:makeErrorIfMissing("can.valueHasDependencies","can-reflect: can not determine if value has dependencies"),onPatches:makeErrorIfMissing("can.onPatches","can-reflect: can not observe patches on object"),offPatches:makeErrorIfMissing("can.offPatches","can-reflect: can not unobserve patches on object"),onInstancePatches:makeErrorIfMissing("can.onInstancePatches","can-reflect: can not observe onInstancePatches on Type"),offInstancePatches:makeErrorIfMissing("can.offInstancePatches","can-reflect: can not unobserve onInstancePatches on Type"),onInstanceBoundChange:makeErrorIfMissing("can.onInstanceBoundChange","can-reflect: can not observe bound state change in instances."),offInstanceBoundChange:makeErrorIfMissing("can.offInstanceBoundChange","can-reflect: can not unobserve bound state change"),isBound:makeErrorIfMissing("can.isBound","can-reflect: cannot determine if object is bound"),onEvent:function(e,t,a,n){if(e){var r=e[canSymbol_1_6_1_canSymbol.for("can.onEvent")];if(r!==void 0)return r.call(e,t,a,n);e.addEventListener&&e.addEventListener(t,a,n)}},offEvent:function(e,t,a,n){if(e){var r=e[canSymbol_1_6_1_canSymbol.for("can.offEvent")];if(r!==void 0)return r.call(e,t,a,n);e.removeEventListener&&e.removeEventListener(t,a,n)}},setPriority:function(e,t){if(e){var a=e[canSymbol_1_6_1_canSymbol.for("can.setPriority")];if(void 0!==a)return a.call(e,t),!0}return!1},getPriority:function(e){if(e){var t=e[canSymbol_1_6_1_canSymbol.for("can.getPriority")];if(t!==void 0)return t.call(e)}}},getPrototypeOfWorksWithPrimitives=!0;try{}catch(t){getPrototypeOfWorksWithPrimitives=!1}var ArrayMap;if("function"==typeof Map)ArrayMap=Map;else{var isEven=function(e){return!(e%2)};ArrayMap=function(){this.contents=[]},ArrayMap.prototype={_getIndex:function(e){var t;do t=this.contents.indexOf(e,t);while(-1!==t&&!isEven(t));return t},has:function(e){return-1!==this._getIndex(e)},get:function(e){var t=this._getIndex(e);if(-1!==t)return this.contents[t+1]},set:function(e,t){var a=this._getIndex(e);-1===a?(this.contents.push(e),this.contents.push(t)):this.contents[a+1]=t},delete:function(e){var t=this._getIndex(e);-1!==t&&this.contents.splice(t,2)}}}var shiftFirstArgumentToThis=function(e){return function(){var t=[this];return t.push.apply(t,arguments),e.apply(null,t)}},getKeyValueSymbol$1=canSymbol_1_6_1_canSymbol.for("can.getKeyValue"),shiftedGetKeyValue=shiftFirstArgumentToThis(getSet.getKeyValue),setKeyValueSymbol$1=canSymbol_1_6_1_canSymbol.for("can.setKeyValue"),shiftedSetKeyValue=shiftFirstArgumentToThis(getSet.setKeyValue),sizeSymbol=canSymbol_1_6_1_canSymbol.for("can.size"),hasUpdateSymbol=helpers.makeGetFirstSymbolValue(["can.updateDeep","can.assignDeep","can.setKeyValue"]),shouldUpdateOrAssign=function(e){return type.isPlainObject(e)||Array.isArray(e)||!!hasUpdateSymbol(e)},shapeReflections;function isSerializedHelper(e){return!!type.isPrimitive(e)||!hasUpdateSymbol(e)&&type.isBuiltIn(e)&&!type.isPlainObject(e)&&!Array.isArray(e)}var Object_Keys;try{Object_Keys=Object.keys}catch(t){Object_Keys=function(e){return type.isPrimitive(e)?[]:Object.keys(e)}}function makeSerializer(e,t){function a(e){this.first=!r,this.first&&(r=n(e)),this.map=r,this.result=null}function n(e){var t=e||ArrayMap;return{unwrap:new t,serialize:new t,isSerializing:{unwrap:new t,serialize:new t},circularReferenceIsSerializing:{unwrap:new t,serialize:new t}}}var r=null;return a.prototype.end=function(){return this.first&&(r=null),this.result},function n(r,o){if(isSerializedHelper(r))return r;var s=new a(o);if(type.isValueLike(r))s.result=this[e](getSet.getValue(r));else{var l=type.isIteratorLike(r)||type.isMoreListLikeThanMapLike(r);if(s.result=l?[]:{},s.map[e].has(r))return s.map.isSerializing[e].has(r)&&s.map.circularReferenceIsSerializing[e].set(r,!0),s.map[e].get(r);s.map[e].set(r,s.result);for(var d=0,p=t.length,n;d<p;d++)if(n=r[t[d]],n){s.map.isSerializing[e].set(r,!0);var c=s.result;if(s.result=n.call(r,c),s.map.isSerializing[e].delete(r),s.result!==c){if(s.map.circularReferenceIsSerializing[e].has(r))throw s.end(),new Error("Cannot serialize cirular reference!");s.map[e].set(r,s.result)}return s.end()}"function"==typeof obj?(s.map[e].set(r,r),s.result=r):l?this.eachIndex(r,function(t,a){s.result[a]=this[e](t)},this):this.eachKey(r,function(t,a){s.result[a]=this[e](t)},this)}return s.end()}}var makeMap="undefined"==typeof Map?function(e){var t={};return e.forEach(function(e){t[e]=!0}),{get:function(e){return t[e]},set:function(e,a){t[e]=a},keys:function(){return e}}}:function(e){var t=new Map;return shapeReflections.eachIndex(e,function(e){t.set(e,!0)}),t};var fastHasOwnKey=function(e){var t=e[canSymbol_1_6_1_canSymbol.for("can.hasOwnKey")];if(t)return t.bind(e);var a=makeMap(shapeReflections.getOwnEnumerableKeys(e));return function(e){return a.get(e)}};function addPatch(e,t){var a=e[e.length-1];return a&&a.deleteCount===a.insert.length&&t.index-a.index===a.deleteCount?(a.insert.push.apply(a.insert,t.insert),void(a.deleteCount+=t.deleteCount)):void e.push(t)}function updateDeepList(e,t,a){var n=this.toArray(t),r=[],o=-1;this.eachIndex(e,function(t,s){if(o=s,s>=n.length)return a||addPatch(r,{index:s,deleteCount:e.length-s+1,insert:[]}),!1;var i=n[s];type.isPrimitive(t)||type.isPrimitive(i)||!1===shouldUpdateOrAssign(t)?addPatch(r,{index:s,deleteCount:1,insert:[i]}):this.updateDeep(t,i)},this),n.length>o&&addPatch(r,{index:o+1,deleteCount:0,insert:n.slice(o+1)});for(var s=0,l=r.length,d;s<l;s++)d=r[s],getSet.splice(e,d.index,d.deleteCount,d.insert);return e}shapeReflections={each:function(e,t,a){return type.isIteratorLike(e)||type.isMoreListLikeThanMapLike(e)?shapeReflections.eachIndex(e,t,a):shapeReflections.eachKey(e,t,a)},eachIndex:function(e,t,a){if(Array.isArray(e))return shapeReflections.eachListLike(e,t,a);var n=e[canSymbol_1_6_1_canSymbol.iterator],r;if(type.isIteratorLike(e)?r=e:n&&(r=n.call(e)),r)for(var o=0,s;!(s=r.next()).done&&!1!==t.call(a||e,s.value,o++,e););else shapeReflections.eachListLike(e,t,a);return e},eachListLike:function(e,t,a){var n=-1,r=e.length;if(r===void 0){var o=e[sizeSymbol];if(o)r=o.call(e);else throw new Error("can-reflect: unable to iterate.")}for(;++n<r;){var s=e[n];if(!1===t.call(a||s,s,n,e))break}return e},toArray:function(e){var t=[];return shapeReflections.each(e,function(e){t.push(e)}),t},eachKey:function(e,t,a){if(e){var n=shapeReflections.getOwnEnumerableKeys(e),r=e[getKeyValueSymbol$1]||shiftedGetKeyValue;return shapeReflections.eachIndex(n,function(n){var o=r.call(e,n);return t.call(a||e,o,n,e)})}return e},hasOwnKey:function(e,t){var a=e[canSymbol_1_6_1_canSymbol.for("can.hasOwnKey")];if(a)return a.call(e,t);var n=e[canSymbol_1_6_1_canSymbol.for("can.getOwnKeys")];if(n){var r=!1;return shapeReflections.eachIndex(n.call(e),function(e){if(e===t)return r=!0,!1}),r}return e.hasOwnProperty(t)},getOwnEnumerableKeys:function(e){var t=e[canSymbol_1_6_1_canSymbol.for("can.getOwnEnumerableKeys")];if(t)return t.call(e);if(e[canSymbol_1_6_1_canSymbol.for("can.getOwnKeys")]&&e[canSymbol_1_6_1_canSymbol.for("can.getOwnKeyDescriptor")]){var a=[];return shapeReflections.eachIndex(shapeReflections.getOwnKeys(e),function(t){var n=shapeReflections.getOwnKeyDescriptor(e,t);n.enumerable&&a.push(t)},this),a}return Object_Keys(e)},getOwnKeys:function(e){var t=e[canSymbol_1_6_1_canSymbol.for("can.getOwnKeys")];return t?t.call(e):Object.getOwnPropertyNames(e)},getOwnKeyDescriptor:function(e,t){var a=e[canSymbol_1_6_1_canSymbol.for("can.getOwnKeyDescriptor")];return a?a.call(e,t):Object.getOwnPropertyDescriptor(e,t)},unwrap:makeSerializer("unwrap",[canSymbol_1_6_1_canSymbol.for("can.unwrap")]),serialize:makeSerializer("serialize",[canSymbol_1_6_1_canSymbol.for("can.serialize"),canSymbol_1_6_1_canSymbol.for("can.unwrap")]),assignMap:function(e,t){var a=fastHasOwnKey(e),n=e[getKeyValueSymbol$1]||shiftedGetKeyValue,r=e[setKeyValueSymbol$1]||shiftedSetKeyValue;return shapeReflections.eachKey(t,function(t,o){a(o)&&n.call(e,o)===t||r.call(e,o,t)}),e},assignList:function(e,t){var a=shapeReflections.toArray(t);return getSet.splice(e,0,a,a),e},assign:function(e,t){return type.isIteratorLike(t)||type.isMoreListLikeThanMapLike(t)?shapeReflections.assignList(e,t):shapeReflections.assignMap(e,t),e},assignDeepMap:function(e,t){var a=fastHasOwnKey(e),n=e[getKeyValueSymbol$1]||shiftedGetKeyValue,r=e[setKeyValueSymbol$1]||shiftedSetKeyValue;return shapeReflections.eachKey(t,function(t,o){if(!a(o))getSet.setKeyValue(e,o,t);else{var s=n.call(e,o);t===s||(type.isPrimitive(s)||type.isPrimitive(t)||!1===shouldUpdateOrAssign(s)?r.call(e,o,t):shapeReflections.assignDeep(s,t))}},this),e},assignDeepList:function(e,t){return updateDeepList.call(this,e,t,!0)},assignDeep:function(e,t){var a=e[canSymbol_1_6_1_canSymbol.for("can.assignDeep")];return a?a.call(e,t):type.isMoreListLikeThanMapLike(t)?shapeReflections.assignDeepList(e,t):shapeReflections.assignDeepMap(e,t),e},updateMap:function(e,t){var a=makeMap(shapeReflections.getOwnEnumerableKeys(t)),n=t[getKeyValueSymbol$1]||shiftedGetKeyValue,r=e[setKeyValueSymbol$1]||shiftedSetKeyValue;return shapeReflections.eachKey(e,function(o,s){if(!a.get(s))return void getSet.deleteKeyValue(e,s);a.set(s,!1);var i=n.call(t,s);i!==o&&r.call(e,s,i)},this),shapeReflections.eachIndex(a.keys(),function(o){a.get(o)&&r.call(e,o,n.call(t,o))}),e},updateList:function(e,t){var a=shapeReflections.toArray(t);return getSet.splice(e,0,e,a),e},update:function(e,t){return type.isIteratorLike(t)||type.isMoreListLikeThanMapLike(t)?shapeReflections.updateList(e,t):shapeReflections.updateMap(e,t),e},updateDeepMap:function(e,t){var a=makeMap(shapeReflections.getOwnEnumerableKeys(t)),n=t[getKeyValueSymbol$1]||shiftedGetKeyValue,r=e[setKeyValueSymbol$1]||shiftedSetKeyValue;return shapeReflections.eachKey(e,function(o,s){if(!a.get(s))return void getSet.deleteKeyValue(e,s);a.set(s,!1);var i=n.call(t,s);type.isPrimitive(o)||type.isPrimitive(i)||!1===shouldUpdateOrAssign(o)?r.call(e,s,i):shapeReflections.updateDeep(o,i)},this),shapeReflections.eachIndex(a.keys(),function(o){a.get(o)&&r.call(e,o,n.call(t,o))}),e},updateDeepList:function(e,t){return updateDeepList.call(this,e,t)},updateDeep:function(e,t){var a=e[canSymbol_1_6_1_canSymbol.for("can.updateDeep")];return a?a.call(e,t):type.isMoreListLikeThanMapLike(t)?shapeReflections.updateDeepList(e,t):shapeReflections.updateDeepMap(e,t),e},hasKey:function(e,t){if(null==e)return!1;if(type.isPrimitive(e)){if(Object.prototype.hasOwnProperty.call(e,t))return!0;var a;return a=getPrototypeOfWorksWithPrimitives?Object.getPrototypeOf(e):e.__proto__,void 0===a?void 0!==e[t]:t in a}var n=e[canSymbol_1_6_1_canSymbol.for("can.hasKey")];if(n)return n.call(e,t);var r=shapeReflections.hasOwnKey(e,t);return r||t in e},getAllEnumerableKeys:function(){},getAllKeys:function(){},assignSymbols:function(e,t){return shapeReflections.eachKey(t,function(t,a){var n=type.isSymbolLike(canSymbol_1_6_1_canSymbol[a])?canSymbol_1_6_1_canSymbol[a]:canSymbol_1_6_1_canSymbol.for(a);getSet.setKeyValue(e,n,t)}),e},isSerialized:isSerializedHelper,size:function(e){if(null==e)return 0;var t=e[sizeSymbol],a=0;return t?t.call(e):helpers.hasLength(e)?e.length:type.isListLike(e)?(shapeReflections.eachIndex(e,function(){a++}),a):e?shapeReflections.getOwnEnumerableKeys(e).length:void 0},defineInstanceKey:function(e,t,a){var n=e[canSymbol_1_6_1_canSymbol.for("can.defineInstanceKey")];if(n)return n.call(e,t,a);var r=e.prototype;n=r[canSymbol_1_6_1_canSymbol.for("can.defineInstanceKey")],n?n.call(r,t,a):Object.defineProperty(r,t,shapeReflections.assign({configurable:!0,enumerable:!type.isSymbolLike(t),writable:!0},a))}},shapeReflections.isSerializable=shapeReflections.isSerialized,shapeReflections.keys=shapeReflections.getOwnEnumerableKeys;var shape=shapeReflections,getSchemaSymbol=canSymbol_1_6_1_canSymbol.for("can.getSchema"),isMemberSymbol=canSymbol_1_6_1_canSymbol.for("can.isMember"),newSymbol=canSymbol_1_6_1_canSymbol.for("can.new");function comparator(e,t){return e.localeCompare(t)}function sort(e){if(type.isPrimitive(e))return e;var t;return type.isListLike(e)?(t=[],shape.eachKey(e,function(e){t.push(sort(e))}),t):type.isMapLike(e)?(t={},shape.getOwnKeys(e).sort(comparator).forEach(function(a){t[a]=sort(getSet.getKeyValue(e,a))}),t):e}function isPrimitiveConverter(e){return e===Number||e===String||e===Boolean}var schemaReflections={getSchema:function(e){if(void 0!==e){var t=e[getSchemaSymbol];return void 0===t&&(e=e.constructor,t=e&&e[getSchemaSymbol]),void 0===t?void 0:t.call(e)}},getIdentity:function(e,t){if(t=t||schemaReflections.getSchema(e),void 0===t)throw new Error("can-reflect.getIdentity - Unable to find a schema for the given value.");var a=t.identity;if(!a||0===a.length)throw new Error("can-reflect.getIdentity - Provided schema lacks an identity property.");else{if(1===a.length)return getSet.getKeyValue(e,a[0]);var n={};return a.forEach(function(t){n[t]=getSet.getKeyValue(e,t)}),JSON.stringify(schemaReflections.cloneKeySort(n))}},cloneKeySort:function(e){return sort(e)},convert:function(e,t){if(isPrimitiveConverter(t))return t(e);var a=t[isMemberSymbol],n=!1,r=typeof t,o=t[newSymbol];if(void 0===a?"function"==r&&type.isConstructorLike(t)&&(n=e instanceof t):n=a.call(t,e),n)return e;if(void 0!==o)return o.call(t,e);if("function"==r)return type.isConstructorLike(t)?new t(e):t(e);throw new Error("can-reflect: Can not convert values into type. Type must provide `can.new` symbol.")}},schema=schemaReflections,getNameSymbol=canSymbol_1_6_1_canSymbol.for("can.getName");function setName(e,t){if("function"!=typeof t){var a=t;t=function(){return a}}Object.defineProperty(e,getNameSymbol,{value:t})}function getName(e){var t=typeof e;if(null===e||"object"!=t&&"function"!=t)return""+e;var a=e[getNameSymbol];if(a)return a.call(e);if("function"==t)return e.name;if(e.constructor&&e!==e.constructor){var n=getName(e.constructor);if(n){if(type.isValueLike(e))return n+"<>";if(type.isMoreListLikeThanMapLike(e))return n+"[]";if(type.isMapLike(e))return n+"{}"}}}var getName_1={setName:setName,getName:getName};function keysPolyfill(){var e=[],t=0;return this.forEach(function(t,a){e.push(a)}),{next:function(){return{value:e[t],done:t++===e.length}}}}"undefined"!=typeof Map&&(shape.assignSymbols(Map.prototype,{"can.getOwnEnumerableKeys":Map.prototype.keys,"can.setKeyValue":Map.prototype.set,"can.getKeyValue":Map.prototype.get,"can.deleteKeyValue":Map.prototype["delete"],"can.hasOwnKey":Map.prototype.has}),"function"!=typeof Map.prototype.keys&&(Map.prototype.keys=Map.prototype[canSymbol_1_6_1_canSymbol.for("can.getOwnEnumerableKeys")]=keysPolyfill)),"undefined"!=typeof WeakMap&&shape.assignSymbols(WeakMap.prototype,{"can.getOwnEnumerableKeys":function(){throw new Error("can-reflect: WeakMaps do not have enumerable keys.")},"can.setKeyValue":WeakMap.prototype.set,"can.getKeyValue":WeakMap.prototype.get,"can.deleteKeyValue":WeakMap.prototype["delete"],"can.hasOwnKey":WeakMap.prototype.has}),"undefined"!=typeof Set&&(shape.assignSymbols(Set.prototype,{"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,t,a){t!==a&&shape.each(t,function(e){this.delete(e)},this),shape.each(a,function(e){this.add(e)},this)},"can.size":function(){return this.size}}),"function"!=typeof Set.prototype[canSymbol_1_6_1_canSymbol.iterator]&&(Set.prototype[canSymbol_1_6_1_canSymbol.iterator]=function(){var e=[],t=0;return this.forEach(function(t){e.push(t)}),{next:function(){return{value:e[t],done:t++===e.length}}}})),"undefined"!=typeof WeakSet&&shape.assignSymbols(WeakSet.prototype,{"can.isListLike":!0,"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,t,a){t!==a&&shape.each(t,function(e){this.delete(e)},this),shape.each(a,function(e){this.add(e)},this)},"can.size":function(){throw new Error("can-reflect: WeakSets do not have enumerable keys.")}});var reflect={};[call,getSet,observe,shape,type,getName_1,schema].forEach(function(e){for(var t in e)reflect[t]=e[t]});var canReflect_1_17_4_canReflect=canNamespace_1_0_0_canNamespace.Reflect=reflect,commonjsGlobal="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window;function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var warnTimeout=5e3,logLevel=0,warn=function(){var e=this.logLevel;2>e&&("undefined"!=typeof console&&console.warn?this._logger("warn",Array.prototype.slice.call(arguments)):"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments)))},log=function(){var e=this.logLevel;1>e&&"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments))},error=function(){var e=this.logLevel;1>e&&"undefined"!=typeof console&&console.error&&this._logger("error",Array.prototype.slice.call(arguments))},_logger=function(t,a){try{console[t].apply(console,a)}catch(n){console[t](a)}},canLog_1_0_0_canLog={warnTimeout:5000,logLevel:logLevel,warn:warn,log:log,error:error,_logger:_logger},dev={warnTimeout:5e3,logLevel:0,stringify:function(e){return JSON.stringify(e,function(e,t){return t===void 0?"/* void(undefined) */":t},"  ").replace(/"\/\* void\(undefined\) \*\/"/g,"undefined")},warn:function(){},log:function(){},error:function(){},_logger:canLog_1_0_0_canLog._logger},canQueues_1_1_3_queueState={lastTask:null},canAssign_1_3_1_canAssign=canNamespace_1_0_0_canNamespace.assign=function(e,t){for(var a in t){var n=Object.getOwnPropertyDescriptor(e,a);n&&!1===n.writable||(e[a]=t[a])}return e};function noOperation(){}var Queue=function(e,t){this.callbacks=canAssign_1_3_1_canAssign({onFirstTask:noOperation,onComplete:function(){canQueues_1_1_3_queueState.lastTask=null}},t||{}),this.name=e,this.index=0,this.tasks=[],this._log=!1};Queue.prototype.constructor=Queue,Queue.noop=noOperation,Queue.prototype.enqueue=function(e,t,a,n){var r=this.tasks.push({fn:e,context:t,args:a,meta:n||{}});1===r&&this.callbacks.onFirstTask(this)},Queue.prototype.flush=function(){for(;this.index<this.tasks.length;){var e=this.tasks[this.index++];e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.callbacks.onComplete(this)},Queue.prototype.log=function(){this._log=!arguments.length||arguments[0]};var canQueues_1_1_3_queue=Queue,PriorityQueue=function(){canQueues_1_1_3_queue.apply(this,arguments),this.taskMap=new Map,this.taskContainersByPriority=[],this.curPriorityIndex=1/0,this.curPriorityMax=0,this.isFlushing=!1,this.tasksRemaining=0};PriorityQueue.prototype=Object.create(canQueues_1_1_3_queue.prototype),PriorityQueue.prototype.constructor=PriorityQueue,PriorityQueue.prototype.enqueue=function(e,t,a,n){if(!this.taskMap.has(e)){this.tasksRemaining++;var r=0===this.taskContainersByPriority.length,o={fn:e,context:t,args:a,meta:n||{}},s=this.getTaskContainerAndUpdateRange(o);s.tasks.push(o),this.taskMap.set(e,o),r&&this.callbacks.onFirstTask(this)}},PriorityQueue.prototype.getTaskContainerAndUpdateRange=function(e){var t=e.meta.priority||0;t<this.curPriorityIndex&&(this.curPriorityIndex=t),t>this.curPriorityMax&&(this.curPriorityMax=t);var a=this.taskContainersByPriority,n=a[t];return n||(n=a[t]={tasks:[],index:0}),n},PriorityQueue.prototype.flush=function(){if(!this.isFlushing)for(this.isFlushing=!0;;)if(this.curPriorityIndex<=this.curPriorityMax){var e=this.taskContainersByPriority[this.curPriorityIndex];if(e&&e.tasks.length>e.index){var t=e.tasks[e.index++];this.tasksRemaining--,this.taskMap["delete"](t.fn),t.fn.apply(t.context,t.args)}else this.curPriorityIndex++}else return this.taskMap=new Map,this.curPriorityIndex=1/0,this.curPriorityMax=0,this.taskContainersByPriority=[],this.isFlushing=!1,void this.callbacks.onComplete(this)},PriorityQueue.prototype.isEnqueued=function(e){return this.taskMap.has(e)},PriorityQueue.prototype.flushQueuedTask=function(e){var t=this.dequeue(e);t&&t.fn.apply(t.context,t.args)},PriorityQueue.prototype.dequeue=function(e){var t=this.taskMap.get(e);if(t){var a=t.meta.priority||0,n=this.taskContainersByPriority[a],r=n.tasks.indexOf(t,n.index);if(0<=r)return n.tasks.splice(r,1),this.tasksRemaining--,this.taskMap["delete"](t.fn),t;console.warn("Task",e,"has already run")}},PriorityQueue.prototype.tasksRemainingCount=function(){return this.tasksRemaining};var canQueues_1_1_3_priorityQueue=PriorityQueue,CompletionQueue=function(){canQueues_1_1_3_queue.apply(this,arguments),this.flushCount=0};CompletionQueue.prototype=Object.create(canQueues_1_1_3_queue.prototype),CompletionQueue.prototype.constructor=CompletionQueue,CompletionQueue.prototype.flush=function(){if(0===this.flushCount){for(this.flushCount++;this.index<this.tasks.length;){var e=this.tasks[this.index++];e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.flushCount--,this.callbacks.onComplete(this)}};var canQueues_1_1_3_completionQueue=CompletionQueue,canQueues_1_1_3_canQueues=createCommonjsModule(function(e){var t=0,a=!1,n=0,r=["notify","derive","domUI","mutate"],o,s,i,l,d;s=new canQueues_1_1_3_queue("NOTIFY",{onComplete:function(){i.flush()},onFirstTask:function(){t?a=!0:s.flush()}}),i=new canQueues_1_1_3_priorityQueue("DERIVE",{onComplete:function(){l.flush()},onFirstTask:function(){a=!0}}),l=new canQueues_1_1_3_completionQueue("DOM_UI",{onComplete:function(){d.flush()},onFirstTask:function(){a=!0}}),d=new canQueues_1_1_3_queue("MUTATE",{onComplete:function(){canQueues_1_1_3_queueState.lastTask=null},onFirstTask:function(){a=!0}});var p={Queue:canQueues_1_1_3_queue,PriorityQueue:canQueues_1_1_3_priorityQueue,CompletionQueue:canQueues_1_1_3_completionQueue,notifyQueue:s,deriveQueue:i,domUIQueue:l,mutateQueue:d,batch:{start:function(){t++,1==t&&(n++,o={number:n})},stop:function(){t--,0==t&&a&&(a=!1,s.flush())},isCollecting:function(){return 0<t},number:function(){return n},data:function(){return o}},enqueueByQueue:function(e,t,a,n,o){e&&(p.batch.start(),r.forEach(function(r){var s=p[r+"Queue"],i=e[r];i!==void 0&&i.forEach(function(e){var r=null==n?{}:n(e,t,a);r.reasonLog=o,s.enqueue(e,t,a,r)})}),p.batch.stop())},stack:function(){for(var e=canQueues_1_1_3_queueState.lastTask,t=[];e;)t.unshift(e),e=e.meta.parentTask;return t},logStack:function(){var e=this.stack();e.forEach(function(e,t){var a=e.meta;0===t&&a&&a.reasonLog&&dev.log.apply(dev,a.reasonLog);var n=a&&a.log?a.log:[e.fn.name,e];dev.log.apply(dev,[e.meta.stack.name+" ran task:"].concat(n))})},taskCount:function(){return s.tasks.length+i.tasks.length+l.tasks.length+d.tasks.length},flush:function(){s.flush()},log:function(){s.log.apply(s,arguments),i.log.apply(i,arguments),l.log.apply(l,arguments),d.log.apply(d,arguments)}};if(canNamespace_1_0_0_canNamespace.queues)throw new Error("You can't have two versions of can-queues, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.queues=p}),canObservationRecorder_1_2_0_canObservationRecorder=createCommonjsModule(function(e){var t=[],a=canSymbol_1_6_1_canSymbol.for("can.addParent"),n={stack:t,start:function(){var e={keyDependencies:new Map,valueDependencies:new Set,childDependencies:new Set,traps:null,ignore:0};return t.push(e),e},stop:function(){return t.pop()},add:function(e,a){var n=t[t.length-1];if(n&&0===n.ignore)if(n.traps)n.traps.push([e,a]);else if(void 0===a)n.valueDependencies.add(e);else{var r=n.keyDependencies.get(e);r||(r=new Set,n.keyDependencies.set(e,r)),r.add(a)}},addMany:function(e){var a=t[t.length-1];if(a)if(a.traps)a.traps.push.apply(a.traps,e);else for(var n=0,r=e.length;n<r;n++)this.add(e[n][0],e[n][1])},created:function(e){var n=t[t.length-1];n&&(n.childDependencies.add(e),e[a]&&e[a](n))},ignore:function(e){return function(){if(t.length){var a=t[t.length-1];a.ignore++;var n=e.apply(this,arguments);return a.ignore--,n}return e.apply(this,arguments)}},isRecording:function(){var e=t.length,a=e&&t[e-1];return a&&0===a.ignore&&a},makeDependenciesRecord:function(){return{traps:null,keyDependencies:new Map,valueDependencies:new Set,ignore:0}},makeDependenciesRecorder:function(){return n.makeDependenciesRecord()},trap:function(){if(t.length){var e=t[t.length-1],a=e.traps,n=e.traps=[];return function(){return e.traps=a,n}}return function(){return[]}},trapsCount:function(){if(t.length){var e=t[t.length-1];return e.traps.length}return 0}};if(canNamespace_1_0_0_canNamespace.ObservationRecorder)throw new Error("You can't have two versions of can-observation-recorder, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.ObservationRecorder=n});function isBuiltInPrototype(e){if(e===Object.prototype)return!0;var t=Object.prototype.toString.call(e),a=-1!==t.indexOf("[object ");return"[object Object]"!==t&&a}function getDeepSize(e,t){if(0===t)return canReflect_1_17_4_canReflect.size(e);if(0===canReflect_1_17_4_canReflect.size(e))return 0;var a=0;return canReflect_1_17_4_canReflect.each(e,function(e){a+=getDeepSize(e,t-1)}),a}function getDeep(e,t,a,n){if(e)if(n!==a)canReflect_1_17_4_canReflect.each(e,function(e){getDeep(e,t,a+1,n)});else if(canReflect_1_17_4_canReflect.isMoreListLikeThanMapLike(e))canReflect_1_17_4_canReflect.addValues(t,canReflect_1_17_4_canReflect.toArray(e));else throw new Error("can-key-tree: Map-type leaf containers are not supported yet.")}function clearDeep(e,t,a,n){if(!(a===t.length))canReflect_1_17_4_canReflect.each(e,function(r,o){clearDeep(r,t.concat(o),a,n),canReflect_1_17_4_canReflect.deleteKeyValue(e,o)});else if(canReflect_1_17_4_canReflect.isMoreListLikeThanMapLike(e)){var r=canReflect_1_17_4_canReflect.toArray(e);n&&r.forEach(function(e){n.apply(null,t.concat(e))}),canReflect_1_17_4_canReflect.removeValues(e,r)}else throw new Error("can-key-tree: Map-type leaf containers are not supported yet.")}var KeyTree=function(e,t){var a=e[0];this.root=canReflect_1_17_4_canReflect.isConstructorLike(a)?new a:a,this.callbacks=t||{},this.treeStructure=e,this.empty=!0};canReflect_1_17_4_canReflect.assign(KeyTree.prototype,{add:function(e){if(e.length>this.treeStructure.length)throw new Error("can-key-tree: Can not add path deeper than tree.");for(var t=this.root,a=!0===this.empty,n=0;n<e.length-1;n++){var r=e[n],o=canReflect_1_17_4_canReflect.getKeyValue(t,r);if(!o){var s=this.treeStructure[n+1];o=isBuiltInPrototype(s.prototype)?new s:new s(r),canReflect_1_17_4_canReflect.setKeyValue(t,r,o)}t=o}if(canReflect_1_17_4_canReflect.isMoreListLikeThanMapLike(t))canReflect_1_17_4_canReflect.addValues(t,[e[e.length-1]]);else throw new Error("can-key-tree: Map types are not supported yet.");return a&&(this.empty=!1,this.callbacks.onFirst&&this.callbacks.onFirst.call(this)),this},getNode:function(e){for(var t=this.root,a=0,n;a<e.length;a++)if(n=e[a],t=canReflect_1_17_4_canReflect.getKeyValue(t,n),!t)return;return t},get:function(e){var t=this.getNode(e);if(this.treeStructure.length===e.length)return t;var a=this.treeStructure[this.treeStructure.length-1],n=new a;return getDeep(t,n,e.length,this.treeStructure.length-1),n},delete:function(e,t){for(var a=this.root,n=[this.root],r=e[e.length-1],o=0;o<e.length-1;o++){var s=e[o],l=canReflect_1_17_4_canReflect.getKeyValue(a,s);if(void 0===l)return!1;n.push(l),a=l}if(!e.length)clearDeep(a,[],this.treeStructure.length-1,t);else if(e.length!==this.treeStructure.length){var d=canReflect_1_17_4_canReflect.getKeyValue(a,r);if(void 0!==d)clearDeep(d,e,this.treeStructure.length-1,t),canReflect_1_17_4_canReflect.deleteKeyValue(a,r);else return!1}else if(canReflect_1_17_4_canReflect.isMoreListLikeThanMapLike(a))t&&t.apply(null,e.concat(r)),canReflect_1_17_4_canReflect.removeValues(a,[r]);else throw new Error("can-key-tree: Map types are not supported yet.");for(o=n.length-2;0<=o&&0===canReflect_1_17_4_canReflect.size(a);o--)a=n[o],canReflect_1_17_4_canReflect.deleteKeyValue(a,e[o]);return 0===canReflect_1_17_4_canReflect.size(this.root)&&(this.empty=!0,this.callbacks.onEmpty&&this.callbacks.onEmpty.call(this)),!0},size:function(){return getDeepSize(this.root,this.treeStructure.length-1)},isEmpty:function(){return this.empty}});var canKeyTree_1_2_0_canKeyTree=KeyTree,canDefineLazyValue_1_1_0_defineLazyValue=function(e,t,a,n){Object.defineProperty(e,t,{configurable:!0,get:function(){Object.defineProperty(this,t,{value:void 0,writable:!0});var r=a.call(this,e,t);return Object.defineProperty(this,t,{value:r,writable:!!n}),r},set:function(e){return Object.defineProperty(this,t,{value:e,writable:!!n}),e}})},properties={on:function(e,t){this.handlers.add([t||"mutate",e])},off:function(e,t){e===void 0?t===void 0?this.handlers.delete([]):this.handlers.delete([t]):this.handlers.delete([t||"mutate",e])}},symbols={"can.onValue":properties.on,"can.offValue":properties.off,"can.dispatch":function(e,t){var a=[];a=[this.handlers.getNode([]),this,[e,t]],canQueues_1_1_3_canQueues.enqueueByQueue.apply(canQueues_1_1_3_canQueues,a)},"can.getWhatIChange":function(){},"can.isBound":function(){return!this.handlers.isEmpty()}};function defineLazyHandlers(){return new canKeyTree_1_2_0_canKeyTree([Object,Array],{onFirst:this.onBound!==void 0&&this.onBound.bind(this),onEmpty:this.onUnbound!==void 0&&this.onUnbound.bind(this)})}var mixinValueEventBindings=function(e){return canReflect_1_17_4_canReflect.assign(e,properties),canReflect_1_17_4_canReflect.assignSymbols(e,symbols),canDefineLazyValue_1_1_0_defineLazyValue(e,"handlers",defineLazyHandlers,!0),e};mixinValueEventBindings.addHandlers=function(e,t){return console.warn("can-event-queue/value: Avoid using addHandlers. Add onBound and onUnbound methods instead."),e.handlers=new canKeyTree_1_2_0_canKeyTree([Object,Array],t),e};var value=mixinValueEventBindings;function addNewKeyDependenciesIfNotInOld(e){(this.oldEventSet===void 0||!1===this.oldEventSet["delete"](e))&&canReflect_1_17_4_canReflect.onKeyValue(this.observable,e,this.onDependencyChange,"notify")}function addObservablesNewKeyDependenciesIfNotInOld(e,t){e.forEach(addNewKeyDependenciesIfNotInOld,{onDependencyChange:this.onDependencyChange,observable:t,oldEventSet:this.oldDependencies.keyDependencies.get(t)})}function removeKeyDependencies(e){canReflect_1_17_4_canReflect.offKeyValue(this.observable,e,this.onDependencyChange,"notify")}function removeObservablesKeyDependencies(e,t){e.forEach(removeKeyDependencies,{onDependencyChange:this.onDependencyChange,observable:t})}function addValueDependencies(e){!1===this.oldDependencies.valueDependencies.delete(e)&&canReflect_1_17_4_canReflect.onValue(e,this.onDependencyChange,"notify")}function removeValueDependencies(e){canReflect_1_17_4_canReflect.offValue(e,this.onDependencyChange,"notify")}var canObservation_4_1_0_recorderDependencyHelpers={updateObservations:function(e){e.newDependencies.keyDependencies.forEach(addObservablesNewKeyDependenciesIfNotInOld,e),e.oldDependencies.keyDependencies.forEach(removeObservablesKeyDependencies,e),e.newDependencies.valueDependencies.forEach(addValueDependencies,e),e.oldDependencies.valueDependencies.forEach(removeValueDependencies,e)},stopObserving:function(e,t){e.keyDependencies.forEach(removeObservablesKeyDependencies,{onDependencyChange:t}),e.valueDependencies.forEach(removeValueDependencies,{onDependencyChange:t})}},temporarilyBoundNoOperation=function(){},unbindTemporarilyBoundValue=function(){for(var e=0,t=observables.length;e<t;e++)canReflect_1_17_4_canReflect.offValue(observables[e],temporarilyBoundNoOperation);observables=null},observables;function temporarilyBind(e){var t=e.computeInstance||e;canReflect_1_17_4_canReflect.onValue(t,temporarilyBoundNoOperation),observables||(observables=[],setTimeout(unbindTemporarilyBoundValue,10)),observables.push(t)}var canObservation_4_1_0_temporarilyBind=temporarilyBind,dispatchSymbol=canSymbol_1_6_1_canSymbol.for("can.dispatch"),getChangesSymbol=canSymbol_1_6_1_canSymbol.for("can.getChangesDependencyRecord"),getValueDependenciesSymbol=canSymbol_1_6_1_canSymbol.for("can.getValueDependencies");function Observation(e,t,a){this.func=e,this.context=t,this.options=a||{priority:0,isObservable:!0},this.bound=!1,this._value=void 0,this.newDependencies=canObservationRecorder_1_2_0_canObservationRecorder.makeDependenciesRecord(),this.oldDependencies=null;var n=this;this.onDependencyChange=function(e){n.dependencyChange(this,e)},this.update=this.update.bind(this)}value(Observation.prototype),canReflect_1_17_4_canReflect.assign(Observation.prototype,{onBound:function(){this.bound=!0,this.oldDependencies=this.newDependencies,canObservationRecorder_1_2_0_canObservationRecorder.start(),this._value=this.func.call(this.context),this.newDependencies=canObservationRecorder_1_2_0_canObservationRecorder.stop(),canObservation_4_1_0_recorderDependencyHelpers.updateObservations(this)},dependencyChange:function(){if(!0===this.bound){var e=[];e=[this.update,this,[],{priority:this.options.priority}],canQueues_1_1_3_canQueues.deriveQueue.enqueue.apply(canQueues_1_1_3_canQueues.deriveQueue,e)}},update:function(){if(!0===this.bound){var e=this._value;this.oldValue=null,this.onBound(),e!==this._value&&this[dispatchSymbol](this._value,e)}},onUnbound:function(){this.bound=!1,canObservation_4_1_0_recorderDependencyHelpers.stopObserving(this.newDependencies,this.onDependencyChange),this.newDependencies=canObservationRecorder_1_2_0_canObservationRecorder.makeDependenciesRecorder()},get:function(){return this.options.isObservable&&canObservationRecorder_1_2_0_canObservationRecorder.isRecording()&&(canObservationRecorder_1_2_0_canObservationRecorder.add(this),!this.bound&&Observation.temporarilyBind(this)),!0===this.bound?(0<canQueues_1_1_3_canQueues.deriveQueue.tasksRemainingCount()&&Observation.updateChildrenAndSelf(this),this._value):this.func.call(this.context)},hasDependencies:function(){var e=this.newDependencies;return this.bound?0<e.valueDependencies.size+e.keyDependencies.size:void 0},log:function(){}}),Object.defineProperty(Observation.prototype,"value",{get:function(){return this.get()}});var observationProto={"can.getValue":Observation.prototype.get,"can.isValueLike":!0,"can.isMapLike":!1,"can.isListLike":!1,"can.valueHasDependencies":Observation.prototype.hasDependencies,"can.getValueDependencies":function(){if(!0===this.bound){var e=this.newDependencies,t={};return e.keyDependencies.size&&(t.keyDependencies=e.keyDependencies),e.valueDependencies.size&&(t.valueDependencies=e.valueDependencies),t}},"can.getPriority":function(){return this.options.priority},"can.setPriority":function(e){this.options.priority=e}};canReflect_1_17_4_canReflect.assignSymbols(Observation.prototype,observationProto),Observation.updateChildrenAndSelf=function(e){if(void 0!==e.update&&!0===canQueues_1_1_3_canQueues.deriveQueue.isEnqueued(e.update))return canQueues_1_1_3_canQueues.deriveQueue.flushQueuedTask(e.update),!0;if(e[getValueDependenciesSymbol]){var t=!1,a=e[getValueDependenciesSymbol]().valueDependencies||[];return a.forEach(function(e){!0===Observation.updateChildrenAndSelf(e)&&(t=!0)}),t}return!1};var alias={addAll:"addMany"};["add","addAll","ignore","trap","trapsCount","isRecording"].forEach(function(e){Observation[e]=function(){var t=alias[e]?alias[e]:e;return console.warn("can-observation: Call "+t+"() on can-observation-recorder."),canObservationRecorder_1_2_0_canObservationRecorder[t].apply(this,arguments)}}),Observation.prototype.start=function(){return console.warn("can-observation: Use .on and .off to bind."),this.onBound()},Observation.prototype.stop=function(){return console.warn("can-observation: Use .on and .off to bind."),this.onUnbound()},Observation.temporarilyBind=canObservation_4_1_0_temporarilyBind;var canObservation_4_1_0_canObservation=canNamespace_1_0_0_canNamespace.Observation=Observation,canSimpleObservable_2_2_0_log=function(){},dispatchSymbol$1=canSymbol_1_6_1_canSymbol.for("can.dispatch");function SimpleObservable(e){this.value=e}value(SimpleObservable.prototype),Object.assign(SimpleObservable.prototype,{log:canSimpleObservable_2_2_0_log,get:function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(this),this.value},set:function(e){var t=this.value;this.value=e,this[dispatchSymbol$1](e,t)}});var simpleObservableProto={"can.getValue":SimpleObservable.prototype.get,"can.setValue":SimpleObservable.prototype.set,"can.isMapLike":!1,"can.valueHasDependencies":function(){return!0}};canReflect_1_17_4_canReflect.assignSymbols(SimpleObservable.prototype,simpleObservableProto);var canSimpleObservable_2_2_0_canSimpleObservable=canNamespace_1_0_0_canNamespace.SimpleObservable=SimpleObservable,peek=canObservationRecorder_1_2_0_canObservationRecorder.ignore(canReflect_1_17_4_canReflect.getValue.bind(canReflect_1_17_4_canReflect));function SettableObservable(e,t,a){this.lastSetValue=new canSimpleObservable_2_2_0_canSimpleObservable(a),this.handler=this.handler.bind(this),this.observation=new canObservation_4_1_0_canObservation(function(){return e.call(t,this.lastSetValue.get())},this)}value(SettableObservable.prototype),Object.assign(SettableObservable.prototype,{log:canSimpleObservable_2_2_0_log,constructor:SettableObservable,handler:function(e){var t=this.value;this.value=e,canQueues_1_1_3_canQueues.enqueueByQueue(this.handlers.getNode([]),this,[e,t],function(){return{}})},onBound:function(){this.bound||(this.bound=!0,this.activate())},activate:function(){canReflect_1_17_4_canReflect.onValue(this.observation,this.handler,"notify"),this.value=peek(this.observation)},onUnbound:function(){this.bound=!1,canReflect_1_17_4_canReflect.offValue(this.observation,this.handler,"notify")},set:function(e){var t=this.lastSetValue.get();canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isValueLike(t)&&!canReflect_1_17_4_canReflect.isObservableLike(e)?canReflect_1_17_4_canReflect.setValue(t,e):e!==t&&this.lastSetValue.set(e)},get:function(){return canObservationRecorder_1_2_0_canObservationRecorder.isRecording()&&(canObservationRecorder_1_2_0_canObservationRecorder.add(this),!this.bound&&this.onBound()),!0===this.bound?this.value:this.observation.get()},hasDependencies:function(){return canReflect_1_17_4_canReflect.valueHasDependencies(this.observation)},getValueDependencies:function(){return canReflect_1_17_4_canReflect.getValueDependencies(this.observation)}}),canReflect_1_17_4_canReflect.assignSymbols(SettableObservable.prototype,{"can.getValue":SettableObservable.prototype.get,"can.setValue":SettableObservable.prototype.set,"can.isMapLike":!1,"can.getPriority":function(){return canReflect_1_17_4_canReflect.getPriority(this.observation)},"can.setPriority":function(e){canReflect_1_17_4_canReflect.setPriority(this.observation,e)},"can.valueHasDependencies":SettableObservable.prototype.hasDependencies,"can.getValueDependencies":SettableObservable.prototype.getValueDependencies});var settable=SettableObservable;function AsyncObservable(e,t,a){this.resolve=this.resolve.bind(this),this.lastSetValue=new canSimpleObservable_2_2_0_canSimpleObservable(a),this.handler=this.handler.bind(this),this.observation=new canObservation_4_1_0_canObservation(function(){this.resolveCalled=!1,this.inGetter=!0;var a=e.call(t,this.lastSetValue.get(),!0===this.bound?this.resolve:void 0);if(this.inGetter=!1,void 0===a?this.resolveCalled&&this.resolve(this.value):this.resolve(a),!0!==this.bound)return a},this)}AsyncObservable.prototype=Object.create(settable.prototype),AsyncObservable.prototype.constructor=AsyncObservable,AsyncObservable.prototype.handler=function(e){e!==void 0&&settable.prototype.handler.apply(this,arguments)};var peek$1=canObservationRecorder_1_2_0_canObservationRecorder.ignore(canReflect_1_17_4_canReflect.getValue.bind(canReflect_1_17_4_canReflect));AsyncObservable.prototype.activate=function(){canReflect_1_17_4_canReflect.onValue(this.observation,this.handler,"notify"),this.resolveCalled||(this.value=peek$1(this.observation))},AsyncObservable.prototype.resolve=function(e){this.resolveCalled=!0;var t=this.value;if(this.value=e,!this.inGetter){var a=[this.handlers.getNode([]),this,[e,t],null];canQueues_1_1_3_canQueues.enqueueByQueue.apply(canQueues_1_1_3_canQueues,a)}};var async=AsyncObservable;function dispatch(e){var t=this.eventHandlers[e];if(t)for(var a=t.slice(),n=this.getKeyValue(e),r=0;r<a.length;r++)a[r](n)}function Globals(){this.eventHandlers={},this.properties={}}Globals.prototype.define=function(e,t,a){return void 0===a&&(a=!0),this.properties[e]||(this.properties[e]={default:t,value:t,enableCache:a}),this},Globals.prototype.getKeyValue=function(e){var t=this.properties[e];if(t)return"function"==typeof t.value?t.cachedValue?t.cachedValue:t.enableCache?(t.cachedValue=t.value(),t.cachedValue):t.value():t.value},Globals.prototype.makeExport=function(e){return function(t){return 0===arguments.length?this.getKeyValue(e):"undefined"==typeof t||null===t?void this.deleteKeyValue(e):("function"==typeof t?this.setKeyValue(e,function(){return t}):this.setKeyValue(e,t),t)}.bind(this)},Globals.prototype.offKeyValue=function(e,t){if(this.properties[e]){var a=this.eventHandlers[e];if(a){var n=a.indexOf(t);a.splice(n,1)}}return this},Globals.prototype.onKeyValue=function(e,t){return this.properties[e]&&(!this.eventHandlers[e]&&(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)),this},Globals.prototype.deleteKeyValue=function(e){var t=this.properties[e];return void 0!==t&&(t.value=t.default,t.cachedValue=void 0,dispatch.call(this,e)),this},Globals.prototype.setKeyValue=function(e,t){if(!this.properties[e])return this.define(e,t);var a=this.properties[e];return a.value=t,a.cachedValue=void 0,dispatch.call(this,e),this},Globals.prototype.reset=function(){for(var e in this.properties)this.properties.hasOwnProperty(e)&&(this.properties[e].value=this.properties[e].default,this.properties[e].cachedValue=void 0,dispatch.call(this,e));return this},canReflect_1_17_4_canReflect.assignSymbols(Globals.prototype,{"can.getKeyValue":Globals.prototype.getKeyValue,"can.setKeyValue":Globals.prototype.setKeyValue,"can.deleteKeyValue":Globals.prototype.deleteKeyValue,"can.onKeyValue":Globals.prototype.onKeyValue,"can.offKeyValue":Globals.prototype.offKeyValue});var canGlobals_1_2_0_canGlobalsProto=Globals,canGlobals_1_2_0_canGlobalsInstance=createCommonjsModule(function(e){var t=new canGlobals_1_2_0_canGlobalsProto;if(canNamespace_1_0_0_canNamespace.globals)throw new Error("You can't have two versions of can-globals, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.globals=t});canGlobals_1_2_0_canGlobalsInstance.define("global",function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:"object"==typeof process&&"[object process]"==={}.toString.call(process)?commonjsGlobal:window});var global_1=canGlobals_1_2_0_canGlobalsInstance.makeExport("global");canGlobals_1_2_0_canGlobalsInstance.define("document",function(){return canGlobals_1_2_0_canGlobalsInstance.getKeyValue("global").document});var document$1=canGlobals_1_2_0_canGlobalsInstance.makeExport("document");canGlobals_1_2_0_canGlobalsInstance.define("isNode",function(){return"object"==typeof process&&"[object process]"==={}.toString.call(process)});var isNode=canGlobals_1_2_0_canGlobalsInstance.makeExport("isNode");canGlobals_1_2_0_canGlobalsInstance.define("isBrowserWindow",function(){var e=canGlobals_1_2_0_canGlobalsInstance.getKeyValue("isNode");return"undefined"!=typeof window&&"undefined"!=typeof document&&!1===e});var isBrowserWindow=canGlobals_1_2_0_canGlobalsInstance.makeExport("isBrowserWindow");function getTargetDocument(e){return e.ownerDocument||document$1()}function createEvent(e,t,a,n){var r=getTargetDocument(e),o=r.createEvent("HTMLEvents"),s;if("string"==typeof t)s=t;else for(var i in s=t.type,t)void 0===o[i]&&(o[i]=t[i]);return void 0===a&&(a=!0),o.initEvent(s,a,n),o}function isDomEventTarget(e){if(!(e&&e.nodeName))return e===window;var t=e.nodeType;return 1===t||9===t||11===t}function addDomContext(e,t){return isDomEventTarget(e)&&(t=Array.prototype.slice.call(t,0),t.unshift(e)),t}function removeDomContext(e,t){return isDomEventTarget(e)||(t=Array.prototype.slice.call(t,0),e=t.shift()),{context:e,args:t}}var fixSyntheticEventsOnDisabled=!1;(function(){if(isBrowserWindow()){var e=document.createElement("input");e.disabled=!0;var t=setTimeout(function(){fixSyntheticEventsOnDisabled=!0},50),a=function a(){clearTimeout(t),e.removeEventListener("fix_synthetic_events_on_disabled_test",a)};e.addEventListener("fix_synthetic_events_on_disabled_test",a);try{var n=document.create("HTMLEvents");n.initEvent("fix_synthetic_events_on_disabled_test",!1),e.dispatchEvent(n)}catch(t){a(),fixSyntheticEventsOnDisabled=!0}}})();function isDispatchingOnDisabled(e,t){var a=t.type,n=!!e.disabled;return("inserted"===a||"removed"===a)&&n}function forceEnabledForDispatch(e,t){return fixSyntheticEventsOnDisabled&&isDispatchingOnDisabled(e,t)}var util={createEvent:createEvent,addDomContext:addDomContext,removeDomContext:removeDomContext,isDomEventTarget:isDomEventTarget,getTargetDocument:getTargetDocument,forceEnabledForDispatch:forceEnabledForDispatch};function EventRegistry(){this._registry={}}var makeEventRegistry=function(){return new EventRegistry};EventRegistry.prototype.has=function(e){return!!this._registry[e]},EventRegistry.prototype.get=function(e){return this._registry[e]},EventRegistry.prototype.add=function(e,t){if(!e)throw new Error("An EventDefinition must be provided");if("function"!=typeof e.addEventListener)throw new TypeError("EventDefinition addEventListener must be a function");if("function"!=typeof e.removeEventListener)throw new TypeError("EventDefinition removeEventListener must be a function");if(t=t||e.defaultEventType,"string"!=typeof t)throw new TypeError("Event type must be a string, not "+t);if(this.has(t))throw new Error("Event \""+t+"\" is already registered");this._registry[t]=e;var a=this;return function(){a._registry[t]=void 0}};var useCapture=function(e){return"focus"===e||"blur"===e};function makeDelegator(e){var t=function(e){this.element=e,this.events={},this.delegated={}};return canReflect_1_17_4_canReflect.assignSymbols(t.prototype,{"can.setKeyValue":function(t,a){var n=this.delegated[t]=function(e){canReflect_1_17_4_canReflect.each(a,function(t,a){var n=e.target;do{var r=n===document?document.documentElement:n,o=r.matches||r.msMatchesSelector;o.call(r,a)&&t.forEach(function(t){t.call(r,e)}),n=n.parentNode}while(n&&n!==e.currentTarget)})};this.events[t]=a,e.addEventListener(this.element,t,n,useCapture(t))},"can.getKeyValue":function(e){return this.events[e]},"can.deleteKeyValue":function(t){e.removeEventListener(this.element,t,this.delegated[t],useCapture(t)),delete this.delegated[t],delete this.events[t]},"can.getOwnEnumerableKeys":function(){return Object.keys(this.events)}}),t}var MakeDelegateEventTree=function(e){var t=makeDelegator(e);return new canKeyTree_1_2_0_canKeyTree([Map,t,Object,Array])},domEvents={_eventRegistry:makeEventRegistry(),addEvent:function(e,t){return this._eventRegistry.add(e,t)},addEventListener:function(e,t){var a=domEvents._eventRegistry.has(t);if(a){var n=domEvents._eventRegistry.get(t);return n.addEventListener.apply(domEvents,arguments)}var r=Array.prototype.slice.call(arguments,1);return e.addEventListener.apply(e,r)},removeEventListener:function(e,t){var a=domEvents._eventRegistry.has(t);if(a){var n=domEvents._eventRegistry.get(t);return n.removeEventListener.apply(domEvents,arguments)}var r=Array.prototype.slice.call(arguments,1);return e.removeEventListener.apply(e,r)},addDelegateListener:function(e,t,a,n){domEvents._eventTree.add([e,t,a,n])},removeDelegateListener:function(e,t,a,n){domEvents._eventTree.delete([e,t,a,n])},dispatch:function(e,t,a,n){var r=util.createEvent(e,t,a,n),o=util.forceEnabledForDispatch(e,r);o&&(e.disabled=!1);var s=e.dispatchEvent(r);return o&&(e.disabled=!0),s}};domEvents._eventTree=MakeDelegateEventTree(domEvents);var canDomEvents_1_3_0_canDomEvents=canNamespace_1_0_0_canNamespace.domEvents=domEvents,isDomEventTarget$1=util.isDomEventTarget,metaSymbol=canSymbol_1_6_1_canSymbol.for("can.meta"),dispatchBoundChangeSymbol=canSymbol_1_6_1_canSymbol.for("can.dispatchInstanceBoundChange"),dispatchInstanceOnPatchesSymbol=canSymbol_1_6_1_canSymbol.for("can.dispatchInstanceOnPatches"),onKeyValueSymbol$1=canSymbol_1_6_1_canSymbol.for("can.onKeyValue"),offKeyValueSymbol=canSymbol_1_6_1_canSymbol.for("can.offKeyValue"),onEventSymbol=canSymbol_1_6_1_canSymbol.for("can.onEvent"),offEventSymbol=canSymbol_1_6_1_canSymbol.for("can.offEvent"),onValueSymbol$1=canSymbol_1_6_1_canSymbol.for("can.onValue"),offValueSymbol=canSymbol_1_6_1_canSymbol.for("can.offValue"),legacyMapBindings;function addHandlers(e,t){t.handlers||(t.handlers=new canKeyTree_1_2_0_canKeyTree([Object,Object,Object,Array],{onFirst:function(){e._eventSetup!==void 0&&e._eventSetup(),e.constructor[dispatchBoundChangeSymbol]&&e.constructor[dispatchBoundChangeSymbol](e,!0)},onEmpty:function(){e._eventTeardown!==void 0&&e._eventTeardown(),e.constructor[dispatchBoundChangeSymbol]&&e.constructor[dispatchBoundChangeSymbol](e,!1)}})),t.listenHandlers||(t.listenHandlers=new canKeyTree_1_2_0_canKeyTree([Map,Map,Object,Array]))}var ensureMeta=function(e){var t=e[metaSymbol];return t||(t={},canReflect_1_17_4_canReflect.setKeyValue(e,metaSymbol,t)),addHandlers(e,t),t};function stopListeningArgumentsToKeys(e,t,a,n){arguments.length&&canReflect_1_17_4_canReflect.isPrimitive(e)&&(n=a,a=t,t=e,e=this.context),"function"==typeof t&&(n=a,a=t,t=void 0),"string"==typeof a&&(n=a,a=void 0);var r=[];return e&&(r.push(e),(t||a||n)&&(r.push(t),(n||a)&&(r.push(n||this.defaultQueue),a&&r.push(a)))),r}var props={dispatch:function(e,t){if(!this.__inSetup){"string"==typeof e&&(e={type:e});var a=ensureMeta(this),n=a.handlers,r=void 0!==e.type&&n.getNode([e.type]),o=e.patches&&this.constructor[dispatchInstanceOnPatchesSymbol],s=void 0!==e.patches&&n.getNode(["can.patches","onKeyValue"]),i=void 0!==e.keyChanged&&n.getNode(["can.keys","onKeyValue"]),l=o||r||s||i;if(l&&canQueues_1_1_3_canQueues.batch.start(),r&&(r.onKeyValue&&canQueues_1_1_3_canQueues.enqueueByQueue(r.onKeyValue,this,t,e.makeMeta,e.reasonLog),r.event)){e.batchNum=canQueues_1_1_3_canQueues.batch.number();var d=[e].concat(t);canQueues_1_1_3_canQueues.enqueueByQueue(r.event,this,d,e.makeMeta,e.reasonLog)}i&&canQueues_1_1_3_canQueues.enqueueByQueue(i,this,[e.keyChanged],e.makeMeta,e.reasonLog),s&&canQueues_1_1_3_canQueues.enqueueByQueue(s,this,[e.patches],e.makeMeta,e.reasonLog),o&&this.constructor[dispatchInstanceOnPatchesSymbol](this,e.patches),l&&canQueues_1_1_3_canQueues.batch.stop()}return e},addEventListener:function(e,t,a){return ensureMeta(this).handlers.add([e,"event",a||"mutate",t]),this},removeEventListener:function(e,t,a){if(e===void 0){var n=ensureMeta(this).handlers,r=n.getNode([]);Object.keys(r).forEach(function(e){n.delete([e,"event"])})}else t||a?t?ensureMeta(this).handlers.delete([e,"event",a||"mutate",t]):ensureMeta(this).handlers.delete([e,"event",a||"mutate"]):ensureMeta(this).handlers.delete([e,"event"]);return this},one:function(e,t){var a=function(){return legacyMapBindings.off.call(this,e,a),t.apply(this,arguments)};return legacyMapBindings.on.call(this,e,a),this},listenTo:function(e,t,a,n){return canReflect_1_17_4_canReflect.isPrimitive(e)&&(n=a,a=t,t=e,e=this),"function"==typeof t&&(n=a,a=t,t=void 0),ensureMeta(this).listenHandlers.add([e,t,n||"mutate",a]),legacyMapBindings.on.call(e,t,a,n||"mutate"),this},stopListening:function(){function e(e,t,a,n){legacyMapBindings.off.call(e,t,n,a)}var t=stopListeningArgumentsToKeys.apply({context:this,defaultQueue:"mutate"},arguments),a=ensureMeta(this).listenHandlers;return a.delete(t,e),this},on:function(e,t,a){var n=isDomEventTarget$1(this);if(n)"string"==typeof t?canDomEvents_1_3_0_canDomEvents.addDelegateListener(this,e,t,a):canDomEvents_1_3_0_canDomEvents.addEventListener(this,e,t,a);else if("addEventListener"in this)this.addEventListener(e,t,a);else if(this[onKeyValueSymbol$1])canReflect_1_17_4_canReflect.onKeyValue(this,e,t,a);else if(this[onEventSymbol])this[onEventSymbol](e,t,a);else if(!e&&this[onValueSymbol$1])canReflect_1_17_4_canReflect.onValue(this,t,a);else throw new Error("can-event-queue: Unable to bind "+e);return this},off:function(e,t,a){var n=isDomEventTarget$1(this);if(n)"string"==typeof t?canDomEvents_1_3_0_canDomEvents.removeDelegateListener(this,e,t,a):canDomEvents_1_3_0_canDomEvents.removeEventListener(this,e,t,a);else if("removeEventListener"in this)this.removeEventListener(e,t,a);else if(this[offKeyValueSymbol])canReflect_1_17_4_canReflect.offKeyValue(this,e,t,a);else if(this[offEventSymbol])this[offEventSymbol](e,t,a);else if(!e&&this[offValueSymbol])canReflect_1_17_4_canReflect.offValue(this,t,a);else throw new Error("can-event-queue: Unable to unbind "+e);return this}},symbols$1={"can.onKeyValue":function(e,t,a){ensureMeta(this).handlers.add([e,"onKeyValue",a||"mutate",t])},"can.offKeyValue":function(e,t,a){ensureMeta(this).handlers.delete([e,"onKeyValue",a||"mutate",t])},"can.isBound":function(){return!ensureMeta(this).handlers.isEmpty()},"can.getWhatIChange":function(){},"can.onPatches":function(e,t){var a=ensureMeta(this).handlers;a.add(["can.patches","onKeyValue",t||"notify",e])},"can.offPatches":function(e,t){var a=ensureMeta(this).handlers;a.delete(["can.patches","onKeyValue",t||"notify",e])}};function defineNonEnumerable(e,t,a){Object.defineProperty(e,t,{enumerable:!1,value:a})}legacyMapBindings=function(e){return canReflect_1_17_4_canReflect.assignMap(e,props),canReflect_1_17_4_canReflect.assignSymbols(e,symbols$1)},defineNonEnumerable(legacyMapBindings,"addHandlers",addHandlers),defineNonEnumerable(legacyMapBindings,"stopListeningArgumentsToKeys",stopListeningArgumentsToKeys),props.bind=props.addEventListener,props.unbind=props.removeEventListener,canReflect_1_17_4_canReflect.assignMap(legacyMapBindings,props),canReflect_1_17_4_canReflect.assignSymbols(legacyMapBindings,symbols$1),defineNonEnumerable(legacyMapBindings,"start",function(){console.warn("use can-queues.batch.start()"),canQueues_1_1_3_canQueues.batch.start()}),defineNonEnumerable(legacyMapBindings,"stop",function(){console.warn("use can-queues.batch.stop()"),canQueues_1_1_3_canQueues.batch.stop()}),defineNonEnumerable(legacyMapBindings,"flush",function(){console.warn("use can-queues.flush()"),canQueues_1_1_3_canQueues.flush()}),defineNonEnumerable(legacyMapBindings,"afterPreviousEvents",function(e){console.warn("don't use afterPreviousEvents"),canQueues_1_1_3_canQueues.mutateQueue.enqueue(function(){canQueues_1_1_3_canQueues.mutateQueue.enqueue(e)}),canQueues_1_1_3_canQueues.flush()}),defineNonEnumerable(legacyMapBindings,"after",function(e){console.warn("don't use after"),canQueues_1_1_3_canQueues.mutateQueue.enqueue(e),canQueues_1_1_3_canQueues.flush()});var map$1=legacyMapBindings,getChangesSymbol$1=canSymbol_1_6_1_canSymbol.for("can.getChangesDependencyRecord");function ResolverObservable(e,t){this.resolver=canObservationRecorder_1_2_0_canObservationRecorder.ignore(e),this.context=t,this.valueOptions={resolve:this.resolve.bind(this),listenTo:this.listenTo.bind(this),stopListening:this.stopListening.bind(this),lastSet:new canSimpleObservable_2_2_0_canSimpleObservable(void 0)},this.update=this.update.bind(this),this.contextHandlers=new WeakMap,this.teardown=null,this.binder={}}ResolverObservable.prototype=Object.create(settable.prototype);function deleteHandler(e,t,a,n){map$1.off.call(e,t,n,a)}canReflect_1_17_4_canReflect.assignMap(ResolverObservable.prototype,{constructor:ResolverObservable,listenTo:function(e,t,a,n){canReflect_1_17_4_canReflect.isPrimitive(e)&&(a=t,t=e,e=this.context),"function"==typeof t&&(a=t,t=void 0);var r=this,o=a.bind(this.context);o[getChangesSymbol$1]=function(){return{valueDependencies:new Set([r])}},this.contextHandlers.set(a,o),map$1.listenTo.call(this.binder,e,t,o,n||"notify")},stopListening:function(){var e=this.binder[canSymbol_1_6_1_canSymbol.for("can.meta")],t=e&&e.listenHandlers;if(t){var a=map$1.stopListeningArgumentsToKeys.call({context:this.context,defaultQueue:"notify"});t.delete(a,deleteHandler)}return this},resolve:function(e){if(this.value=e,this.isBinding)return this.lastValue=this.value,e;if(this.value!==this.lastValue){canQueues_1_1_3_canQueues.batch.start(),canQueues_1_1_3_canQueues.deriveQueue.enqueue(this.update,this,[],{}),canQueues_1_1_3_canQueues.batch.stop()}return e},update:function(){if(this.lastValue!==this.value){var e=this.lastValue;this.lastValue=this.value,canQueues_1_1_3_canQueues.enqueueByQueue(this.handlers.getNode([]),this,[this.value,e])}},activate:function(){this.isBinding=!0,this.teardown=this.resolver.call(this.context,this.valueOptions),this.isBinding=!1},onUnbound:function(){this.bound=!1,map$1.stopListening.call(this.binder),null!=this.teardown&&(this.teardown(),this.teardown=null)},set:function(e){this.valueOptions.lastSet.set(e)},get:function(){if(canObservationRecorder_1_2_0_canObservationRecorder.isRecording()&&(canObservationRecorder_1_2_0_canObservationRecorder.add(this),!this.bound&&this.onBound()),!0===this.bound)return this.value;var e=function(){};this.on(e);var t=this.value;return this.off(e),t},hasDependencies:function e(){var e=!1;if(this.bound){var t=this.binder[canSymbol_1_6_1_canSymbol.for("can.meta")],a=t&&t.listenHandlers;e=!!a.size()}return e},getValueDependencies:function(){if(this.bound){var e=this.binder[canSymbol_1_6_1_canSymbol.for("can.meta")],t=e&&e.listenHandlers,a=new Map,n=new Set;if(t&&(canReflect_1_17_4_canReflect.each(t.root,function(e,t){canReflect_1_17_4_canReflect.each(e,function(e,r){if(void 0===r)n.add(t);else{var o=a.get(t);o||(o=new Set,a.set(t,o)),o.add(r)}})}),n.size||a.size)){var r={};return a.size&&(r.keyDependencies=a),n.size&&(r.valueDependencies=n),r}}}}),canReflect_1_17_4_canReflect.assignSymbols(ResolverObservable.prototype,{"can.getValue":ResolverObservable.prototype.get,"can.setValue":ResolverObservable.prototype.set,"can.isMapLike":!1,"can.getPriority":function(){return this.priority||0},"can.setPriority":function(e){this.priority=e},"can.valueHasDependencies":ResolverObservable.prototype.hasDependencies,"can.getValueDependencies":ResolverObservable.prototype.getValueDependencies});var resolver=ResolverObservable,metaSymbol$1=canSymbol_1_6_1_canSymbol.for("can.meta");function addHandlers$1(e,t){t.lifecycleHandlers||(t.lifecycleHandlers=new canKeyTree_1_2_0_canKeyTree([Object,Array])),t.instancePatchesHandlers||(t.instancePatchesHandlers=new canKeyTree_1_2_0_canKeyTree([Object,Array]))}function ensureMeta$1(e){var t=e[metaSymbol$1];return t||(t={},canReflect_1_17_4_canReflect.setKeyValue(e,metaSymbol$1,t)),addHandlers$1(e,t),t}var props$1={};function onOffAndDispatch(e,t,a){props$1["can.on"+e]=function(e,t){ensureMeta$1(this)[a].add([t||"mutate",e])},props$1["can.off"+e]=function(e,t){ensureMeta$1(this)[a].delete([t||"mutate",e])},props$1["can."+t]=function(e,t){canQueues_1_1_3_canQueues.enqueueByQueue(ensureMeta$1(this)[a].getNode([]),this,[e,t])}}onOffAndDispatch("InstancePatches","dispatchInstanceOnPatches","instancePatchesHandlers"),onOffAndDispatch("InstanceBoundChange","dispatchInstanceBoundChange","lifecycleHandlers");function mixinTypeBindings(e){return canReflect_1_17_4_canReflect.assignSymbols(e,props$1)}Object.defineProperty(mixinTypeBindings,"addHandlers",{enumerable:!1,value:addHandlers$1});var type$1=mixinTypeBindings,canStringToAny_1_2_0_canStringToAny=function(e){switch(e){case"NaN":case"Infinity":return+e;case"null":return null;case"undefined":return;case"true":case"false":return"true"===e;default:var t=+e;return isNaN(t)?e:t;}};function toBoolean(e){return null==e?e:!!("false"!==e&&"0"!==e&&e)}var maybeBoolean=canReflect_1_17_4_canReflect.assignSymbols(toBoolean,{"can.new":toBoolean,"can.getSchema":function(){return{type:"Or",values:[!0,!1,void 0,null]}},"can.getName":function(){return"MaybeBoolean"},"can.isMember":function(e){return null==e||"boolean"==typeof e}});function toDate(e){var t=typeof e;return"string"==t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"==t?new Date(e):e}function DateStringSet(e){this.setValue=e;var t=toDate(e);this.value=null==t?t:t.getTime()}DateStringSet.prototype.valueOf=function(){return this.value},canReflect_1_17_4_canReflect.assignSymbols(DateStringSet.prototype,{"can.serialize":function(){return this.setValue}});var maybeDate=canReflect_1_17_4_canReflect.assignSymbols(toDate,{"can.new":toDate,"can.getSchema":function(){return{type:"Or",values:[Date,void 0,null]}},"can.ComparisonSetType":DateStringSet,"can.getName":function(){return"MaybeDate"},"can.isMember":function(e){return null==e||e instanceof Date}});function toNumber(e){return null==e?e:+e}var maybeNumber=canReflect_1_17_4_canReflect.assignSymbols(toNumber,{"can.new":toNumber,"can.getSchema":function(){return{type:"Or",values:[Number,void 0,null]}},"can.getName":function(){return"MaybeNumber"},"can.isMember":function(e){return null==e||"number"==typeof e}});function toString(e){return null==e?e:""+e}var maybeString=canReflect_1_17_4_canReflect.assignSymbols(toString,{"can.new":toString,"can.getSchema":function(){return{type:"Or",values:[String,void 0,null]}},"can.getName":function(){return"MaybeString"},"can.isMember":function(e){return null==e||"string"==typeof e}}),newSymbol$1=canSymbol_1_6_1_canSymbol.for("can.new"),serializeSymbol=canSymbol_1_6_1_canSymbol.for("can.serialize"),eventsProto,define,make,makeDefinition,getDefinitionsAndMethods,getDefinitionOrMethod;function isDefineType(e){return e&&(!0===e.canDefineType||e[newSymbol$1])}var peek$2=canObservationRecorder_1_2_0_canObservationRecorder.ignore(canReflect_1_17_4_canReflect.getValue.bind(canReflect_1_17_4_canReflect)),Object_defineNamedPrototypeProperty=Object.defineProperty;function defineConfigurableAndNotEnumerable(e,t,a){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:a})}function eachPropertyDescriptor(e,t){for(var a in e)e.hasOwnProperty(a)&&t.call(e,a,Object.getOwnPropertyDescriptor(e,a))}function cleanUpDefinition(e,t){t.value!==void 0&&("function"!=typeof t.value||0===t.value.length)&&(t.default=t.value,delete t.value),t.Value!==void 0&&(t.Default=t.Value,delete t.Value)}function isValueResolver(e){return"function"==typeof e.value&&e.value.length}var canDefine_2_5_8_canDefine=define=canNamespace_1_0_0_canNamespace.define=function(e,t,a){var n=Object.create(a?a.dataInitializers:null),r=Object.create(a?a.computedInitializers:null),o=getDefinitionsAndMethods(t,a,e),s;if(o.dataInitializers=n,o.computedInitializers=r,canReflect_1_17_4_canReflect.eachKey(o.definitions,function(t,a){define.property(e,a,t,n,r,o.defaultDefinition)}),e.hasOwnProperty("_data"))for(s in n)canDefineLazyValue_1_1_0_defineLazyValue(e._data,s,n[s].bind(e),!0);else canDefineLazyValue_1_1_0_defineLazyValue(e,"_data",function(){var e=this,t={};for(var a in n)canDefineLazyValue_1_1_0_defineLazyValue(t,a,n[a].bind(e),!0);return t});if(e.hasOwnProperty("_computed"))for(s in r)canDefineLazyValue_1_1_0_defineLazyValue(e._computed,s,r[s].bind(e));else canDefineLazyValue_1_1_0_defineLazyValue(e,"_computed",function(){var e=this,t=Object.create(null);for(var a in r)canDefineLazyValue_1_1_0_defineLazyValue(t,a,r[a].bind(e));return t});for(s in eventsProto)Object.defineProperty(e,s,{enumerable:!1,value:eventsProto[s],configurable:!0,writable:!0});Object.defineProperty(e,"_define",{enumerable:!1,value:o,configurable:!0,writable:!0});var i=canSymbol_1_6_1_canSymbol.iterator||canSymbol_1_6_1_canSymbol.for("iterator");return e[i]||defineConfigurableAndNotEnumerable(e,i,function(){return new define.Iterator(this)}),o},onlyType=function(e){for(var t in e)if("type"!=t)return!1;return!0};define.extensions=function(){},define.property=function(e,t,a,n,r,o){var s=define.extensions.apply(this,arguments);s&&(a=makeDefinition(t,s,o||{},e));var i=a.type;if(i&&onlyType(a)&&i===define.types["*"])return void Object_defineNamedPrototypeProperty(e,t,{get:make.get.data(t),set:make.set.events(t,make.get.data(t),make.set.data(t),make.eventType.data(t)),enumerable:!0,configurable:!0});a.type=i;var l=a.get||isValueResolver(a)?"computed":"data",d=make.read[l](t),p=make.get[l](t),c=make.set[l](t),u=function(e){return e},y;a.Type&&(u=make.set.Type(t,a.Type,u)),i&&(u=make.set.type(t,i,u));var h=make.set.events(t,d,c,make.eventType[l](t));isValueResolver(a)?r[t]=make.valueResolver(t,a,u):(a.default!==void 0||a.Default!==void 0)&&(y=canObservationRecorder_1_2_0_canObservationRecorder.ignore(make.get.defaultValue(t,a,u,h))),a.get?r[t]=make.compute(t,a.get,y):y&&(n[t]=y),a.get&&a.set?c=make.set.setter(t,a.set,make.read.lastSet(t),c,!0):a.set?c=make.set.setter(t,a.set,d,h,!1):"data"==l?c=h:a.get&&1>a.get.length&&(c=function(){}),i&&(c=make.set.type(t,i,c)),a.Type&&(c=make.set.Type(t,a.Type,c)),Object_defineNamedPrototypeProperty(e,t,{get:p,set:c,enumerable:"serialize"in a?!!a.serialize:!a.get,configurable:!0})},define.makeDefineInstanceKey=function(e){e[canSymbol_1_6_1_canSymbol.for("can.defineInstanceKey")]=function(t,a){var n=this.prototype._define;"object"==typeof a&&cleanUpDefinition(t,a,!1,this);var r=getDefinitionOrMethod(t,a,n.defaultDefinition,this);r&&"object"==typeof r?(define.property(e.prototype,t,r,n.dataInitializers,n.computedInitializers,n.defaultDefinition),n.definitions[t]=r):n.methods[t]=r}},define.Constructor=function(e,t){var a=function(e){Object.defineProperty(this,"__inSetup",{configurable:!0,enumerable:!1,value:!0,writable:!0}),define.setup.call(this,e,t),this.__inSetup=!1},n=define(a.prototype,e);return type$1(a),define.makeDefineInstanceKey(a,n),a},make={computeObj:function(e,t,a){var n={oldValue:void 0,compute:a,count:0,handler:function(a){var r=n.oldValue;n.oldValue=a,e.dispatch({type:t,target:e},[a,r])}};return n},valueResolver:function(e,t){return function(){var a=this,n=make.computeObj(a,e,new resolver(t.value,a));return n}},compute:function(e,t,a){return function(){var n=this,r=a&&a.call(this),o,s;return o=0===t.length?new canObservation_4_1_0_canObservation(t,n):1===t.length?new settable(t,n,r):new async(t,n,r),s=make.computeObj(n,e,o),s}},set:{data:function(e){return function(t){this._data[e]=t}},computed:function(e){return function(t){canReflect_1_17_4_canReflect.setValue(this._computed[e].compute,t)}},events:function(e,t,a){return function(n){if(this.__inSetup)a.call(this,n);else{var r=t.call(this);if(n!==r){var o;a.call(this,n),o={patches:[{type:"set",key:e,value:n}],type:e,target:this},this.dispatch(o,[n,r])}}}},setter:function(e,t,a,n,r){return function(e){var o=this;canQueues_1_1_3_canQueues.batch.start();var s=!1,i=a.call(this),l=t.call(this,e,function(e){n.call(o,e),s=!0},i);if(s)canQueues_1_1_3_canQueues.batch.stop();else if(r){if(void 0!==l)i!==l&&n.call(this,l),canQueues_1_1_3_canQueues.batch.stop();else{if(0===t.length)return n.call(this,e),void canQueues_1_1_3_canQueues.batch.stop();if(1===t.length)canQueues_1_1_3_canQueues.batch.stop();else return void canQueues_1_1_3_canQueues.batch.stop()}}else if(void 0!==l)n.call(this,l),canQueues_1_1_3_canQueues.batch.stop();else{if(0===t.length)return n.call(this,e),void canQueues_1_1_3_canQueues.batch.stop();if(1===t.length)n.call(this,void 0),canQueues_1_1_3_canQueues.batch.stop();else return void canQueues_1_1_3_canQueues.batch.stop()}}},type:function(e,t,a){function n(n){return a.call(this,t.call(this,n,e))}return isDefineType(t)?t.canDefineType?n:function(e){return a.call(this,canReflect_1_17_4_canReflect.convert(e,t))}:"object"==typeof t?make.set.Type(e,t,a):n},Type:function(e,t,a){return Array.isArray(t)&&define.DefineList?t=define.DefineList.extend({"#":t[0]}):"object"==typeof t&&(define.DefineMap?t=define.DefineMap.extend(t):t=define.Constructor(t)),function(e){return e instanceof t||null==e?a.call(this,e):a.call(this,new t(e))}}},eventType:{data:function(e){return function(t,a){return a!==void 0||this._data.hasOwnProperty(e)?"set":"add"}},computed:function(){return function(){return"set"}}},read:{data:function(e){return function(){return this._data[e]}},computed:function(e){return function(){return canReflect_1_17_4_canReflect.getValue(this._computed[e].compute)}},lastSet:function(e){return function(){var t=this._computed[e].compute;if(t.lastSetValue)return canReflect_1_17_4_canReflect.getValue(t.lastSetValue)}}},get:{defaultValue:function(e,t,a,n){return function(){var r=t.default;if(r!==void 0)"function"==typeof r&&(r=r.call(this)),r=a.call(this,r);else{var o=t.Default;o&&(r=a.call(this,new o))}if(t.set){var s=!0,i=make.set.setter(e,t.set,function(){},function(e){s?l=e:n.call(this,e)},t.get),l;return i.call(this,r),s=!1,l}return r}},data:function(e){return function(){return this.__inSetup||canObservationRecorder_1_2_0_canObservationRecorder.add(this,e),this._data[e]}},computed:function(e){return function(){var t=this._computed[e].compute;return canObservationRecorder_1_2_0_canObservationRecorder.isRecording()&&(canObservationRecorder_1_2_0_canObservationRecorder.add(this,e),!canReflect_1_17_4_canReflect.isBound(t)&&canObservation_4_1_0_canObservation.temporarilyBind(t)),peek$2(t)}}}},define.behaviors=["get","set","value","Value","type","Type","serialize"];var addBehaviorToDefinition=function(e,t,a){if("enumerable"===t)e.serialize=!!a;else if("type"===t){var n=a;"string"==typeof n&&(n=define.types[n],"object"==typeof n&&!isDefineType(n)&&(canAssign_1_3_1_canAssign(e,n),n=n[t])),"undefined"!=typeof n&&(e[t]=n)}else e[t]=a};makeDefinition=function(e,t,a,n){var r={};if(canReflect_1_17_4_canReflect.eachKey(t,function(e,t){addBehaviorToDefinition(r,t,e)}),canReflect_1_17_4_canReflect.eachKey(a,function(e,t){void 0===r[t]&&"type"!==t&&"Type"!==t&&(r[t]=e)}),t.Type){var o=t.Type,s=o[serializeSymbol];s&&(r.serialize=function(e){return s.call(e)}),o[newSymbol$1]&&(r.type=o[newSymbol$1],delete r.Type)}if("string"!=typeof t.type){if(!r.type&&!r.Type){var i=canReflect_1_17_4_canReflect.assignMap({},a);r=canReflect_1_17_4_canReflect.assignMap(i,r)}0===canReflect_1_17_4_canReflect.size(r)&&(r.type=define.types["*"])}return cleanUpDefinition(e,r,!0,n),r},getDefinitionOrMethod=function(e,t,a,n){var r;return"string"==typeof t?r={type:t}:t&&(t[serializeSymbol]||t[newSymbol$1])?r={Type:t}:"function"==typeof t?canReflect_1_17_4_canReflect.isConstructorLike(t)&&(r={Type:t}):Array.isArray(t)?r={Type:t}:canReflect_1_17_4_canReflect.isPlainObject(t)&&(r=t),r?makeDefinition(e,r,a,n):t},getDefinitionsAndMethods=function(e,t,a){var n=Object.create(t?t.definitions:null),r={},o=e["*"],s;return o?(delete e["*"],s=getDefinitionOrMethod("*",o,{})):s=Object.create(null),eachPropertyDescriptor(e,function(e,t){var o;if(o=t.get||t.set?{get:t.get,set:t.set}:t.value,"constructor"===e)return void(r[e]=o);var i=getDefinitionOrMethod(e,o,s,a);i&&"object"==typeof i&&0<canReflect_1_17_4_canReflect.size(i)?n[e]=i:"function"==typeof i&&(r[e]=i)}),o&&(e["*"]=o),{definitions:n,methods:r,defaultDefinition:s}},eventsProto=map$1({});function setupComputed(e,t){var a=e._computed&&e._computed[t];a&&a.compute&&(a.count?a.count++:(a.count=1,canReflect_1_17_4_canReflect.onValue(a.compute,a.handler,"notify"),a.oldValue=canReflect_1_17_4_canReflect.getValue(a.compute)))}function teardownComputed(e,t){var a=e._computed&&e._computed[t];a&&(1===a.count?(a.count=0,canReflect_1_17_4_canReflect.offValue(a.compute,a.handler,"notify")):a.count--)}var canMetaSymbol=canSymbol_1_6_1_canSymbol.for("can.meta");canAssign_1_3_1_canAssign(eventsProto,{_eventSetup:function(){},_eventTeardown:function(){},addEventListener:function(e){return setupComputed(this,e),map$1.addEventListener.apply(this,arguments)},removeEventListener:function(e){return teardownComputed(this,e),map$1.removeEventListener.apply(this,arguments)}}),eventsProto.on=eventsProto.bind=eventsProto.addEventListener,eventsProto.off=eventsProto.unbind=eventsProto.removeEventListener;var onKeyValueSymbol$2=canSymbol_1_6_1_canSymbol.for("can.onKeyValue"),offKeyValueSymbol$1=canSymbol_1_6_1_canSymbol.for("can.offKeyValue");canReflect_1_17_4_canReflect.assignSymbols(eventsProto,{"can.onKeyValue":function(e){return setupComputed(this,e),map$1[onKeyValueSymbol$2].apply(this,arguments)},"can.offKeyValue":function(e){return teardownComputed(this,e),map$1[offKeyValueSymbol$1].apply(this,arguments)}}),delete eventsProto.one,define.setup=function(e){Object.defineProperty(this,"constructor",{value:this.constructor,enumerable:!1,writable:!1}),Object.defineProperty(this,canMetaSymbol,{value:Object.create(null),enumerable:!1,writable:!1});var t=this._define.definitions,a=Object.create(null),n=this;canReflect_1_17_4_canReflect.eachKey(e,function(e,r){if(t[r]!==void 0)n[r]=e;else{var o=define.makeSimpleGetterSetter(r);a[r]={},Object_defineNamedPrototypeProperty(n,r,o),n[r]=define.types.observable(e)}}),0<canReflect_1_17_4_canReflect.size(a)&&defineConfigurableAndNotEnumerable(this,"_instanceDefinitions",a)},define.replaceWith=canDefineLazyValue_1_1_0_defineLazyValue,define.eventsProto=eventsProto,define.defineConfigurableAndNotEnumerable=defineConfigurableAndNotEnumerable,define.make=make,define.getDefinitionOrMethod=getDefinitionOrMethod,define._specialKeys={_data:!0,_computed:!0};var simpleGetterSetters={};define.makeSimpleGetterSetter=function(e){if(simpleGetterSetters[e]===void 0){var t=make.set.events(e,make.get.data(e),make.set.data(e),make.eventType.data(e));simpleGetterSetters[e]={get:make.get.data(e),set:function(e){return t.call(this,define.types.observable(e))},enumerable:!0,configurable:!0}}return simpleGetterSetters[e]},define.Iterator=function(e){this.obj=e,this.definitions=Object.keys(e._define.definitions),this.instanceDefinitions=e._instanceDefinitions?Object.keys(e._instanceDefinitions):Object.keys(e),this.hasGet="function"==typeof e.get},define.Iterator.prototype.next=function(){var e;if(this.definitions.length){e=this.definitions.shift();var t=this.obj._define.definitions[e];if(t.get)return this.next()}else if(this.instanceDefinitions.length)e=this.instanceDefinitions.shift();else return{value:void 0,done:!0};return{value:[e,this.hasGet?this.obj.get(e):this.obj[e]],done:!1}};function isObservableValue(e){return canReflect_1_17_4_canReflect.isValueLike(e)&&canReflect_1_17_4_canReflect.isObservableLike(e)}define.types={date:maybeDate,number:maybeNumber,boolean:maybeBoolean,observable:function(e){return Array.isArray(e)&&define.DefineList?e=new define.DefineList(e):canReflect_1_17_4_canReflect.isPlainObject(e)&&define.DefineMap&&(e=new define.DefineMap(e)),e},stringOrObservable:function(e){return Array.isArray(e)?new define.DefaultList(e):canReflect_1_17_4_canReflect.isPlainObject(e)?new define.DefaultMap(e):canReflect_1_17_4_canReflect.convert(e,define.types.string)},htmlbool:function(e){return""===e||!!canStringToAny_1_2_0_canStringToAny(e)},"*":function(e){return e},any:function(e){return e},string:maybeString,compute:{set:function(e,t,a,n){return isObservableValue(e)?e:isObservableValue(n)?(canReflect_1_17_4_canReflect.setValue(n,e),n):e},get:function(e){return isObservableValue(e)?canReflect_1_17_4_canReflect.getValue(e):e}}},define.updateSchemaKeys=function(e,t){for(var a in t){var n=t[a];!1!==n.serialize&&(e.keys[a]=n.type?n.type:function(e){return e},!0===t[a].identity&&e.identity.push(a))}return e};var initializing=0,Construct=function(){if(arguments.length)return Construct.extend.apply(Construct,arguments)},canGetDescriptor;try{canGetDescriptor=!0}catch(t){canGetDescriptor=!1}var getDescriptor=function(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return a&&(a.get||a.set)?a:null},inheritGetterSetter=function(e,t,a){a=a||e;var n;for(var r in e)(n=getDescriptor(e,r))?this._defineProperty(a,t,r,n):Construct._overwrite(a,t,r,e[r])},simpleInherit=function(e,t,a){for(var n in a=a||e,e)Construct._overwrite(a,t,n,e[n])};canReflect_1_17_4_canReflect.assignMap(Construct,{constructorExtends:!0,newInstance:function(){var e=this.instance(),t;if(e.setup){if(Object.defineProperty(e,"__inSetup",{configurable:!0,enumerable:!1,value:!0,writable:!0}),t=e.setup.apply(e,arguments),t instanceof Construct.ReturnValue)return t.value;e.__inSetup=!1}return e.init&&e.init.apply(e,t||arguments),e},_inherit:canGetDescriptor?inheritGetterSetter:simpleInherit,_defineProperty:function(e,t,a,n){Object.defineProperty(e,a,n)},_overwrite:function(e,t,a,n){Object.defineProperty(e,a,{value:n,configurable:!0,enumerable:!0,writable:!0})},setup:function(e){var t=canReflect_1_17_4_canReflect.assignDeepMap({},e.defaults);this.defaults=canReflect_1_17_4_canReflect.assignDeepMap(t,this.defaults)},instance:function(){initializing=1;var e=new this;return initializing=0,e},extend:function(e,a,n){function r(){if(!initializing)return(!this||this.constructor!==p)&&arguments.length&&p.constructorExtends?p.extend.apply(p,arguments):p.newInstance.apply(p,arguments)}var o=e,s=a,i=n;"string"!=typeof o&&(i=s,s=o,o=null),i||(i=s,s=null),i=i||{};var l=this,d=this.prototype,p,c;for(var u in c=this.instance(),Construct._inherit(i,d,c),o||(s&&s.shortName?o=s.shortName:this.shortName&&(o=this.shortName)),p="function"==typeof namedCtor?namedCtor(constructorName,r):function(){return r.apply(this,arguments)},l)l.hasOwnProperty(u)&&(p[u]=l[u]);if(Construct._inherit(s,l,p),canReflect_1_17_4_canReflect.assignMap(p,{constructor:p,prototype:c}),void 0!==o){if(Object.getOwnPropertyDescriptor){var y=Object.getOwnPropertyDescriptor(p,"name");(!y||y.configurable)&&Object.defineProperty(p,"name",{writable:!0,value:o,configurable:!0})}p.shortName=o}p.prototype.constructor=p;var h=[l].concat(Array.prototype.slice.call(arguments)),t=p.setup.apply(p,h);return p.init&&p.init.apply(p,t||h),p},ReturnValue:function(e){this.value=e}}),Construct.prototype.setup=function(){},Construct.prototype.init=function(){};var canConstruct_3_5_1_canConstruct=canNamespace_1_0_0_canNamespace.Construct=Construct,canDefine_2_5_8_ensureMeta=function(e){var t=canSymbol_1_6_1_canSymbol.for("can.meta"),a=e[t];return a||(a={},canReflect_1_17_4_canReflect.setKeyValue(e,t,a)),a},returnFirstArg=function(e){return e},defineHelpers={defineExpando:function(e,t,a){if(canDefine_2_5_8_canDefine._specialKeys[t])return!0;var n=e._define.definitions;if(!(n&&n[t])){var r=e._instanceDefinitions;if(!r){if(Object.isSealed(e))return;Object.defineProperty(e,"_instanceDefinitions",{configurable:!0,enumerable:!1,writable:!0,value:{}}),r=e._instanceDefinitions}if(!r[t]){var o=e._define.defaultDefinition||{type:canDefine_2_5_8_canDefine.types.observable};return canDefine_2_5_8_canDefine.property(e,t,o,{},{}),e._data[t]=o.type?canDefine_2_5_8_canDefine.make.set.type(t,o.type,returnFirstArg).call(e,a):canDefine_2_5_8_canDefine.types.observable(a),r[t]=o,canQueues_1_1_3_canQueues.batch.start(),e.dispatch({type:"can.keys",target:e}),void 0!==e._data[t]&&e.dispatch({type:t,target:e,patches:[{type:"set",key:t,value:e._data[t]}]},[e._data[t],void 0]),canQueues_1_1_3_canQueues.batch.stop(),!0}}},reflectSerialize:function(e){var t=this._define.definitions,a=this._define.defaultDefinition;return this.forEach(function(n,r){var o=t[r];n=o&&"function"==typeof o.serialize?o.serialize.call(this,n,r):a&&"function"==typeof a.serialize?a.serialize.call(this,n,r):canReflect_1_17_4_canReflect.serialize(n),void 0!==n&&(e[r]=n)},this),e},reflectUnwrap:function(e){return this.forEach(function(t,a){void 0!==t&&(e[a]=canReflect_1_17_4_canReflect.unwrap(t))}),e},log:function(e){var t=this,a=function(e){return"string"==typeof e?JSON.stringify(e):e},n=canDefine_2_5_8_ensureMeta(t),r=n.allowedLogKeysSet||new Set;n.allowedLogKeysSet=r,e&&r.add(e),n._log=function(n,o){var s=n.type;"can.onPatches"===s||e&&!r.has(s)||"can.keys"===s||e&&!r.has(s)||("add"===s||"remove"===s?dev.log(canReflect_1_17_4_canReflect.getName(t),"\n how   ",a(s),"\n what  ",a(o[0]),"\n index ",a(o[1])):dev.log(canReflect_1_17_4_canReflect.getName(t),"\n key ",a(s),"\n is  ",a(o[0]),"\n was ",a(o[1])))}},deleteKey:function(e){var t=this._instanceDefinitions;if(t&&Object.prototype.hasOwnProperty.call(t,e)&&!Object.isSealed(this)){delete t[e],canQueues_1_1_3_canQueues.batch.start(),this.dispatch({type:"can.keys",target:this});var a=this._data[e];a!==void 0&&(delete this._data[e],delete this[e],this.dispatch({type:e,target:this,patches:[{type:"delete",key:e}]},[void 0,a])),canQueues_1_1_3_canQueues.batch.stop()}else this.set(e,void 0);return this}},defineHelpers_1=defineHelpers,keysForDefinition=function(e){var t=[];for(var a in e){var n=e[a];("object"!=typeof n||("serialize"in n?!!n.serialize:!n.get))&&t.push(a)}return t};function assign(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.assignMap(this,e||{}),canQueues_1_1_3_canQueues.batch.stop()}function update(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.updateMap(this,e||{}),canQueues_1_1_3_canQueues.batch.stop()}function assignDeep(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.assignDeepMap(this,e||{}),canQueues_1_1_3_canQueues.batch.stop()}function updateDeep(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.updateDeepMap(this,e||{}),canQueues_1_1_3_canQueues.batch.stop()}function setKeyValue(e,t){var a=defineHelpers_1.defineExpando(this,e,t);a||(this[e]=t)}function getKeyValue(e){var t=this[e];return void 0!==t||e in this||Object.isSealed(this)?t:(canObservationRecorder_1_2_0_canObservationRecorder.add(this,e),this[e])}var getSchemaSymbol$1=canSymbol_1_6_1_canSymbol.for("can.getSchema");function getSchema(){var e=this.prototype._define,t=e?e.definitions:{};return canDefine_2_5_8_canDefine.updateSchemaKeys({type:"map",identity:[],keys:{}},t)}var DefineMap=canConstruct_3_5_1_canConstruct.extend("DefineMap",{setup:function(e){var t=this.prototype,a;if(DefineMap){var n=canDefine_2_5_8_canDefine(t,t,e.prototype._define);for(a in canDefine_2_5_8_canDefine.makeDefineInstanceKey(this,n),type$1(this),DefineMap.prototype)canDefine_2_5_8_canDefine.defineConfigurableAndNotEnumerable(t,a,t[a]);this.prototype.setup=function(e){canDefine_2_5_8_canDefine.setup.call(this,e||{},this.constructor.seal)}}else for(a in t)canDefine_2_5_8_canDefine.defineConfigurableAndNotEnumerable(t,a,t[a]);canDefine_2_5_8_canDefine.defineConfigurableAndNotEnumerable(t,"constructor",this),this[getSchemaSymbol$1]=getSchema}},{setup:function(e,t){this._define||(Object.defineProperty(this,"_define",{enumerable:!1,value:{definitions:{}}}),Object.defineProperty(this,"_data",{enumerable:!1,value:{}})),canDefine_2_5_8_canDefine.setup.call(this,e||{},!0===t)},get:function(e){return e?getKeyValue.call(this,e):canReflect_1_17_4_canReflect.unwrap(this,Map)},set:function(e,t){return"object"==typeof e?!0===t?updateDeep.call(this,e):assignDeep.call(this,e):setKeyValue.call(this,e,t),this},assignDeep:function(e){return assignDeep.call(this,e),this},updateDeep:function(e){return updateDeep.call(this,e),this},assign:function(e){return assign.call(this,e),this},update:function(e){return update.call(this,e),this},serialize:function(){return canReflect_1_17_4_canReflect.serialize(this,Map)},deleteKey:defineHelpers_1.deleteKey,forEach:function(){var e=function(e,t,a){return canReflect_1_17_4_canReflect.eachKey(e,t,a)},t=canObservationRecorder_1_2_0_canObservationRecorder.ignore(e);return function(a,n,r){return!1===r?t(this,a,n):e(this,a,n)}}(),"*":{type:canDefine_2_5_8_canDefine.types.observable}}),defineMapProto={"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":getKeyValue,"can.setKeyValue":setKeyValue,"can.deleteKeyValue":defineHelpers_1.deleteKey,"can.getOwnKeys":function(){var e=canReflect_1_17_4_canReflect.getOwnEnumerableKeys(this);if(this._computed)for(var t=canReflect_1_17_4_canReflect.getOwnKeys(this._computed),a=0,n;a<t.length;a++)n=t[a],0>e.indexOf(n)&&e.push(n);return e},"can.getOwnEnumerableKeys":function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(this,"can.keys"),keysForDefinition(this._define.definitions).concat(keysForDefinition(this._instanceDefinitions))},"can.hasOwnKey":function(e){return Object.hasOwnProperty.call(this._define.definitions,e)},"can.hasKey":function(e){return!!this._define.definitions[e]},"can.assignDeep":assignDeep,"can.updateDeep":updateDeep,"can.unwrap":defineHelpers_1.reflectUnwrap,"can.serialize":defineHelpers_1.reflectSerialize,"can.keyHasDependencies":function(e){return!!(this._computed&&this._computed[e]&&this._computed[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computed&&this._computed[e]&&this._computed[e].compute&&(t={},t.valueDependencies=new Set([this._computed[e].compute])),t}};for(var prop in canReflect_1_17_4_canReflect.assignSymbols(DefineMap.prototype,defineMapProto),canReflect_1_17_4_canReflect.setKeyValue(DefineMap.prototype,canSymbol_1_6_1_canSymbol.iterator,function(){return new canDefine_2_5_8_canDefine.Iterator(this)}),canDefine_2_5_8_canDefine.eventsProto)DefineMap[prop]=canDefine_2_5_8_canDefine.eventsProto[prop],Object.defineProperty(DefineMap.prototype,prop,{enumerable:!1,value:canDefine_2_5_8_canDefine.eventsProto[prop],writable:!0});var eventsProtoSymbols="getOwnPropertySymbols"in Object?Object.getOwnPropertySymbols(canDefine_2_5_8_canDefine.eventsProto):[canSymbol_1_6_1_canSymbol.for("can.onKeyValue"),canSymbol_1_6_1_canSymbol.for("can.offKeyValue")];eventsProtoSymbols.forEach(function(e){Object.defineProperty(DefineMap.prototype,e,{enumerable:!1,value:canDefine_2_5_8_canDefine.eventsProto[e],writable:!0})}),canDefine_2_5_8_canDefine.DefineMap=DefineMap,Object.defineProperty(DefineMap.prototype,"toObject",{enumerable:!1,writable:!0,value:function(){return canLog_1_0_0_canLog.warn("Use DefineMap::get instead of DefineMap::toObject"),this.get()}});var map$2=canNamespace_1_0_0_canNamespace.DefineMap=DefineMap,slice$1=[].slice;function defaultIdentity(e,t){return e===t}function makeIdentityFromMapSchema(e){return e.identity&&e.identity.length?function(t,a){var n=canReflect_1_17_4_canReflect.getIdentity(t,e),r=canReflect_1_17_4_canReflect.getIdentity(a,e);return n===r}:defaultIdentity}function makeIdentityFromListSchema(e){return null==e.values?defaultIdentity:makeIdentityFromMapSchema(canReflect_1_17_4_canReflect.getSchema(e.values))}function makeIdentity(e,t){var a=canReflect_1_17_4_canReflect.getSchema(e),n;if(null!=a)if(null!=a.values)n=canReflect_1_17_4_canReflect.getSchema(a.values);else return defaultIdentity;return null==n&&0<t&&(n=canReflect_1_17_4_canReflect.getSchema(canReflect_1_17_4_canReflect.getKeyValue(e,0))),n?makeIdentityFromMapSchema(n):defaultIdentity}function reverseDiff(e,t,a,n,r){for(var o=a.length-1,s=n.length-1;o>e&&s>t;){var i=a[o],l=n[s];if(r(i,l,o)){o--,s--;continue}else return[{type:"splice",index:t,deleteCount:o-e+1,insert:slice$1.call(n,t,s+1)}]}return[{type:"splice",index:t,deleteCount:o-e+1,insert:slice$1.call(n,t,s+1)}]}var list=function(e,t,a){var n=0,r=0,o=canReflect_1_17_4_canReflect.size(e),s=canReflect_1_17_4_canReflect.size(t),i=[],l;for(l="function"===typeof a?a:null==a?makeIdentity(e,o):"map"===a.type?makeIdentityFromMapSchema(a):makeIdentityFromListSchema(a);n<o&&r<s;){var d=e[n],p=t[r];if(l(d,p,n)){n++,r++;continue}if(r+1<s&&l(d,t[r+1],n)){i.push({index:r,deleteCount:0,insert:[t[r]],type:"splice"}),n++,r+=2;continue}else if(n+1<o&&l(e[n+1],p,n+1)){i.push({index:r,deleteCount:1,insert:[],type:"splice"}),n+=2,r++;continue}else return i.push.apply(i,reverseDiff(n,r,e,t,l)),i}return r===s&&n===o?i:(i.push({type:"splice",index:r,deleteCount:o-n,insert:slice$1.call(t,r)}),i)},canCid_1_3_0_canCid=createCommonjsModule(function(e){var t=0,a="can"+new Date,n=function(e,n){var r=e.nodeName?a:"_cid";return e[r]||(t++,e[r]=(n||"")+t),e[r]};if(n.domExpando=a,n.get=function(e){var t=typeof e;return null!==t&&("object"===t||"function"===t)?n(e):t+":"+e},canNamespace_1_0_0_canNamespace.cid)throw new Error("You can't have two versions of can-cid, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.cid=n}),singleReference;function getKeyName(e,t){var a=t?canCid_1_3_0_canCid(e)+":"+t:canCid_1_3_0_canCid(e);return a||e}singleReference={set:function(e,t,a,n){e[getKeyName(t,n)]=a},getAndDelete:function(e,t,a){var n=getKeyName(t,a),r=e[n];return delete e[n],r}};var canSingleReference_1_2_0_canSingleReference=singleReference,make$1=canDefine_2_5_8_canDefine.make,splice=[].splice,runningNative=!1,identity=function(e){return e},localOnPatchesSymbol="can.patches",makeFilterCallback=function(e){return function(t){for(var a in e)if(t[a]!==e[a])return!1;return!0}},onKeyValue=canDefine_2_5_8_canDefine.eventsProto[canSymbol_1_6_1_canSymbol.for("can.onKeyValue")],offKeyValue=canDefine_2_5_8_canDefine.eventsProto[canSymbol_1_6_1_canSymbol.for("can.offKeyValue")],getSchemaSymbol$2=canSymbol_1_6_1_canSymbol.for("can.getSchema");function getSchema$1(){var e=this.prototype._define.definitions,t={type:"list",keys:{}};return t=canDefine_2_5_8_canDefine.updateSchemaKeys(t,e),t.keys["#"]&&(t.values=e["#"].Type,delete t.keys["#"]),t}var DefineList=canConstruct_3_5_1_canConstruct.extend("DefineList",{setup:function(e){if(DefineList){type$1(this);var t=this.prototype,a=canDefine_2_5_8_canDefine(t,t,e.prototype._define);canDefine_2_5_8_canDefine.makeDefineInstanceKey(this,a);var n=a.definitions["#"]||a.defaultDefinition;n&&(n.Type?this.prototype.__type=make$1.set.Type("*",n.Type,identity):n.type&&(this.prototype.__type=make$1.set.type("*",n.type,identity))),this[getSchemaSymbol$2]=getSchema$1}}},{setup:function(e){this._define||(Object.defineProperty(this,"_define",{enumerable:!1,value:{definitions:{length:{type:"number"},_length:{type:"number"}}}}),Object.defineProperty(this,"_data",{enumerable:!1,value:{}})),canDefine_2_5_8_canDefine.setup.call(this,{},!1),Object.defineProperty(this,"_length",{enumerable:!1,configurable:!0,writable:!0,value:0}),e&&this.splice.apply(this,[0,0].concat(canReflect_1_17_4_canReflect.toArray(e)))},__type:canDefine_2_5_8_canDefine.types.observable,_triggerChange:function(e,t,a,n){var r=+e;if(!isNaN(r)){var o=this._define.definitions["#"],s,i;"add"===t?(o&&"function"==typeof o.added&&canObservationRecorder_1_2_0_canObservationRecorder.ignore(o.added).call(this,a,r),s=[{type:"splice",insert:a,index:r,deleteCount:0}],i={type:t,patches:s},this.dispatch(i,[a,r])):"remove"===t?(o&&"function"==typeof o.removed&&canObservationRecorder_1_2_0_canObservationRecorder.ignore(o.removed).call(this,n,r),s=[{type:"splice",index:r,deleteCount:n.length}],i={type:t,patches:s},this.dispatch(i,[n,r])):this.dispatch(t,[a,r])}else this.dispatch({type:""+e,target:this},[a,n])},get:function(e){return arguments.length?(isNaN(e)?canObservationRecorder_1_2_0_canObservationRecorder.add(this,e):canObservationRecorder_1_2_0_canObservationRecorder.add(this,"length"),this[e]):canReflect_1_17_4_canReflect.unwrap(this,Map)},set:function(e,t){if("object"==typeof e)canReflect_1_17_4_canReflect.isListLike(e)?t?this.replace(e):canReflect_1_17_4_canReflect.assignList(this,e):canReflect_1_17_4_canReflect.assignMap(this,e);else if(e=isNaN(+e)||e%1?e:+e,"number"==typeof e){if("number"==typeof e&&e>this._length-1){var a=Array(e+1-this._length);return a[a.length-1]=t,this.push.apply(this,a),a}this.splice(e,1,t)}else{var n=defineHelpers_1.defineExpando(this,e,t);n||(this[e]=t)}return this},assign:function(e){return canReflect_1_17_4_canReflect.isListLike(e)?canReflect_1_17_4_canReflect.assignList(this,e):canReflect_1_17_4_canReflect.assignMap(this,e),this},update:function(e){return canReflect_1_17_4_canReflect.isListLike(e)?canReflect_1_17_4_canReflect.updateList(this,e):canReflect_1_17_4_canReflect.updateMap(this,e),this},assignDeep:function(e){return canReflect_1_17_4_canReflect.isListLike(e)?canReflect_1_17_4_canReflect.assignDeepList(this,e):canReflect_1_17_4_canReflect.assignDeepMap(this,e),this},updateDeep:function(e){return canReflect_1_17_4_canReflect.isListLike(e)?canReflect_1_17_4_canReflect.updateDeepList(this,e):canReflect_1_17_4_canReflect.updateDeepMap(this,e),this},_items:function(){var e=[];return this._each(function(t){e.push(t)}),e},_each:function(e){for(var t=0,a=this._length;t<a;t++)e(this[t],t)},splice:function(e,t){var a=canReflect_1_17_4_canReflect.toArray(arguments),n=[],r=2<a.length,o=this._length,s,l,d;for(e=e||0,s=0,l=a.length-2;s<l;s++)d=s+2,a[d]=this.__type(a[d],d),n.push(a[d]),this[s+e]!==a[d]&&(r=!1);if(r&&this._length<=n.length)return n;void 0===t&&(t=a[1]=this._length-e),runningNative=!0;var p=splice.apply(this,a);return runningNative=!1,canQueues_1_1_3_canQueues.batch.start(),0<t&&this._triggerChange(""+e,"remove",void 0,p),2<a.length&&this._triggerChange(""+e,"add",n,p),this.dispatch("length",[this._length,o]),canQueues_1_1_3_canQueues.batch.stop(),p},serialize:function(){return canReflect_1_17_4_canReflect.serialize(this,Map)}});for(var prop$1 in canDefine_2_5_8_canDefine.eventsProto)Object.defineProperty(DefineList.prototype,prop$1,{enumerable:!1,value:canDefine_2_5_8_canDefine.eventsProto[prop$1],writable:!0});var eventsProtoSymbols$1="getOwnPropertySymbols"in Object?Object.getOwnPropertySymbols(canDefine_2_5_8_canDefine.eventsProto):[canSymbol_1_6_1_canSymbol.for("can.onKeyValue"),canSymbol_1_6_1_canSymbol.for("can.offKeyValue")];eventsProtoSymbols$1.forEach(function(e){Object.defineProperty(DefineList.prototype,e,{enumerable:!1,value:canDefine_2_5_8_canDefine.eventsProto[e],writable:!0})});var getArgs=function(e){return e[0]&&Array.isArray(e[0])?e[0]:canReflect_1_17_4_canReflect.toArray(e)};for(var prop$1 in canReflect_1_17_4_canReflect.eachKey({push:"length",unshift:0},function(e,t){var a=[][t];DefineList.prototype[t]=function(){for(var t=[],n=e?this._length:0,r=arguments.length,o,s;r--;)s=arguments[r],t[r]=this.__type(s,r);return runningNative=!0,o=a.apply(this,t),runningNative=!1,(!this.comparator||t.length)&&(canQueues_1_1_3_canQueues.batch.start(),this._triggerChange(""+n,"add",t,void 0),this.dispatch("length",[this._length,n]),canQueues_1_1_3_canQueues.batch.stop()),o}}),canReflect_1_17_4_canReflect.eachKey({pop:"length",shift:0},function(e,t){var a=[][t];DefineList.prototype[t]=function(){if(this._length){var t=getArgs(arguments),n=e&&this._length?this._length-1:0,r=this._length?this._length:0,o;return runningNative=!0,o=a.apply(this,t),runningNative=!1,canQueues_1_1_3_canQueues.batch.start(),this._triggerChange(""+n,"remove",void 0,[o]),this.dispatch("length",[this._length,r]),canQueues_1_1_3_canQueues.batch.stop(),o}}}),canReflect_1_17_4_canReflect.eachKey({map:3,filter:3,reduce:4,reduceRight:4,every:3,some:3},function(e,t){DefineList.prototype[t]=function(){var a=this,n=[].slice.call(arguments,0),r=n[0],o=n[e-1]||a;"object"==typeof r&&(r=makeFilterCallback(r)),n[0]=function(){var t=[].slice.call(arguments,0);return t[e-3]=a.get(t[e-2]),r.apply(o,t)};var s=Array.prototype[t].apply(this,n);return"map"===t?new DefineList(s):"filter"===t?new a.constructor(s):s}}),canAssign_1_3_1_canAssign(DefineList.prototype,{indexOf:function(e,t){for(var a=t||0,n=this.length;a<n;a++)if(this.get(a)===e)return a;return-1},lastIndexOf:function(e,t){t="undefined"==typeof t?this.length-1:t;for(var a=t;0<=a;a--)if(this.get(a)===e)return a;return-1},join:function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(this,"length"),[].join.apply(this,arguments)},reverse:function(){var e=[].reverse.call(this._items());return this.replace(e)},slice:function(){canObservationRecorder_1_2_0_canObservationRecorder.add(this,"length");var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var e=[];return canReflect_1_17_4_canReflect.eachIndex(arguments,function(t){if(canReflect_1_17_4_canReflect.isListLike(t)){var a=Array.isArray(t)?t:canReflect_1_17_4_canReflect.toArray(t);a.forEach(function(t){e.push(this.__type(t))},this)}else e.push(this.__type(t))},this),new this.constructor(Array.prototype.concat.apply(canReflect_1_17_4_canReflect.toArray(this),e))},forEach:function(e,t){for(var a=0,n=this.length,r;a<n&&(r=this.get(a),!1!==e.call(t||r,r,a,this));a++);return this},replace:function(e){var t=list(this,e);canQueues_1_1_3_canQueues.batch.start();for(var a=0,n=t.length;a<n;a++)this.splice.apply(this,[t[a].index,t[a].deleteCount].concat(t[a].insert));return canQueues_1_1_3_canQueues.batch.stop(),this},sort:function(e){var t=Array.prototype.slice.call(this);return Array.prototype.sort.call(t,e),this.splice.apply(this,[0,t.length].concat(t)),this}}),canDefine_2_5_8_canDefine.eventsProto)DefineList[prop$1]=canDefine_2_5_8_canDefine.eventsProto[prop$1],Object.defineProperty(DefineList.prototype,prop$1,{enumerable:!1,value:canDefine_2_5_8_canDefine.eventsProto[prop$1],writable:!0});Object.defineProperty(DefineList.prototype,"length",{get:function(){return this.__inSetup||canObservationRecorder_1_2_0_canObservationRecorder.add(this,"length"),this._length},set:function(e){if(runningNative)return void(this._length=e);if(!(null==e||isNaN(+e)||e===this._length))if(e>this._length-1){var t=Array(e-this._length);this.push.apply(this,t)}else this.splice(e)},enumerable:!0}),DefineList.prototype.attr=function(e,t){return canLog_1_0_0_canLog.warn("DefineMap::attr shouldn't be called"),0===arguments.length?this.get():e&&"object"==typeof e?this.set.apply(this,arguments):1===arguments.length?this.get(e):this.set(e,t)},DefineList.prototype.item=function(e,t){return 1===arguments.length?this.get(e):this.set(e,t)},DefineList.prototype.items=function(){return canLog_1_0_0_canLog.warn("DefineList::get should should be used instead of DefineList::items"),this.get()};var defineListProto={"can.isMoreListLikeThanMapLike":!0,"can.isMapLike":!0,"can.isListLike":!0,"can.isValueLike":!1,"can.getKeyValue":DefineList.prototype.get,"can.setKeyValue":DefineList.prototype.set,"can.onKeyValue":function(e,t,a){var n;return isNaN(e)?onKeyValue.apply(this,arguments):(n=function(){t(this[e])},canSingleReference_1_2_0_canSingleReference.set(t,this,n,e),onKeyValue.call(this,"length",n,a))},"can.offKeyValue":function(e,t,a){var n;return isNaN(e)?offKeyValue.apply(this,arguments):(n=canSingleReference_1_2_0_canSingleReference.getAndDelete(t,this,e),offKeyValue.call(this,"length",n,a))},"can.deleteKeyValue":function(e){if(e=isNaN(+e)||e%1?e:+e,"number"==typeof e)this.splice(e,1);else{if("length"===e||"_length"===e)return;this.set(e,void 0)}return this},"can.assignDeep":function(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.assignList(this,e),canQueues_1_1_3_canQueues.batch.stop()},"can.updateDeep":function(e){canQueues_1_1_3_canQueues.batch.start(),this.replace(e),canQueues_1_1_3_canQueues.batch.stop()},"can.keyHasDependencies":function(e){return!!(this._computed&&this._computed[e]&&this._computed[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computed&&this._computed[e]&&this._computed[e].compute&&(t={},t.valueDependencies=new Set([this._computed[e].compute])),t},"can.splice":function(e,t,a){this.splice.apply(this,[e,t].concat(a))},"can.onPatches":function(e,t){this[canSymbol_1_6_1_canSymbol.for("can.onKeyValue")](localOnPatchesSymbol,e,t)},"can.offPatches":function(e,t){this[canSymbol_1_6_1_canSymbol.for("can.offKeyValue")](localOnPatchesSymbol,e,t)}};canReflect_1_17_4_canReflect.assignSymbols(DefineList.prototype,defineListProto),canReflect_1_17_4_canReflect.setKeyValue(DefineList.prototype,canSymbol_1_6_1_canSymbol.iterator,function(){var e=-1;return"number"!=typeof this.length&&(this.length=0),{next:function(){return e++,{value:this[e],done:e>=this.length}}.bind(this)}}),canDefine_2_5_8_canDefine.DefineList=DefineList;var list$1=canNamespace_1_0_0_canNamespace.DefineList=DefineList,utils={isContainer:function(e){var t=typeof e;return e&&("object"==t||"function"==t)},strReplacer:/\{([^\}]+)\}/g,parts:function(e){return Array.isArray(e)?e:"undefined"==typeof e?[]:(e+"").replace(/\[/g,".").replace(/]/g,"").split(".")}},canKey_1_2_0_utils=utils,_delete=function(e,t){for(var a=canKey_1_2_0_utils.parts(t),n=e,r=0;r<a.length-1;r++)n&&(n=canReflect_1_17_4_canReflect.getKeyValue(n,a[r]));n&&canReflect_1_17_4_canReflect.deleteKeyValue(n,a[a.length-1])};function get(e,t){var a=canKey_1_2_0_utils.parts(t),n=a.length,r,o,s;if(!n)return e;for(r=e,o=0;o<n&&canKey_1_2_0_utils.isContainer(r)&&null!==r;o++)s=r,r=canReflect_1_17_4_canReflect.getKeyValue(s,a[o]);return r}var get_1=get,replaceWith=function(e,t,a,n){return e.replace(canKey_1_2_0_utils.strReplacer,function(e,r){var o=get_1(t,r);return n&&_delete(t,r),a?a(r,o):o})},setValueSymbol$1=canSymbol_1_6_1_canSymbol.for("can.setValue");function set$1(e,t,a){for(var n=canKey_1_2_0_utils.parts(t),r=e,o=n.length,s=0;s<o-1&&canKey_1_2_0_utils.isContainer(r);s++)r=canReflect_1_17_4_canReflect.getKeyValue(r,n[s]);if(r)canReflect_1_17_4_canReflect.setKeyValue(r,n[s],a);else throw new TypeError("Cannot set value at key path '"+t+"'");return e}var set_1=set$1,walk=function(e,t,a){var n=canKey_1_2_0_utils.parts(t),r=n.length,o,s,l,d;if(r)for(o=e,s=0;s<r;s++){l=o,d=n[s],o=canKey_1_2_0_utils.isContainer(l)&&canReflect_1_17_4_canReflect.getKeyValue(l,d);var p=a({parent:l,key:d,value:o},s);void 0!==p&&(o=p)}};function deleteKeys(e){for(var t=e.length-1,a;0<=t;t--)if(a=e[t],delete a.parent[a.key],0!==canReflect_1_17_4_canReflect.size(a.parent))return}var transform=function(e,t){var a=canReflect_1_17_4_canReflect.serialize(e);return canReflect_1_17_4_canReflect.eachKey(t,function(e,t){var n=canKey_1_2_0_utils.parts(t),r=canKey_1_2_0_utils.parts(e),o=[];walk(a,n,function(e){o.push(e)});var s=o[o.length-1],l=s.value;void 0!==l&&(walk(a,r,function(e,t){return t<r.length-1&&!e.value?e.parent[e.key]={}:void(t===r.length-1&&(e.parent[e.key]=l))}),deleteKeys(o))}),a},canKey_1_2_0_canKey=canNamespace_1_0_0_canNamespace.key={deleteKey:_delete,get:get_1,replaceWith:replaceWith,set:set_1,transform:transform,walk:walk},key=function(e,t){var a=canKey_1_2_0_utils.parts(t),n=a.length-1,r=new canObservation_4_1_0_canObservation(function(){var t;return canKey_1_2_0_canKey.walk(e,a,function(e,a){a===n&&(t=e.value)}),t}),o=function(t){canKey_1_2_0_canKey.set(e,a,t)};Object.defineProperty(r,"value",{get:r.get,set:o});return canReflect_1_17_4_canReflect.assignSymbols(r,{"can.setValue":o})},canValue_1_0_1_canValue=canNamespace_1_0_0_canNamespace.value={bind:function(e,t){return key(e,t)},from:function(e,t){return new canObservation_4_1_0_canObservation(function(){return canKey_1_2_0_canKey.get(e,t)})},returnedBy:function(e){return new canObservation_4_1_0_canObservation(e)},to:function(e,t){var a=key(e,t);return canReflect_1_17_4_canReflect.assignSymbols(a,{"can.getValue":null})},with:function(e){return new canSimpleObservable_2_2_0_canSimpleObservable(e)}},SimpleMap=canConstruct_3_5_1_canConstruct.extend("SimpleMap",{setup:function(e){this._data={},e&&"object"==typeof e&&this.attr(e)},attr:function(e,t){var a=this;if(0===arguments.length){canObservationRecorder_1_2_0_canObservationRecorder.add(this,"can.keys");var n={};return canReflect_1_17_4_canReflect.eachKey(this._data,function(e,t){canObservationRecorder_1_2_0_canObservationRecorder.add(this,t),n[t]=e},this),n}if(1<arguments.length){var r=this._data.hasOwnProperty(e),o=this._data[e];if(this._data[e]=t,o!==t){var s={keyChanged:r?void 0:e,type:e};this.dispatch(s,[t,o])}}else if("object"==typeof e)canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.eachKey(e,function(e,t){a.attr(t,e)}),canQueues_1_1_3_canQueues.batch.stop();else return"constructor"===e?this.constructor:(canObservationRecorder_1_2_0_canObservationRecorder.add(this,e),this._data[e])},serialize:function(){return canReflect_1_17_4_canReflect.serialize(this,Map)},get:function(){return this.attr.apply(this,arguments)},set:function(){return this.attr.apply(this,arguments)},log:function(){}});map$1(SimpleMap.prototype);var simpleMapProto={"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":SimpleMap.prototype.get,"can.setKeyValue":SimpleMap.prototype.set,"can.deleteKeyValue":function(e){var t;if(this._data.hasOwnProperty(e)){var a=this._data[e];delete this._data[e],t={keyChanged:e,type:e},this.dispatch(t,[void 0,a])}},"can.getOwnEnumerableKeys":function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(this,"can.keys"),Object.keys(this._data)},"can.assignDeep":function(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.assignMap(this,e),canQueues_1_1_3_canQueues.batch.stop()},"can.updateDeep":function(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.updateMap(this,e),canQueues_1_1_3_canQueues.batch.stop()},"can.keyHasDependencies":function(){return!1},"can.getKeyDependencies":function(){}};canReflect_1_17_4_canReflect.assignSymbols(SimpleMap.prototype,simpleMapProto);var canSimpleMap_4_2_0_canSimpleMap=SimpleMap,getChangesSymbol$2=canSymbol_1_6_1_canSymbol.for("can.getChangesDependencyRecord"),getValueSymbol$1=canSymbol_1_6_1_canSymbol.for("can.getValue"),onValueSymbol$2=canSymbol_1_6_1_canSymbol.for("can.onValue"),setValueSymbol$2=canSymbol_1_6_1_canSymbol.for("can.setValue");function defaultSetValue(e,t){canReflect_1_17_4_canReflect.setValue(t,e)}function turnOffListeningAndUpdate(e,t,a,n){e[onValueSymbol$2]&&canReflect_1_17_4_canReflect.offValue(e,a,n)}function turnOnListeningAndUpdate(e,t,a,n){e[onValueSymbol$2]&&canReflect_1_17_4_canReflect.onValue(e,a,n)}function Semaphore(){this.value=0}Object.assign(Semaphore.prototype,{decrement:function(){this.value-=1},increment:function(){this.value+=1}});function Bind(e){this._options=e,void 0===e.queue&&(e.queue="domUI"),!1==0<e.cycles&&(e.cycles=0),e.onInitDoNotUpdateChild="boolean"==typeof e.onInitDoNotUpdateChild&&e.onInitDoNotUpdateChild,e.onInitSetUndefinedParentIfChildIsDefined="boolean"!=typeof e.onInitSetUndefinedParentIfChildIsDefined||e.onInitSetUndefinedParentIfChildIsDefined;var t=new Semaphore,a=new Semaphore,n=!0;"boolean"==typeof e.childToParent?n=e.childToParent:null==e.child[getValueSymbol$1]?n=!1:void 0===e.setParent&&null==e.parent[setValueSymbol$2]&&(n=!1);var r=!0;if("boolean"==typeof e.parentToChild?r=e.parentToChild:null==e.parent[getValueSymbol$1]?r=!1:void 0===e.setChild&&null==e.child[setValueSymbol$2]&&(r=!1),!1===n&&!1===r)throw new Error("Neither the child nor parent will be updated; this is a no-way binding");this._childToParent=n,this._parentToChild=r,void 0===e.setChild&&(e.setChild=defaultSetValue),void 0===e.setParent&&(e.setParent=defaultSetValue),void 0!==e.priority&&(canReflect_1_17_4_canReflect.setPriority(e.child,e.priority),canReflect_1_17_4_canReflect.setPriority(e.parent,e.priority));var o=2*e.cycles,s=o+("childSticksToParent"===e.sticky?1:0),i=o+("parentSticksToChild"===e.sticky?1:0),l=this._bindingState={child:!1,parent:!1};this._updateChild=function(n){updateValue({bindingState:l,newValue:n,debugObservableName:"child",debugPartnerName:"parent",observable:e.child,setValue:e.setChild,semaphore:t,allowedUpdates:s,sticky:"parentSticksToChild"===e.sticky,partner:e.parent,setPartner:e.setParent,partnerSemaphore:a})},this._updateParent=function(n){updateValue({bindingState:l,newValue:n,debugObservableName:"parent",debugPartnerName:"child",observable:e.parent,setValue:e.setParent,semaphore:a,allowedUpdates:i,sticky:"childSticksToParent"===e.sticky,partner:e.child,setPartner:e.setChild,partnerSemaphore:t})}}Object.defineProperty(Bind.prototype,"parentValue",{get:function(){return canReflect_1_17_4_canReflect.getValue(this._options.parent)}}),Object.assign(Bind.prototype,{start:function(){var e=this._options,t,a;this.startParent(),this.startChild(),!0===this._childToParent&&!0===this._parentToChild?(a=canReflect_1_17_4_canReflect.getValue(e.parent),a===void 0?(t=canReflect_1_17_4_canReflect.getValue(e.child),t===void 0?!1===e.onInitDoNotUpdateChild&&this._updateChild(a):!0===e.onInitSetUndefinedParentIfChildIsDefined&&this._updateParent(t)):!1===e.onInitDoNotUpdateChild&&this._updateChild(a)):!0===this._childToParent?(t=canReflect_1_17_4_canReflect.getValue(e.child),this._updateParent(t)):!0===this._parentToChild&&!1===e.onInitDoNotUpdateChild&&(a=canReflect_1_17_4_canReflect.getValue(e.parent),this._updateChild(a))},startChild:function(){if(!1===this._bindingState.child&&!0===this._childToParent){var e=this._options;this._bindingState.child=!0,turnOnListeningAndUpdate(e.child,e.parent,this._updateParent,e.queue)}},startParent:function(){if(!1===this._bindingState.parent&&!0===this._parentToChild){var e=this._options;this._bindingState.parent=!0,turnOnListeningAndUpdate(e.parent,e.child,this._updateChild,e.queue)}},stop:function(){var e=this._bindingState,t=this._options;!0===e.parent&&!0===this._parentToChild&&(e.parent=!1,turnOffListeningAndUpdate(t.parent,t.child,this._updateChild,t.queue)),!0===e.child&&!0===this._childToParent&&(e.child=!1,turnOffListeningAndUpdate(t.child,t.parent,this._updateParent,t.queue))}});function updateValue(e){var t=e.bindingState;if(!1!==t.child||!1!==t.parent){var a=e.semaphore;if(!(a.value+e.partnerSemaphore.value<=e.allowedUpdates));else if(canQueues_1_1_3_canQueues.batch.start(),e.setValue(e.newValue,e.observable),a.increment(),canQueues_1_1_3_canQueues.mutateQueue.enqueue(a.decrement,a,[]),canQueues_1_1_3_canQueues.batch.stop(),e.sticky){var n=canReflect_1_17_4_canReflect.getValue(e.observable);n!==canReflect_1_17_4_canReflect.getValue(e.partner)&&e.setPartner(n,e.partner)}}}var canBind_1_0_0_canBind=canNamespace_1_0_0_canNamespace.Bind=Bind,getKeyValueSymbol$2=canSymbol_1_6_1_canSymbol.for("can.getKeyValue"),observeDataSymbol=canSymbol_1_6_1_canSymbol.for("can.meta"),promiseDataPrototype={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0};function setVirtualProp(e,t,a){var n=e[observeDataSymbol],r=n[t];n[t]=a,canQueues_1_1_3_canQueues.enqueueByQueue(n.handlers.getNode([t]),e,[a,r],function(){return{}},["Promise",e,"resolved with value",a,"and changed virtual property: "+t])}function initPromise(e){var t=e[observeDataSymbol];t||(Object.defineProperty(e,observeDataSymbol,{enumerable:!1,configurable:!1,writable:!1,value:Object.create(promiseDataPrototype)}),t=e[observeDataSymbol],t.handlers=new canKeyTree_1_2_0_canKeyTree([Object,Object,Array])),e.then(function(t){canQueues_1_1_3_canQueues.batch.start(),setVirtualProp(e,"isPending",!1),setVirtualProp(e,"isResolved",!0),setVirtualProp(e,"value",t),setVirtualProp(e,"state","resolved"),canQueues_1_1_3_canQueues.batch.stop()},function(t){canQueues_1_1_3_canQueues.batch.start(),setVirtualProp(e,"isPending",!1),setVirtualProp(e,"isRejected",!0),setVirtualProp(e,"reason",t),setVirtualProp(e,"state","rejected"),canQueues_1_1_3_canQueues.batch.stop()})}function setupPromise(e){var t="getPrototypeOf"in Object?Object.getPrototypeOf(e):e.__proto__,a;e[getKeyValueSymbol$2]&&e[observeDataSymbol]||((null===t||t===Object.prototype)&&(t=e,"function"==typeof t.promise&&(a=t.promise,t.promise=function(){var e=a.call(t);return setupPromise(e),e})),canReflect_1_17_4_canReflect.assignSymbols(t,{"can.getKeyValue":function(e){return this[observeDataSymbol]||initPromise(this),canObservationRecorder_1_2_0_canObservationRecorder.add(this,e),"state"===e||"isPending"===e||"isResolved"===e||"isRejected"===e||"value"===e||"reason"===e?this[observeDataSymbol][e]:this[e]},"can.getValue":function(){return this[getKeyValueSymbol$2]("value")},"can.isValueLike":!1,"can.onKeyValue":function(e,t,a){this[observeDataSymbol]||initPromise(this),this[observeDataSymbol].handlers.add([e,a||"mutate",t])},"can.offKeyValue":function(e,t,a){this[observeDataSymbol]||initPromise(this),this[observeDataSymbol].handlers.delete([e,a||"mutate",t])}}))}var canReflectPromise_2_1_0_canReflectPromise=setupPromise,getValueSymbol$2=canSymbol_1_6_1_canSymbol.for("can.getValue"),setValueSymbol$3=canSymbol_1_6_1_canSymbol.for("can.setValue"),isValueLikeSymbol=canSymbol_1_6_1_canSymbol.for("can.isValueLike"),peek$3=canObservationRecorder_1_2_0_canObservationRecorder.ignore(canReflect_1_17_4_canReflect.getKeyValue.bind(canReflect_1_17_4_canReflect)),bindName=Function.prototype.bind,isAt=function(e,t){var a=t[e-1];return a&&a.at},readValue=function(e,t,a,n,r,o){var s;do{s=!1;for(var l=0,d=observeReader.valueReaders.length;l<d;l++)observeReader.valueReaders[l].test(e,t,a,n)&&(e=observeReader.valueReaders[l].read(e,t,a,n,r,o))}while(s);return e},checkForObservableAndNotify=function(e,t,a,n,r){e.foundObservable&&!t.foundObservable&&canObservationRecorder_1_2_0_canObservationRecorder.trapsCount()&&(canObservationRecorder_1_2_0_canObservationRecorder.addMany(a()),e.foundObservable(n,r),t.foundObservable=!0)},objHasKeyAtIndex=function(e,t,a){return!!(t&&t.length&&canReflect_1_17_4_canReflect.hasKey(e,t[a].key))},observeReader;observeReader={read:function(e,t,a){a=a||{};var n={foundObservable:!1},o;a.foundObservable&&(o=canObservationRecorder_1_2_0_canObservationRecorder.trap());var s=readValue(e,0,t,a,n),l=t.length,d=0,p,c;for(checkForObservableAndNotify(a,n,o,e,0);d<l;){p=s;for(var u=0,y=observeReader.propertyReaders.length,h;u<y;u++)if(h=observeReader.propertyReaders[u],h.test(s)){s=h.read(s,t[d],d,a,n);break}if(checkForObservableAndNotify(a,n,o,p,d),++d,s=readValue(s,d,t,a,n,p),checkForObservableAndNotify(a,n,o,p,d-1),d<t.length&&(null===s||void 0===s))return c=objHasKeyAtIndex(p,t,d-1),a.earlyExit&&!c&&a.earlyExit(p,d-1,s),{value:void 0,parent:p,parentHasKey:c,foundLastParent:!1}}return c=objHasKeyAtIndex(p,t,t.length-1),void 0===s&&!c&&a.earlyExit&&a.earlyExit(p,d-1),{value:s,parent:p,parentHasKey:c,foundLastParent:!0}},get:function(e,t,a){return observeReader.read(e,observeReader.reads(t),a||{}).value},valueReadersMap:{},valueReaders:[{name:"function",test:function(e){return e&&canReflect_1_17_4_canReflect.isFunctionLike(e)&&!canReflect_1_17_4_canReflect.isConstructorLike(e)},read:function(e,t,a,n,r,o){return n.callMethodsOnObservables&&canReflect_1_17_4_canReflect.isObservableLike(o)&&canReflect_1_17_4_canReflect.isMapLike(o)?(dev.warn("can-stache-key: read() called with `callMethodsOnObservables: true`."),e.apply(o,n.args||[])):!1===n.proxyMethods?e:bindName.call(e,o)}},{name:"isValueLike",test:function(e,t,a,n){return e&&e[getValueSymbol$2]&&!1!==e[isValueLikeSymbol]&&(n.foundAt||!isAt(t,a))},read:function(e,t,a,n){return!1===n.readCompute&&t===a.length?e:canReflect_1_17_4_canReflect.getValue(e)},write:function(e,t){e[setValueSymbol$3]?e[setValueSymbol$3](t):e.set?e.set(t):e(t)}}],propertyReadersMap:{},propertyReaders:[{name:"map",test:function(e){return(canReflect_1_17_4_canReflect.isPromise(e)||"object"==typeof e&&e&&"function"==typeof e.then)&&canReflectPromise_2_1_0_canReflectPromise(e),canReflect_1_17_4_canReflect.isObservableLike(e)&&canReflect_1_17_4_canReflect.isMapLike(e)},read:function(e,t){var a=canReflect_1_17_4_canReflect.getKeyValue(e,t.key);return void 0===a?e[t.key]:a},write:canReflect_1_17_4_canReflect.setKeyValue},{name:"object",test:function(){return!0},read:function(e,t){if(null!=e)return"object"==typeof e?t.key in e?e[t.key]:void 0:e[t.key]},write:function(e,t,a){var n=e[t];null!=a&&"object"==typeof a&&canReflect_1_17_4_canReflect.isMapLike(n)?(dev.warn("can-stache-key: Merging data into \""+t+"\" because its parent is non-observable"),canReflect_1_17_4_canReflect.update(n,a)):null!=n&&n[setValueSymbol$3]!==void 0?canReflect_1_17_4_canReflect.setValue(n,a):e[t]=a}}],reads:function(e){var t=""+e,a=[],n=0,r=!1;"@"===t.charAt(0)&&(n=1,r=!0);for(var o="",s=n,l;s<t.length;s++)l=t.charAt(s),"."===l||"@"===l?"\\"===t.charAt(s-1)?o=o.substr(0,o.length-1)+".":(a.push({key:o,at:r}),r="@"===l,o=""):o+=l;return a.push({key:o,at:r}),a},write:function(e,t,a,n){var r="string"==typeof t?observeReader.reads(t):t,o;if(n=n||{},1<r.length?(o=r.pop(),e=observeReader.read(e,r,n).value,r.push(o)):o=r[0],!!e){var s=peek$3(e,o.key);observeReader.valueReadersMap.isValueLike.test(s,r.length-1,r,n)?observeReader.valueReadersMap.isValueLike.write(s,a,n):(observeReader.valueReadersMap.isValueLike.test(e,r.length-1,r,n)&&(e=e[getValueSymbol$2]()),observeReader.propertyReadersMap.map.test(e)?observeReader.propertyReadersMap.map.write(e,o.key,a,n):observeReader.propertyReadersMap.object.test(e)&&(observeReader.propertyReadersMap.object.write(e,o.key,a,n),n.observation&&n.observation.update()))}}},observeReader.propertyReaders.forEach(function(e){observeReader.propertyReadersMap[e.name]=e}),observeReader.valueReaders.forEach(function(e){observeReader.valueReadersMap[e.name]=e}),observeReader.set=observeReader.write;var canStacheKey_1_4_0_canStacheKey=observeReader,strUndHash=/_|-/,strColons=/\=\=/,strWords=/([A-Z]+)([A-Z][a-z])/g,strLowUp=/([a-z\d])([A-Z])/g,strDash=/([a-z\d])([A-Z])/g,strQuote=/"/g,strSingleQuote=/'/g,strHyphenMatch=/-+(.)?/g,strCamelMatch=/[a-z][A-Z]/g,convertBadValues=function(e){var t=null===e||e===void 0||isNaN(e)&&"NaN"==""+e;return""+(t?"":e)},string={esc:function(e){return convertBadValues(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(strQuote,"&#34;").replace(strSingleQuote,"&#39;")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return convertBadValues(e).replace(strHyphenMatch,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return convertBadValues(e).replace(strCamelMatch,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(strColons,"/").replace(strWords,"$1_$2").replace(strLowUp,"$1_$2").replace(strDash,"_").toLowerCase()},undHash:strUndHash},canString_1_0_0_canString=string;canGlobals_1_2_0_canGlobalsInstance.define("location",function(){return canGlobals_1_2_0_canGlobalsInstance.getKeyValue("global").location});var location=canGlobals_1_2_0_canGlobalsInstance.makeExport("location");canGlobals_1_2_0_canGlobalsInstance.define("MutationObserver",function(){var e=canGlobals_1_2_0_canGlobalsInstance.getKeyValue("global");return e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver});var mutationObserver=canGlobals_1_2_0_canGlobalsInstance.makeExport("MutationObserver");canGlobals_1_2_0_canGlobalsInstance.define("customElements",function(){var e=canGlobals_1_2_0_canGlobalsInstance.getKeyValue("global");return e.customElements});var customElements=canGlobals_1_2_0_canGlobalsInstance.makeExport("customElements"),canGlobals_1_2_0_canGlobals=canGlobals_1_2_0_canGlobalsInstance,push=Array.prototype.push;function eliminate(e,t){var a=e.indexOf(t);0<=a&&e.splice(a,1)}function isInDocument(e){var t=document$1();return!(t!==e)||t.contains(e)}function isDocumentElement(e){return document$1().documentElement===e}function isFragment(e){return!!(e&&11===e.nodeType)}function getChildren(e){for(var t=[],a=e.firstChild;a;)t.push(a),a=a.nextSibling;return t}function getParents(e){var t;return t=isFragment(e)?getChildren(e):[e],t}function getAllNodes(e){for(var t=getParents(e),a=t.length,n=0,r;n<a;n++)if(r=t[n],r.getElementsByTagName){var o=r.getElementsByTagName("*");push.apply(t,o)}return t}function subscription(e){return function(){var t=e.apply(this,arguments),a=!1;return function(){if(a){var n=e.name||e.displayName||"an anonymous function";throw new Error("Disposal function returned by "+n+" called more than once.")}t.apply(this,arguments),a=!0}}}var canDomMutate_1_2_1_Util={eliminate:eliminate,isInDocument:isInDocument,getDocument:document$1,isDocumentElement:isDocumentElement,isFragment:isFragment,getParents:getParents,getAllNodes:getAllNodes,getChildren:getChildren,subscription:subscription},setImmediate=global_1().setImmediate||function(e){return setTimeout(e,0)},getDocument=canDomMutate_1_2_1_Util.getDocument,eliminate$1=canDomMutate_1_2_1_Util.eliminate,subscription$1=canDomMutate_1_2_1_Util.subscription,isDocumentElement$1=canDomMutate_1_2_1_Util.isDocumentElement,getAllNodes$1=canDomMutate_1_2_1_Util.getAllNodes,push$1=Array.prototype.push,slice$2=Array.prototype.slice,dataStore=new WeakMap,domMutate;function getRelatedData(e,t){var a=dataStore.get(e);if(a)return a[t]}function setRelatedData(e,t,a){var n=dataStore.get(e)||dataStore.set(e,{}).get(e);n[t]=a}function deleteRelatedData(e,t){var a=dataStore.get(e);return delete a[t]}function batch(e,t){var a=[],n=[],r=new Set,o=!1;return function(s,l){if(t)for(var d=0;d<s.length;d++){var p=s[d],c=p.target;r.has(c)||(a.push(p),r.add(c))}else push$1.apply(a,s);l&&n.push(l);var u=!o&&0<a.length;u&&(o=!0,setImmediate(function(){var s=a;a=[];var i=n;n=[],t&&(r=new Set),o=!1,e(s);for(var l=i.length,d=0;d<l;d++)i[d]()}))}}function getDocumentListeners(e,t){var a=getDocument(),n=getRelatedData(a,t);if(n)return n.listeners}function getTargetListeners(e,t){var a=getDocument(),n=getRelatedData(a,t);return n?n.get(e):void 0}function addTargetListener(e,t,a){var n=getDocument(),r=getRelatedData(n,t);r||(r=new Map,setRelatedData(n,t,r));var o=r.get(e);o||(o=[],r.set(e,o)),o.push(a)}function removeTargetListener(e,t,a){var n=getDocument(),r=getRelatedData(n,t);if(r){var o=r.get(e);o&&(eliminate$1(o,a),0===o.length&&(r["delete"](e),0===r.size&&deleteRelatedData(n,t)))}}function fire(e,t){for(var a=slice$2.call(e,0),n=a.length,r=0;r<n;r++)a[r](t)}function dispatch$1(t,a){return function(n){for(var r=0;r<n.length;r++){var o=n[r],s=o.target,i=getTargetListeners(s,t);if(i&&fire(i,o),!!a){var l=getDocumentListeners(s,a);l&&fire(l,o)}}}}function observeMutations(e,t,a,n){var r=getRelatedData(e,t);r||(r={observingCount:0},setRelatedData(e,t,r));var o=function(){var t=mutationObserver();if(t){var o=global_1().Node;if(!!(o&&e instanceof o)){var s=new t(n);s.observe(e,a),r.observer=s}}else r.observer&&(r.observer.disconnect(),r.observer=null)};return 0===r.observingCount&&(canGlobals_1_2_0_canGlobals.onKeyValue("MutationObserver",o),o()),r.observingCount++,function(){var a=getRelatedData(e,t);a&&(a.observingCount--,0>=a.observingCount&&(a.observer&&a.observer.disconnect(),deleteRelatedData(e,t),canGlobals_1_2_0_canGlobals.offKeyValue("MutationObserver",o)))}}function handleTreeMutations(e){for(var t=e.length,n=0;n<t;n++){for(var o=e[n],s=o.addedNodes,i=s.length,l=0;l<i;l++)domMutate.dispatchNodeInsertion(s[l]);for(var d=o.removedNodes,p=d.length,c=0;c<p;c++)domMutate.dispatchNodeRemoval(d[c])}}function handleAttributeMutations(e){for(var t=e.length,a=0,n;a<t;a++)if(n=e[a],"attributes"===n.type){var r=n.target,o=n.attributeName,s=n.oldValue;domMutate.dispatchNodeAttributeChange(r,o,s)}}var treeMutationConfig={subtree:!0,childList:!0},attributeMutationConfig={attributes:!0,attributeOldValue:!0};function addNodeListener(e,t,a){return subscription$1(function(n,r){if(11===n.nodeType)return Function.prototype;var o;return o=a?observeMutations(n,t,attributeMutationConfig,handleAttributeMutations):observeMutations(getDocument(),t,treeMutationConfig,handleTreeMutations),addTargetListener(n,e,r),function(){o(),removeTargetListener(n,e,r)}})}function addGlobalListener(e,t){return subscription$1(function(a,n){if(!isDocumentElement$1(a))throw new Error("Global mutation listeners must pass a documentElement");var r=getDocument(),o=getRelatedData(r,e);o||(o={listeners:[]},setRelatedData(r,e,o));var s=o.listeners;return 0===s.length&&(o.removeListener=t(r,function(){})),s.push(n),function(){var t=getRelatedData(r,e);if(t){var a=t.listeners;eliminate$1(a,n),0===a.length&&(t.removeListener(),deleteRelatedData(r,e))}}})}function toMutationEvents(e){for(var t=[],a=0;a<e.length;a++)t.push({target:e[a]});return t}var domMutationPrefix="domMutation",insertionDataKey="domMutationInsertionData",removalDataKey="domMutationRemovalData",attributeChangeDataKey="domMutationAttributeChangeData",documentInsertionDataKey="domMutationDocumentInsertionData",documentRemovalDataKey="domMutationDocumentRemovalData",documentAttributeChangeDataKey="domMutationDocumentAttributeChangeData",treeDataKey="domMutationTreeData",attributeDataKey="domMutationAttributeData",dispatchInsertion=batch(dispatch$1(insertionDataKey,documentInsertionDataKey),!0),dispatchRemoval=batch(dispatch$1(removalDataKey,documentRemovalDataKey),!0),dispatchAttributeChange=batch(dispatch$1(attributeChangeDataKey,documentAttributeChangeDataKey)),addNodeInsertionListener=addNodeListener(insertionDataKey,treeDataKey),addNodeRemovalListener=addNodeListener(removalDataKey,treeDataKey),addNodeAttributeChangeListener=addNodeListener(attributeChangeDataKey,attributeDataKey,!0),addInsertionListener=addGlobalListener(documentInsertionDataKey,addNodeInsertionListener),addRemovalListener=addGlobalListener(documentRemovalDataKey,addNodeRemovalListener),addAttributeChangeListener=addGlobalListener(documentAttributeChangeDataKey,addNodeAttributeChangeListener);domMutate={dispatchNodeInsertion:function(e,t){var a=toMutationEvents(getAllNodes$1(e));dispatchInsertion(a,t)},dispatchNodeRemoval:function(e,t){var a=toMutationEvents(getAllNodes$1(e));dispatchRemoval(a,t)},dispatchNodeAttributeChange:function(e,t,a,n){dispatchAttributeChange([{target:e,attributeName:t,oldValue:a}],n)},onNodeInsertion:addNodeInsertionListener,onNodeRemoval:addNodeRemovalListener,onNodeAttributeChange:addNodeAttributeChangeListener,onRemoval:addRemovalListener,onInsertion:addInsertionListener,onAttributeChange:addAttributeChangeListener};var canDomMutate_1_2_1_canDomMutate=canNamespace_1_0_0_canNamespace.domMutate=domMutate,controlData=new WeakMap,bind=function(e,t,a,n){return map$1.on.call(e,t,a,n),function(){map$1.off.call(e,t,a,n)}},slice$3=[].slice,paramReplacer=/\{([^\}]+)\}/g,delegate=function(e,t,a,n){return map$1.on.call(e,a,t,n),function(){map$1.off.call(e,a,t,n)}},binder=function(e,t,a,n){return n?delegate(e,n.trim(),t,a):bind(e,t,a)},Control=canConstruct_3_5_1_canConstruct.extend("Control",{setup:function(){if(canConstruct_3_5_1_canConstruct.setup.apply(this,arguments),Control){var e=this,t;for(t in e.actions={},e.prototype)e._isAction(t)&&(e.actions[t]=e._action(t))}},_shifter:function(e,t){function a(){var a=r.wrapElement(this);return e.called=t,n.apply(e,[a].concat(slice$3.call(arguments,0)))}var n="string"==typeof t?e[t]:t;"function"!=typeof n&&(n=e[n]);var r=this;return a},_isAction:function(e){var t=this.prototype[e],a=typeof t;return"constructor"!==e&&("function"==a||"string"==a&&"function"==typeof this.prototype[t])&&!!(Control.isSpecial(e)||processors[e]||/[^\w]/.test(e))},_action:function(e,t,a){var n;if(paramReplacer.lastIndex=0,t||!paramReplacer.test(e)){var r=function(){var a=e.replace(paramReplacer,function(e,a){var r,o;return this._isDelegate(t,a)?(n=this._getDelegate(t,a),""):(a=this._removeDelegateFromKey(a),o=this._lookup(t)[0],r=canStacheKey_1_4_0_canStacheKey.read(o,canStacheKey_1_4_0_canStacheKey.reads(a),{readCompute:!1}).value,void 0===r&&"undefined"!=typeof window&&(r=get_1(window,a)),o&&(canReflect_1_17_4_canReflect.isObservableLike(o)&&canReflect_1_17_4_canReflect.isMapLike(o)||r)?"string"==typeof r?r:(n=r,""):null)}.bind(this)),n;a=a.trim();var r=a.split(/\s+/g),o=r.pop();return{processor:this.processors[o]||basicProcessor,parts:[a,r.join(" "),o],delegate:n||void 0}};if(n=new canObservation_4_1_0_canObservation(r,this),a){var o=function(t){a._bindings.control[e](a.element),a._bindings.control[e]=t.processor(t.delegate||a.element,t.parts[2],t.parts[1],e,a)};canReflect_1_17_4_canReflect.onValue(n,o,"mutate"),a._bindings.readyComputes[e]={compute:n,handler:o}}return n.get()}},_lookup:function(e){return[e,window]},_removeDelegateFromKey:function(e){return e},_isDelegate:function(e,t){return"element"===t},_getDelegate:function(){},processors:{},defaults:{},convertElement:function(e){return e="string"==typeof e?document.querySelector(e):e,this.wrapElement(e)},wrapElement:function(e){return e},unwrapElement:function(e){return e},isSpecial:function(e){return"inserted"===e||"removed"===e}},{setup:function(e,t){var a=this.constructor,n=a.pluginName||a.shortName,r;if(!e)throw new Error("Creating an instance of a named control without passing an element");if(this.element=a.convertElement(e),n&&"Control"!==n&&this.element.classList&&this.element.classList.add(n),r=controlData.get(this.element),r||(r=[],controlData.set(this.element,r)),r.push(this),canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isMapLike(t)){for(var o in a.defaults)t.hasOwnProperty(o)||canStacheKey_1_4_0_canStacheKey.set(t,o,a.defaults[o]);this.options=t}else this.options=canAssign_1_3_1_canAssign(canAssign_1_3_1_canAssign({},a.defaults),t);return this.on(),[this.element,this.options]},on:function(e,t,a,n){if(!e){this.off();var r=this.constructor,o=this._bindings,s=r.actions,i=this.constructor.unwrapElement(this.element),l=Control._shifter(this,"destroy"),d,p;for(d in s)s.hasOwnProperty(d)&&(p=s[d]||r._action(d,this.options,this),p&&(o.control[d]=p.processor(p.delegate||i,p.parts[2],p.parts[1],d,this)));var c=canDomMutate_1_2_1_canDomMutate.onNodeRemoval(i,function(){i.ownerDocument.contains(i)||l()});return o.user.push(function(){c&&(c(),c=void 0)}),o.user.length}return"string"==typeof e&&(n=a,a=t,t=e,e=this.element),void 0===n&&(n=a,a=t,t=null),"string"==typeof n&&(n=Control._shifter(this,n)),this._bindings.user.push(binder(e,a,n,t)),this._bindings.user.length},off:function(){var e=this.constructor.unwrapElement(this.element),t=this._bindings;t&&((t.user||[]).forEach(function(t){t(e)}),canReflect_1_17_4_canReflect.eachKey(t.control||{},function(t){t(e)}),canReflect_1_17_4_canReflect.eachKey(t.readyComputes||{},function(e){canReflect_1_17_4_canReflect.offValue(e.compute,e.handler,"mutate")})),this._bindings={user:[],control:{},readyComputes:{}}},destroy:function(){if(null!==this.element){var e=this.constructor,t=e.pluginName||e.shortName&&canString_1_0_0_canString.underscore(e.shortName),a;this.off(),t&&"can_control"!==t&&this.element.classList&&this.element.classList.remove(t),a=controlData.get(this.element),a&&a.splice(a.indexOf(this),1),this.element=null}}}),processors,basicProcessor;processors=Control.processors,basicProcessor=function(e,t,a,n,r){return binder(e,t,Control._shifter(r,n),a)},["beforeremove","change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed","dragstart","dragenter","dragover","dragleave","drag","drop","dragend"].forEach(function(e){processors[e]=basicProcessor});var canControl_4_2_0_canControl=canNamespace_1_0_0_canNamespace.Control=Control,paramReplacer$1=/\{([^\}]+)\}/g,ComponentControl=canControl_4_2_0_canControl.extend({_lookup:function(e){return[e.scope,e,window]},_removeDelegateFromKey:function(e){return e.replace(/^(scope|^viewModel)\./,"")},_isDelegate:function(e,t){return"scope"===t||"viewModel"===t},_getDelegate:function(e,t){return e[t]},_action:function(e,t,a){var n;return paramReplacer$1.lastIndex=0,n=paramReplacer$1.test(e),!a&&n?void 0:canControl_4_2_0_canControl._action.apply(this,arguments)}},{setup:function(e,t){return this.scope=t.scope,this.viewModel=t.viewModel,canControl_4_2_0_canControl.prototype.setup.call(this,e,t)},off:function(){this._bindings&&canReflect_1_17_4_canReflect.eachKey(this._bindings.readyComputes||{},function(e){canReflect_1_17_4_canReflect.offValue(e.compute,e.handler)}),canControl_4_2_0_canControl.prototype.off.apply(this,arguments),this._bindings.readyComputes={}},destroy:function(){canControl_4_2_0_canControl.prototype.destroy.apply(this,arguments),"function"==typeof this.options.destroy&&this.options.destroy.apply(this,arguments)}}),control=ComponentControl,canAttributeEncoder_1_1_0_canAttributeEncoder=createCommonjsModule(function(e){function t(e,t){for(var a=0;a<e.length;a++)t(e[a],a)}function a(e,t,a){return t+"-"+a.toLowerCase()}function n(e,t){return 0===e.indexOf(t)}function r(e,t){return e.length-e.indexOf(t)===t.length}var o=function(e){var a={},n=e.split(",");return t(n,function(e){a[e]=!0}),a}("allowReorder,attributeName,attributeType,autoReverse,baseFrequency,baseProfile,calcMode,clipPathUnits,contentScriptType,contentStyleType,diffuseConstant,edgeMode,externalResourcesRequired,filterRes,filterUnits,glyphRef,gradientTransform,gradientUnits,kernelMatrix,kernelUnitLength,keyPoints,keySplines,keyTimes,lengthAdjust,limitingConeAngle,markerHeight,markerUnits,markerWidth,maskContentUnits,maskUnits,patternContentUnits,patternTransform,patternUnits,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,repeatCount,repeatDur,requiredExtensions,requiredFeatures,specularConstant,specularExponent,spreadMethod,startOffset,stdDeviation,stitchTiles,surfaceScale,systemLanguage,tableValues,textLength,viewBox,viewTarget,xChannelSelector,yChannelSelector"),s={leftParens:/\(/g,rightParens:/\)/g,leftBrace:/\{/g,rightBrace:/\}/g,camelCase:/([a-z]|^)([A-Z])/g,forwardSlash:/\//g,space:/\s/g,uppercase:/[A-Z]/g,uppercaseDelimiterThenChar:/:u:([a-z])/g,caret:/\^/g,dollar:/\$/g,at:/@/g},i={prependUppercase:":u:",replaceSpace:":s:",replaceForwardSlash:":f:",replaceLeftParens:":lp:",replaceRightParens:":rp:",replaceLeftBrace:":lb:",replaceRightBrace:":rb:",replaceCaret:":c:",replaceDollar:":d:",replaceAt:":at:"},l={};if(l.encode=function(e){var t=e;return!o[t]&&t.match(s.camelCase)&&(n(t,"on:")||r(t,":to")||r(t,":from")||r(t,":bind")||r(t,":raw")?t=t.replace(s.uppercase,function(e){return i.prependUppercase+e.toLowerCase()}):(n(t,"(")||n(t,"{"))&&(t=t.replace(s.camelCase,a))),t=t.replace(s.space,i.replaceSpace).replace(s.forwardSlash,i.replaceForwardSlash).replace(s.leftParens,i.replaceLeftParens).replace(s.rightParens,i.replaceRightParens).replace(s.leftBrace,i.replaceLeftBrace).replace(s.rightBrace,i.replaceRightBrace).replace(s.caret,i.replaceCaret).replace(s.dollar,i.replaceDollar).replace(s.at,i.replaceAt),t},l.decode=function(e){var t=e;return!o[t]&&t.match(s.uppercaseDelimiterThenChar)&&(n(t,"on:")||r(t,":to")||r(t,":from")||r(t,":bind")||r(t,":raw"))&&(t=t.replace(s.uppercaseDelimiterThenChar,function(e,t){return t.toUpperCase()})),t=t.replace(i.replaceLeftParens,"(").replace(i.replaceRightParens,")").replace(i.replaceLeftBrace,"{").replace(i.replaceRightBrace,"}").replace(i.replaceForwardSlash,"/").replace(i.replaceSpace," ").replace(i.replaceCaret,"^").replace(i.replaceDollar,"$").replace(i.replaceAt,"@"),t},canNamespace_1_0_0_canNamespace.encoder)throw new Error("You can't have two versions of can-attribute-encoder, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.encoder=l});function each(e,t){for(var a=0;a<e.length;a++)t(e[a],a)}function makeMap$1(e){var t={},a=e.split(",");return each(a,function(e){t[e]=!0}),t}function handleIntermediate(e,t){for(var a=0,n=e.length,r;a<n;a++)r=e[a],t[r.tokenType].apply(t,r.args);return e}var alphaNumeric="A-Za-z0-9",alphaNumericHU="-:_A-Za-z0-9",magicStart="{{",endTag=/^<\/([-:_A-Za-z0-9]+)[^>]*>/,magicMatch=/\{\{(![\s\S]*?!|[\s\S]*?)\}\}\}?/g,space=/\s/,alphaRegex=/[A-Za-z0-9]/,attributeRegexp=/[-:_A-Za-z0-9]+s*=s*("[^"]*"|'[^']*')/,empty=makeMap$1("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),caseMattersElements=makeMap$1("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),closeSelf=makeMap$1("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),special=makeMap$1("script"),tokenTypes=["start","end","close","attrStart","attrEnd","attrValue","chars","comment","special","done"],startOppositesMap={"{":"}","(":")"},fn=function(){},HTMLParser=function(e,t,a){function n(e,a,n,o){a=caseMattersElements[a]?a:a.toLowerCase(),closeSelf[a]&&l.last()===a&&r("",a),o=empty[a]||!!o,t.start(a,o,h),o||l.push(a),HTMLParser.parseAttrs(n,t,h),t.end(a,o,h)}function r(e,a){var n;if(!a)n=0;else for(a=caseMattersElements[a]?a:a.toLowerCase(),n=l.length-1;0<=n&&l[n]!==a;n--);if(0<=n){for(var r=l.length-1;r>=n;r--)t.close&&t.close(l[r],h);l.length=n}}function o(e,a){t.special&&t.special(a,h)}if("object"==typeof e)return handleIntermediate(e,t);var s=[];t=t||{},a&&each(tokenTypes,function(e){var a=t[e]||fn;t[e]=function(){if(!1!==a.apply(this,arguments)){var t=arguments.length;void 0===arguments[t-1]&&(t=arguments.length-1),s.push({tokenType:e,args:[].slice.call(arguments,0,t)})}}});var i=function(){p&&t.chars&&t.chars(p,h),p=""},l=[],d=e,p="",c,u,y,h;for(l.last=function(){return this[this.length-1]};e;){if(u=!0,!l.last()||!special[l.last()]){if(0===e.indexOf("<!--"))c=e.indexOf("-->"),0<=c&&(i(),t.comment&&t.comment(e.substring(4,c),h),e=e.substring(c+3),u=!1);else if(0===e.indexOf("</"))y=e.match(endTag),y&&(i(),y[0].replace(endTag,r),e=e.substring(y[0].length),u=!1);else if(0===e.indexOf("<")){var g=HTMLParser.searchStartTag(e);g&&(i(),n.apply(null,g.match),e=g.html,u=!1)}else 0===e.indexOf(magicStart)&&(y=e.match(magicMatch),y&&(i(),y[0].replace(magicMatch,o),e=e.substring(y[0].length)));if(u){c=findBreak(e,magicStart),0===c&&e===d&&(p+=e.charAt(0),e=e.substr(1),c=findBreak(e,magicStart));var f=0>c?e:e.substring(0,c);e=0>c?"":e.substring(c),f&&(p+=f)}}else e=e.replace(new RegExp("([\\s\\S]*?)</"+l.last()+"[^>]*>"),function(e,a){return a=a.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(a,h),""}),r("",l.last());if(e===d)throw new Error("Parse Error: "+e);d=e}return i(),r(),t.done(h),s},callAttrStart=function(e,t,a,n,r){var o=n.substring("number"==typeof e.nameStart?e.nameStart:t,t),s=canAttributeEncoder_1_1_0_canAttributeEncoder.encode(o);e.attrStart=s,a.attrStart(e.attrStart,r),e.inName=!1},callAttrEnd=function(e,t,a,n,r){if(e.valueStart!==void 0&&e.valueStart<t){var o=n.substring(e.valueStart,t);a.attrValue(o,r)}a.attrEnd(e.attrStart,r),e.attrStart=void 0,e.valueStart=void 0,e.inValue=!1,e.inName=!1,e.lookingForEq=!1,e.inQuote=!1,e.lookingForName=!0},findBreak=function(e,t){for(var a=t.length,n=0,r=e.length;n<r;n++)if("<"===e[n]||e.substr(n,a)===t)return n;return-1};HTMLParser.parseAttrs=function(e,t,a){if(e){for(var n=0,r={inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1},o;n<e.length;){o=n;var s=e.charAt(n);if(n++,magicStart===e.substr(o,magicStart.length)){r.inValue&&o>r.valueStart?t.attrValue(e.substring(r.valueStart,o),a):r.inName&&r.nameStart<o?(callAttrStart(r,o,t,e,a),callAttrEnd(r,o,t,e,a)):r.lookingForValue?r.inValue=!0:r.lookingForEq&&r.attrStart&&callAttrEnd(r,o,t,e,a),magicMatch.lastIndex=o;var l=magicMatch.exec(e);l&&(t.special(l[1],a),n=o+l[0].length,r.inValue&&(r.valueStart=o+l[0].length))}else if(r.inValue)r.inQuote?s===r.inQuote&&callAttrEnd(r,o,t,e,a):space.test(s)&&callAttrEnd(r,o,t,e,a);else if("="===s&&(r.lookingForEq||r.lookingForName||r.inName))r.attrStart||callAttrStart(r,o,t,e,a),r.lookingForValue=!0,r.lookingForEq=!1,r.lookingForName=!1;else if(r.inName){var d=e[r.nameStart],p,c;startOppositesMap[d]===s?(p="{"===d?"(":"{",c=startOppositesMap[p],e[o+1]===c?(callAttrStart(r,o+2,t,e,a),n++):callAttrStart(r,o+1,t,e,a),r.lookingForEq=!0):space.test(s)&&"{"!==d&&"("!==d&&(callAttrStart(r,o,t,e,a),r.lookingForEq=!0)}else r.lookingForName?space.test(s)||(r.attrStart&&callAttrEnd(r,o,t,e,a),r.nameStart=o,r.inName=!0):r.lookingForValue&&(space.test(s)?n===e.length&&callAttrEnd(r,o,t,e,a):(r.lookingForValue=!1,r.inValue=!0,"'"===s||"\""===s?(r.inQuote=s,r.valueStart=o+1):r.valueStart=o))}r.inName?(callAttrStart(r,o+1,t,e,a),callAttrEnd(r,o+1,t,e,a)):(r.lookingForEq||r.lookingForValue||r.inValue)&&callAttrEnd(r,o+1,t,e,a),magicMatch.lastIndex=0}},HTMLParser.searchStartTag=function(e){for(var t=e.indexOf(">"),a=attributeRegexp.exec(e.substring(1)),n=1;a&&t>=n+a.index;){for(n+=a.index+a[0].length;t<n;)t+=e.substring(t+1).indexOf(">")+1;a=attributeRegexp.exec(e.substring(n))}if(-1===t||!alphaRegex.test(e[1]))return null;var r="",o="",s=e.substring(0,t+1),i="/"===s[s.length-2],l=s.search(space),d,p,c;return i?(o="/",p=s.substring(1,s.length-2).trim()):p=s.substring(1,s.length-1).trim(),-1===l?d=p:(l--,d=p.substring(0,l),r=p.substring(l)),c=[s,d,r,o],{match:c,html:e.substring(s.length)}};var canViewParser_4_1_0_canViewParser=canNamespace_1_0_0_canNamespace.HTMLParser=HTMLParser,isInDocument$1=canDomMutate_1_2_1_Util.isInDocument,getParents$1=canDomMutate_1_2_1_Util.getParents,synthetic={dispatchNodeInsertion:function(e,t){isInDocument$1(t)&&canDomMutate_1_2_1_canDomMutate.dispatchNodeInsertion(t)},dispatchNodeRemoval:function(e,t){isInDocument$1(e)&&!isInDocument$1(t)&&canDomMutate_1_2_1_canDomMutate.dispatchNodeRemoval(t)}},compat={replaceChild:function(e,t){var a=getParents$1(e),n=this.replaceChild(e,t);synthetic.dispatchNodeRemoval(this,t);for(var r=0;r<a.length;r++)synthetic.dispatchNodeInsertion(this,a[r]);return n},setAttribute:function(e,t){var a=this.getAttribute(e),n=this.setAttribute(e,t),r=this.getAttribute(e);return a!==r&&canDomMutate_1_2_1_canDomMutate.dispatchNodeAttributeChange(this,e,a),n},removeAttribute:function(e){var t=this.getAttribute(e),a=this.removeAttribute(e);return t&&canDomMutate_1_2_1_canDomMutate.dispatchNodeAttributeChange(this,e,t),a}},compatData=[["appendChild","Insertion"],["insertBefore","Insertion"],["removeChild","Removal"]];compatData.forEach(function(e){var t=e[0],a="dispatchNode"+e[1];compat[t]=function(e){for(var n=getParents$1(e),r=this[t].apply(this,arguments),o=0;o<n.length;o++)synthetic[a](this,n[o]);return r}});var normal={},nodeMethods=["appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute"];nodeMethods.forEach(function(e){normal[e]=function(){return this[e].apply(this,arguments)}});var mutate={};function setMutateStrategy(e){var t=e?normal:compat;for(var a in t)mutate[a]=t[a]}var mutationObserverKey="MutationObserver";setMutateStrategy(canGlobals_1_2_0_canGlobals.getKeyValue("MutationObserver")),canGlobals_1_2_0_canGlobals.onKeyValue("MutationObserver",setMutateStrategy);var canDomMutate_1_2_1_node=canNamespace_1_0_0_canNamespace.domMutateNode=mutate,nodeMap=new Map,splice$1=[].splice,push$2=[].push,itemsInChildListTree=function(e){for(var t=0,a=0,n=e.length,r;a<n;a++)r=e[a],r.nodeType?t++:t+=itemsInChildListTree(r);return t},replacementMap=function(e){for(var t=new Map,a=0,n=e.length,r;a<n;a++)r=nodeLists.first(e[a]),t.set(r,e[a]);return t},addUnfoundAsDeepChildren=function(e,t){t.forEach(function(t){e.newDeepChildren.push(t)})},nodeLists={update:function(e,t,a){a||(a=nodeLists.unregisterChildren(e));for(var n=[],r=0,o=n.length=t.length;r<o;r++)n[r]=t[r];t=n;var s=e.length;return splice$1.apply(e,[0,s].concat(t)),e.replacements?(nodeLists.nestReplacements(e),e.deepChildren=e.newDeepChildren,e.newDeepChildren=[]):nodeLists.nestList(e),a},nestReplacements:function(e){for(var t=0,a=replacementMap(e.replacements),n=e.replacements.length;t<e.length&&n;){var r=e[t],o=a.get(r);o&&(a["delete"](r),e.splice(t,itemsInChildListTree(o),o),n--),t++}n&&addUnfoundAsDeepChildren(e,a),e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var a=e[t],n=nodeMap.get(a);n?n!==e&&e.splice(t,itemsInChildListTree(n),n):nodeMap.set(a,e),t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:nodeLists.last(t)},first:function(e){var t=e[0];return t.nodeType?t:nodeLists.first(t)},flatten:function(e){for(var t=[],a=0,n;a<e.length;a++)n=e[a],n.nodeType?t.push(n):t.push.apply(t,nodeLists.flatten(n));return t},register:function(e,t,a,n){return e.unregistered=t,e.parentList=a,e.nesting=a&&"undefined"!=typeof a.nesting?a.nesting+1:0,a?(e.deepChildren=[],e.newDeepChildren=[],e.replacements=[],!0!==a&&(n?a.replacements.push(e):a.newDeepChildren.push(e))):nodeLists.nestList(e),e},unregisterChildren:function(e){for(var t=[],a=0,r;a<e.length;a++)r=e[a],r.nodeType?(!e.replacements&&nodeMap["delete"](r),t.push(r)):push$2.apply(t,nodeLists.unregister(r,!0));var o=e.deepChildren;if(o)for(var s=0;s<o.length;s++)nodeLists.unregister(o[s],!0);return t},unregister:function(e,t){var a=nodeLists.unregisterChildren(e,!0);if(e.isUnregistered=!0,e.unregistered){var n=e.unregistered;if(e.replacements=e.unregistered=null,!t){var r=e.parentList&&e.parentList.deepChildren;if(r){var o=r.indexOf(e);-1!==o&&r.splice(o,1)}}n()}return a},after:function(e,t){var a=e[e.length-1];a.nextSibling?canDomMutate_1_2_1_node.insertBefore.call(a.parentNode,t,a.nextSibling):canDomMutate_1_2_1_node.appendChild.call(a.parentNode,t)},replace:function(e,t){var a=e[0].parentNode,n;"SELECT"===a.nodeName.toUpperCase()&&0<=a.selectedIndex&&(n=a.value),1===e.length?canDomMutate_1_2_1_node.replaceChild.call(a,t,e[0]):(nodeLists.after(e,t),nodeLists.remove(e)),n!==void 0&&(a.value=n)},remove:function(e){for(var t=e[0]&&e[0].parentNode,a=0;a<e.length;a++)canDomMutate_1_2_1_node.removeChild.call(t,e[a])},nodeMap:nodeMap},canViewNodelist_4_3_2_canViewNodelist=canNamespace_1_0_0_canNamespace.nodeLists=nodeLists;function childNodes(e){var t=e.childNodes;if("length"in t)return t;for(var a=e.firstChild,n=[];a;)n.push(a),a=a.nextSibling;return n}var canChildNodes_1_2_0_canChildNodes=canNamespace_1_0_0_canNamespace.childNodes=childNodes,fragmentRE=/^\s*<(\w+)[^>]*>/,toString$1={}.toString;function makeFragment(e,t,a){void 0===t&&(t=fragmentRE.test(e)&&RegExp.$1),e&&"[object Function]"===toString$1.call(e.replace)&&(e=e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var n=a.createElement("div"),r=a.createElement("div");return"tbody"===t||"tfoot"===t||"thead"===t||"colgroup"===t?(r.innerHTML="<table>"+e+"</table>",n=3===r.firstChild.nodeType?r.lastChild:r.firstChild):"col"===t?(r.innerHTML="<table><colgroup>"+e+"</colgroup></table>",n=3===r.firstChild.nodeType?r.lastChild:r.firstChild.firstChild):"tr"===t?(r.innerHTML="<table><tbody>"+e+"</tbody></table>",n=3===r.firstChild.nodeType?r.lastChild:r.firstChild.firstChild):"td"===t||"th"===t?(r.innerHTML="<table><tbody><tr>"+e+"</tr></tbody></table>",n=3===r.firstChild.nodeType?r.lastChild:r.firstChild.firstChild.firstChild):"option"===t?(r.innerHTML="<select>"+e+"</select>",n=3===r.firstChild.nodeType?r.lastChild:r.firstChild):n.innerHTML=""+e,[].slice.call(canChildNodes_1_2_0_canChildNodes(n))}function fragment(e,t){if(e&&11===e.nodeType)return e;t?t.length&&(t=t[0]):t=document$1();for(var a=makeFragment(e,void 0,t),n=(t||document).createDocumentFragment(),r=0,o=a.length;r<o;r++)n.appendChild(a[r]);return n}var makeFrag=function(e,t){var a=t||document$1(),n;if(!e||"string"==typeof e)n=fragment(null==e?"":""+e,a);else{if(11===e.nodeType)return e;if("number"==typeof e.nodeType)return n=a.createDocumentFragment(),n.appendChild(e),n;canReflect_1_17_4_canReflect.isListLike(e)?(n=a.createDocumentFragment(),canReflect_1_17_4_canReflect.eachIndex(e,function(e){n.appendChild(makeFrag(e))})):n=fragment(""+e,a)}return canChildNodes_1_2_0_canChildNodes(n).length||n.appendChild(a.createTextNode("")),n},canFragment_1_2_0_canFragment=canNamespace_1_0_0_canNamespace.fragment=canNamespace_1_0_0_canNamespace.frag=makeFrag,canViewCallbacks_4_3_1_canViewCallbacks=createCommonjsModule(function(e){var t=canSymbol_1_6_1_canSymbol.for("can.callbackMap"),a={},n=function(){var e=canGlobals_1_2_0_canGlobals.getKeyValue("document");return null!=e&&null!=e.documentElement&&"false"!==e.documentElement.getAttribute("data-can-automount")},r=new WeakMap,o=function(e){var t=e.tagName&&e.tagName.toLowerCase(),n=a[t],s;if(n&&!r.has(e)&&n(e,{}),e.getElementsByTagName){s=e.getElementsByTagName("*");for(var i=0,l;void 0!==(l=s[i]);i++)o(l)}},s=!1,i=function(){if(!s){var e=function(e){for(var t=0,a,n;void 0!==(n=e[t]);t++)if("childList"===n.type){a=n.addedNodes;for(var s=0,l;void 0!==(l=a[s]);s++)r.has(l)||o(l)}},t=canGlobals_1_2_0_canGlobals.getKeyValue("MutationObserver");t&&(f=new t(e),f.observe(global_1().document.documentElement,{childList:!0,subtree:!0}),s=!0)}},l=function(e){for(var t=global_1().document.getElementsByTagName(e),a=0,n;void 0!==(n=t[a]);a++)o(n)},d=function(e,t){if(t)"string"==typeof e?p[e]=t:c.push({match:e,handler:t});else{var a=p[e];if(!a)for(var n=0,r=c.length,o;n<r;n++)if(o=c[n],o.match.test(e))return o.handler;return a}},p={},c=[],u=new WeakMap,y=/[-\:]/,h=function(){},g=function(e,t){if(t){var o=global_1(),d=y.test(e),p="undefined"!=typeof a[e.toLowerCase()],c;if(o.html5&&(o.html5.elements+=" "+e,o.html5.shivDocument()),a[e.toLowerCase()]=t,n()){var u=canGlobals_1_2_0_canGlobals.getKeyValue("customElements");if(!u)i(),l(e);else if(c=u.get(e.toLowerCase()),d&&!c){var g=function(){return Reflect.construct(HTMLElement,[],g)};g.prototype=Object.create(HTMLElement.prototype),g.prototype.connectedCallback=function(){r.has(this)||a[e.toLowerCase()](this,{})},u.define(e,g)}}else s&&f.disconnect()}else{var m;return null===t?delete a[e.toLowerCase()]:m=a[e.toLowerCase()],!m&&y.test(e)&&(m=h),m}},f;if(canNamespace_1_0_0_canNamespace.view=canNamespace_1_0_0_canNamespace.view||{},canNamespace_1_0_0_canNamespace.view.callbacks)throw new Error("You can't have two versions of can-view-callbacks, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.view.callbacks={_tags:a,_attributes:p,_regExpAttributes:c,defaultCallback:h,tag:g,attr:d,attrs:function(e){var a=canReflect_1_17_4_canReflect.getKeyValue(e,t)||e;u.has(a)||(u.set(a,!0),canReflect_1_17_4_canReflect.eachKey(a,function(e,t){d(t,e)}))},tagHandler:function(e,t,n){var o=n.scope,s=o&&o.templateContext.tags.get(t),i=s||a[t],l;if(i?(l=canObservationRecorder_1_2_0_canObservationRecorder.ignore(i)(e,n),r.set(e,!0)):l=o,l&&n.subtemplate){o!==l&&(o=o.add(l));var d=canViewNodelist_4_3_2_canViewNodelist.register([],void 0,n.parentNodeList||!0,!1);d.expression="<"+e.tagName+">";var p=n.subtemplate(o,n.options,d),c="string"==typeof p?canFragment_1_2_0_canFragment(p):p;canDomMutate_1_2_1_node.appendChild.call(e,c)}}}}),processNodes=function(e,t,a,n){for(var r=n.createDocumentFragment(),o=0,s=e.length,l;o<s;o++)l=e[o],r.appendChild(processNode(l,t,a.concat(o),n));return r},keepsTextNodes="undefined"!=typeof document&&function(){var e=document.createDocumentFragment(),t=document.createElement("div");t.appendChild(document.createTextNode("")),t.appendChild(document.createTextNode("")),e.appendChild(t);var a=e.cloneNode(!0);return 2===a.firstChild.childNodes.length}(),clonesWork="undefined"!=typeof document&&function(){var e=document.createElement("a");e.innerHTML="<xyz></xyz>";var t=e.cloneNode(!0),a="<xyz></xyz>"===t.innerHTML,n,r;return a?(e=document.createDocumentFragment(),e.appendChild(document.createTextNode("foo-bar")),n=mutationObserver(),n?(r=new n(function(){}),r.observe(document.documentElement,{childList:!0,subtree:!0}),t=e.cloneNode(!0),r.disconnect()):t=e.cloneNode(!0),1===t.childNodes.length):a}(),namespacesWork="undefined"!=typeof document&&!!document.createElementNS,cloneNode=clonesWork?function(e){return e.cloneNode(!0)}:function(e){var t=e.ownerDocument,a;if(1===e.nodeType?"http://www.w3.org/1999/xhtml"!==e.namespaceURI&&namespacesWork&&t.createElementNS?a=t.createElementNS(e.namespaceURI,e.nodeName):a=t.createElement(e.nodeName):3===e.nodeType?a=t.createTextNode(e.nodeValue):8===e.nodeType?a=t.createComment(e.nodeValue):11===e.nodeType&&(a=t.createDocumentFragment()),e.attributes)for(var n=e.attributes,r=0,o;r<n.length;r++)o=n[r],o&&o.specified&&canDomMutate_1_2_1_node.setAttribute.call(a,o.nodeName||o.name,o.nodeValue||o.value);if(e&&e.firstChild)for(var s=e.firstChild;s;)a.appendChild(cloneNode(s)),s=s.nextSibling;return a};function processNode(e,t,a,n){var r=a,o=typeof e,s=function(){return l||(l={path:a,callbacks:[]},t.push(l),r=[]),l},l,d,c,u,y;if(!("object"==o))"string"==o?d=n.createTextNode(e):"function"==o&&(keepsTextNodes?(d=n.createTextNode(""),s().callbacks.push({callback:e})):(d=n.createComment("~"),s().callbacks.push({callback:function(){var t=n.createTextNode("");return canDomMutate_1_2_1_node.replaceChild.call(this.parentNode,t,this),e.apply(t,arguments)}})));else if(e.tag){if(d=namespacesWork&&e.namespace?n.createElementNS(e.namespace,e.tag):n.createElement(e.tag),e.attrs)for(var h in e.attrs){var g=e.attrs[h];"function"==typeof g?s().callbacks.push({callback:g}):canDomMutate_1_2_1_node.setAttribute.call(d,h,g)}if(e.attributes)for(u=0,y=e.attributes.length;u<y;u++)s().callbacks.push({callback:e.attributes[u]});e.children&&e.children.length&&(c=l?l.paths=[]:t,d.appendChild(processNodes(e.children,c,r,n)))}else if(e.comment&&(d=n.createComment(e.comment),e.callbacks))for(u=0,y=e.attributes.length;u<y;u++)s().callbacks.push({callback:e.callbacks[u]});return d}function getCallbacks(e,t,a){for(var n=t.path,r=t.callbacks,o=t.paths,s=e,l=n?n.length:0,d=o?o.length:0,p=0;p<l;p++)s=s.childNodes.item(n[p]);for(p=0;p<d;p++)getCallbacks(s,o[p],a);a.push({element:s,callbacks:r})}function hydrateCallbacks(e,t){for(var a=e.length,n=0,r,o,s;n<a;n++){s=e[n],r=s.callbacks.length,o=s.element;for(var l=0;l<r;l++)s.callbacks[l].callback.apply(o,t)}}function makeTarget(e,t){var a=[],n=processNodes(e,a,[],t||document$1());return{paths:a,clone:n,hydrate:function(){for(var e=cloneNode(this.clone),t=[],n=0,r=t.length=arguments.length;n<r;n++)t[n]=arguments[n];for(var o=[],s=0;s<a.length;s++)getCallbacks(e,a[s],o);return hydrateCallbacks(o,t),e}}}makeTarget.keepsTextNodes=keepsTextNodes,makeTarget.cloneNode=cloneNode,canNamespace_1_0_0_canNamespace.view=canNamespace_1_0_0_canNamespace.view||{};var canViewTarget_4_1_0_canViewTarget=canNamespace_1_0_0_canNamespace.view.target=makeTarget,TemplateContext=function(e){e=e||{},this.vars=new canSimpleMap_4_2_0_canSimpleMap(e.vars||{}),this.helpers=new canSimpleMap_4_2_0_canSimpleMap(e.helpers||{}),this.partials=new canSimpleMap_4_2_0_canSimpleMap(e.partials||{}),this.tags=new canSimpleMap_4_2_0_canSimpleMap(e.tags||{})},canViewScope_4_7_0_templateContext=TemplateContext,Compute=function(e){return arguments.length?canReflect_1_17_4_canReflect.setValue(this,e):canReflect_1_17_4_canReflect.getValue(this)},canViewScope_4_7_0_makeComputeLike=function(e){var t=Compute.bind(e);return t.on=t.bind=t.addEventListener=function(a,n){var r=function(e,a){n.call(t,{type:"change"},e,a)};canSingleReference_1_2_0_canSingleReference.set(n,this,r),e.on(r)},t.off=t.unbind=t.removeEventListener=function(t,a){e.off(canSingleReference_1_2_0_canSingleReference.getAndDelete(a,this))},canReflect_1_17_4_canReflect.assignSymbols(t,{"can.getValue":function(){return canReflect_1_17_4_canReflect.getValue(e)},"can.setValue":function(t){return canReflect_1_17_4_canReflect.setValue(e,t)},"can.onValue":function(t,a){return canReflect_1_17_4_canReflect.onValue(e,t,a)},"can.offValue":function(t,a){return canReflect_1_17_4_canReflect.offValue(e,t,a)},"can.valueHasDependencies":function(){return canReflect_1_17_4_canReflect.valueHasDependencies(e)},"can.getPriority":function(){return canReflect_1_17_4_canReflect.getPriority(e)},"can.setPriority":function(t){canReflect_1_17_4_canReflect.setPriority(e,t)},"can.isValueLike":!0,"can.isFunctionLike":!1}),t.isComputed=!0,t},makeDependencyRecord=function(){return{keyDependencies:new Map,valueDependencies:new Set}},makeRootRecord=function(){return{mutateDependenciesForKey:new Map,mutateDependenciesForValue:makeDependencyRecord()}},addMutatedBy=function(e){return function(t,a,n){var r=3===arguments.length;2===arguments.length&&(n=a,a=void 0),n.keyDependencies||n.valueDependencies||(n={valueDependencies:new Set([n])});var o=e.get(t);o||(o=makeRootRecord(),e.set(t,o)),r&&!o.mutateDependenciesForKey.get(a)&&o.mutateDependenciesForKey.set(a,makeDependencyRecord());var s=r?o.mutateDependenciesForKey.get(a):o.mutateDependenciesForValue;n.valueDependencies&&canReflect_1_17_4_canReflect.addValues(s.valueDependencies,n.valueDependencies),n.keyDependencies&&canReflect_1_17_4_canReflect.each(n.keyDependencies,function(e,t){var a=s.keyDependencies.get(t);a||(a=new Set,s.keyDependencies.set(t,a)),canReflect_1_17_4_canReflect.addValues(a,e)})}},deleteMutatedBy=function(e){return function(t,a,n){var r=3===arguments.length,o=e.get(t);2===arguments.length&&(n=a,a=void 0),n.keyDependencies||n.valueDependencies||(n={valueDependencies:new Set([n])});var s=r?o.mutateDependenciesForKey.get(a):o.mutateDependenciesForValue;n.valueDependencies&&canReflect_1_17_4_canReflect.removeValues(s.valueDependencies,n.valueDependencies),n.keyDependencies&&canReflect_1_17_4_canReflect.each(n.keyDependencies,function(e,t){var a=s.keyDependencies.get(t);a&&(canReflect_1_17_4_canReflect.removeValues(a,e),!a.size&&s.keyDependencies.delete(t))})}},isFunction=function(e){return"function"==typeof e},getWhatIChangeSymbol=canSymbol_1_6_1_canSymbol.for("can.getWhatIChange"),getKeyDependenciesSymbol=canSymbol_1_6_1_canSymbol.for("can.getKeyDependencies"),getValueDependenciesSymbol$1=canSymbol_1_6_1_canSymbol.for("can.getValueDependencies"),getKeyDependencies=function(e,t){if(isFunction(e[getKeyDependenciesSymbol]))return canReflect_1_17_4_canReflect.getKeyDependencies(e,t)},getValueDependencies=function(e){if(isFunction(e[getValueDependenciesSymbol$1]))return canReflect_1_17_4_canReflect.getValueDependencies(e)},getMutatedKeyDependencies=function(e,t,a){var n=e.get(t),r;return n&&n.mutateDependenciesForKey.has(a)&&(r=n.mutateDependenciesForKey.get(a)),r},getMutatedValueDependencies=function(e,t){var a=e.get(t),n;if(a){var r=a.mutateDependenciesForValue;r.keyDependencies.size&&(n=n||{},n.keyDependencies=r.keyDependencies),r.valueDependencies.size&&(n=n||{},n.valueDependencies=r.valueDependencies)}return n},getWhatIChange=function(e,t){if(isFunction(e[getWhatIChangeSymbol])){var a=2===arguments.length;return a?canReflect_1_17_4_canReflect.getWhatIChange(e,t):canReflect_1_17_4_canReflect.getWhatIChange(e)}},isEmptyRecord=function(e){return null==e||!Object.keys(e).length||e.keyDependencies&&!e.keyDependencies.size&&e.valueDependencies&&!e.valueDependencies.size},getWhatChangesMe=function(e,t,a){var n=3===arguments.length,r=n?getMutatedKeyDependencies(e,t,a):getMutatedValueDependencies(e,t),o=n?getKeyDependencies(t,a):getValueDependencies(t);if(!isEmptyRecord(r)||!isEmptyRecord(o))return Object.assign({},r?{mutate:r}:null,o?{derive:o}:null)},getDependencyDataOf=function(e){return function(t,a){var n=2===arguments.length,r=n?getWhatChangesMe(e,t,a):getWhatChangesMe(e,t),o=n?getWhatIChange(t,a):getWhatIChange(t);if(r||o)return Object.assign({},o?{whatIChange:o}:null,r?{whatChangesMe:r}:null)}},mutatedByMap=new WeakMap,canReflectDependencies_1_1_0_canReflectDependencies={addMutatedBy:addMutatedBy(mutatedByMap),deleteMutatedBy:deleteMutatedBy(mutatedByMap),getDependencyDataOf:getDependencyDataOf(mutatedByMap)},canStacheHelpers_1_2_0_canStacheHelpers=createCommonjsModule(function(e){if(canNamespace_1_0_0_canNamespace.stacheHelpers)throw new Error("You can't have two versions of can-stache-helpers, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.stacheHelpers={}}),dispatchSymbol$2=canSymbol_1_6_1_canSymbol.for("can.dispatch"),peekValue=canObservationRecorder_1_2_0_canObservationRecorder.ignore(canReflect_1_17_4_canReflect.getValue.bind(canReflect_1_17_4_canReflect)),getFastPathRoot=canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(e){if(e.reads&&1===e.reads.length){var t=e.root;return t&&t[canSymbol_1_6_1_canSymbol.for("can.getValue")]&&(t=canReflect_1_17_4_canReflect.getValue(t)),t&&canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isMapLike(t)&&"function"!=typeof t[e.reads[0].key]&&t}}),isEventObject=function(e){return e&&"number"==typeof e.batchNum&&"string"==typeof e.type},ScopeKeyData=function(e,t,a){this.startingScope=e,this.key=t,this.read=this.read.bind(this),this.dispatch=this.dispatch.bind(this),"debugger"===t&&(this.startingScope={_context:canStacheHelpers_1_2_0_canStacheHelpers},this.read=function(){var t=canStacheHelpers_1_2_0_canStacheHelpers["debugger"];return t({scope:e})});var n=this.observation=new canObservation_4_1_0_canObservation(this.read,this);this.options=canAssign_1_3_1_canAssign({observation:this.observation},a),this.fastPath=void 0,this.root=void 0,this.initialValue=void 0,this.reads=void 0,this.setRoot=void 0,this.thisArg=void 0,this.parentHasKey=void 0;var r=new Set;r.add(n),this.dependencies={valueDependencies:r}};value(ScopeKeyData.prototype);function fastOnBoundSet_Value(){this._value=this.newVal}function fastOnBoundSetValue(){this.value=this.newVal}Object.assign(ScopeKeyData.prototype,{constructor:ScopeKeyData,dispatch:function(e){var t=this.value;this.value=e,this[dispatchSymbol$2].call(this,this.value,t)},onBound:function(){this.bound=!0,canReflect_1_17_4_canReflect.onValue(this.observation,this.dispatch,"notify");var e=getFastPathRoot(this);e&&this.toFastPath(e),this.value=peekValue(this.observation)},onUnbound:function(){this.bound=!1,canReflect_1_17_4_canReflect.offValue(this.observation,this.dispatch,"notify"),this.toSlowPath()},set:function(e){var t=this.root||this.setRoot;t?canStacheKey_1_4_0_canStacheKey.write(t,this.reads,e,this.options):this.startingScope.set(this.key,e,this.options)},get:function(){return canObservationRecorder_1_2_0_canObservationRecorder.isRecording()&&(canObservationRecorder_1_2_0_canObservationRecorder.add(this),!this.bound&&canObservation_4_1_0_canObservation.temporarilyBind(this)),!0===this.bound?this.value:this.observation.get()},toFastPath:function(e){var t=this,a=this.observation;this.fastPath=!0,a.dependencyChange=function(a,n){if(isEventObject(n))throw"no event objects!";return a===e&&"function"!=typeof n?this.newVal=n:t.toSlowPath(),canObservation_4_1_0_canObservation.prototype.dependencyChange.apply(this,arguments)},a.onBound=a.hasOwnProperty("_value")?fastOnBoundSet_Value:fastOnBoundSetValue},toSlowPath:function(){this.observation.dependencyChange=canObservation_4_1_0_canObservation.prototype.dependencyChange,this.observation.onBound=canObservation_4_1_0_canObservation.prototype.onBound,this.fastPath=!1},read:function(){var e;return this.root?(e=canStacheKey_1_4_0_canStacheKey.read(this.root,this.reads,this.options),this.thisArg=e.parent,e.value):(e=this.startingScope.read(this.key,this.options),this.scope=e.scope,this.reads=e.reads,this.root=e.rootObserve,this.setRoot=e.setRoot,this.thisArg=e.thisArg,this.parentHasKey=e.parentHasKey,this.initialValue=e.value)},hasDependencies:function(){return canReflect_1_17_4_canReflect.valueHasDependencies(this.observation)}});var scopeKeyDataPrototype={"can.getValue":ScopeKeyData.prototype.get,"can.setValue":ScopeKeyData.prototype.set,"can.valueHasDependencies":ScopeKeyData.prototype.hasDependencies,"can.getValueDependencies":function(){return this.dependencies},"can.getPriority":function(){return canReflect_1_17_4_canReflect.getPriority(this.observation)},"can.setPriority":function(e){canReflect_1_17_4_canReflect.setPriority(this.observation,e)}};canReflect_1_17_4_canReflect.assignSymbols(ScopeKeyData.prototype,scopeKeyDataPrototype),Object.defineProperty(ScopeKeyData.prototype,"compute",{get:function(){var e=canViewScope_4_7_0_makeComputeLike(this);return Object.defineProperty(this,"compute",{value:e,writable:!1,configurable:!1}),e},configurable:!0});var canViewScope_4_7_0_scopeKeyData=ScopeKeyData,canViewScope_4_7_0_compute_data=function(e,t,a){return new canViewScope_4_7_0_scopeKeyData(e,t,a||{args:[]})};function Scope(e,t,a){this._context=e,this._parent=t,this._meta=a||{},this.__cache={}}canAssign_1_3_1_canAssign(Scope,{read:canStacheKey_1_4_0_canStacheKey.read,TemplateContext:canViewScope_4_7_0_templateContext,keyInfo:function(e){var t={};return t.isDotSlash="./"===e.substr(0,2),t.isThisDot="this."===e.substr(0,5),t.isThisAt="this@"===e.substr(0,5),t.isInCurrentContext=t.isDotSlash||t.isThisDot||t.isThisAt,t.isInParentContext="../"===e.substr(0,3),t.isCurrentContext="."===e||"this"===e,t.isParentContext=".."===e,t.isScope="scope"===e,t.isInScope="scope."===e.substr(0,6)||"scope@"===e.substr(0,6),t.isContextBased=t.isInCurrentContext||t.isInParentContext||t.isCurrentContext||t.isParentContext,t}}),canAssign_1_3_1_canAssign(Scope.prototype,{add:function(e,t){return e===this._context?this:new this.constructor(e,this,t)},find:function(e,t){return this.get(e,canAssign_1_3_1_canAssign({currentScopeOnly:!1},t))},read:function(e,t){t=t||{},"./"===e&&(e=".");var a=Scope.keyInfo(e);if(a.isContextBased&&(this._meta.notContext||this._meta.special))return this._parent.read(e,t);if(this._context instanceof canViewScope_4_7_0_templateContext)return this._parent?this._parent.read(e,t):{};var n=!("currentScopeOnly"in t)||t.currentScopeOnly;if(a.isInCurrentContext)n=!0,e=a.isDotSlash?e.substr(2):e.substr(5);else{if((a.isInParentContext||a.isParentContext)&&this._parent){for(var r=this._parent;r.isSpecial();)r=r._parent;if(a.isParentContext)return canStacheKey_1_4_0_canStacheKey.read(r._context,[],t);var o=r.read(e.substr(3)||".",t);return canAssign_1_3_1_canAssign(o,{thisArg:o.thisArg||r._context})}if(a.isCurrentContext)return canStacheKey_1_4_0_canStacheKey.read(this._context,[],t);if(a.isScope)return{value:this}}var s=canStacheKey_1_4_0_canStacheKey.reads(e),i;return a.isInScope?(i=canStacheKey_1_4_0_canStacheKey.read(this,s.slice(1),t),"undefined"!=typeof i.value||i.parentHasKey||(i=this.readFromTemplateContext(e.slice(6),t)),canAssign_1_3_1_canAssign(i,{thisArg:1<s.length?i.parent:void 0})):this._read(s,t,n)},readFromSpecialContext:function(e){return this._read([{key:e,at:!1}],{special:!0})},readFromTemplateContext:function(e,t){var a=canStacheKey_1_4_0_canStacheKey.reads(e);return canStacheKey_1_4_0_canStacheKey.read(this.templateContext,a,t)},_read:function(e,t,a){for(var n=this,r=[],o=-1,s=canAssign_1_3_1_canAssign({foundObservable:function(t,a){p=t,c=e.slice(a)},earlyExit:function(t,a){(a>o||a===o&&"object"==typeof t&&(e[a].key in t))&&(y=p,u=c,o=a)}},t),i=canObservationRecorder_1_2_0_canObservationRecorder.isRecording(),l=t&&!0===t.special,d,p,c,u,y;n;){if(d=n._context,!l&&n._meta.special){n=n._parent;continue}if(l&&!n._meta.special){n=n._parent;continue}if(n._context instanceof canViewScope_4_7_0_templateContext){n=n._parent;continue}if(null!==d&&("object"==typeof d||"function"==typeof d)){var h=canObservationRecorder_1_2_0_canObservationRecorder.trap(),g=canStacheKey_1_4_0_canStacheKey.read(d,e,s),f=h();if(void 0!==g.value||g.parentHasKey)return!f.length&&i?(p=g.parent,c=e.slice(e.length-1)):canObservationRecorder_1_2_0_canObservationRecorder.addMany(f),{scope:n,rootObserve:p,value:g.value,reads:c,thisArg:1<e.length?g.parent:void 0,parentHasKey:g.parentHasKey};r.push.apply(r,f)}var m=n._parent&&!n._parent.isSpecial();n=a&&m?null:n._parent}if(!(t&&t.special)){var b=this.getHelper(e);if(b&&b.value)return b}return canObservationRecorder_1_2_0_canObservationRecorder.addMany(r),{setRoot:y,reads:u,value:void 0}},getHelper:function(e){for(var t=this,a,n;t;){if(a=t._context,a instanceof canViewScope_4_7_0_templateContext&&(n=canStacheKey_1_4_0_canStacheKey.read(a.helpers,e,{proxyMethods:!1}),void 0!==n.value))return n;t=t._parent}return canStacheKey_1_4_0_canStacheKey.read(canStacheHelpers_1_2_0_canStacheHelpers,e,{proxyMethods:!1})},get:function(e,t){t=canAssign_1_3_1_canAssign({isArgument:!0},t);var a=this.read(e,t);return a.value},peek:canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(e,t){return this.get(e,t)}),peak:canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(e,t){return this.peek(e,t)}),getScope:function(e){for(var t=this;t;){if(e(t))return t;t=t._parent}},getContext:function(e){var t=this.getScope(e);return t&&t._context},getTemplateContext:function(){var e=this.getScope(function(e){return t=e,e._context instanceof canViewScope_4_7_0_templateContext}),t;return e||(e=new Scope(new canViewScope_4_7_0_templateContext()),t._parent=e),e},addTemplateContext:function(){return this.add(new canViewScope_4_7_0_templateContext)},getRoot:function(){for(var e=this,t=this;e._parent;)t=e,e=e._parent;return e._context instanceof canViewScope_4_7_0_templateContext&&(e=t),e._context},getViewModel:function(){var e=this.getScope(function(e){return e._meta.viewModel});return e&&e._context},getTop:function(){var e;return this.getScope(function(t){return t._meta.viewModel&&(e=t),!1}),e&&e._context},getPathsForKey:function(){},hasKey:function(e){var t=canStacheKey_1_4_0_canStacheKey.reads(e),a;return a="scope"===t[0].key?canStacheKey_1_4_0_canStacheKey.read(this,t.slice(1),e):canStacheKey_1_4_0_canStacheKey.read(this._context,t,e),a.foundLastParent&&a.parentHasKey},getDataForScopeSet:function(e,t){var a=Scope.keyInfo(e),n;if(a.isCurrentContext)return{parent:this._context,how:"setValue"};if(a.isInParentContext||a.isParentContext){for(n=this._parent;n._meta.notContext;)n=n._parent;return a.isParentContext?{parent:n._context,how:"setValue"}:{how:"set",parent:n,passOptions:!0,key:e.substr(3)||"."}}var r=e.lastIndexOf("."),o=e.lastIndexOf("/"),s,i;o>r?(s=e.substring(0,o),i=e.substring(o+1,e.length)):-1===r?(s=".",i=e):(s=e.substring(0,r),i=e.substring(r+1,e.length));var l=this.read(s,t).value;return void 0===l?{error:"Attempting to set a value at "+e+" where "+s+" is undefined."}:!canReflect_1_17_4_canReflect.isObservableLike(l)&&canReflect_1_17_4_canReflect.isObservableLike(l[i])?canReflect_1_17_4_canReflect.isMapLike(l[i])?{parent:l,key:i,how:"updateDeep",warn:"can-view-scope: Merging data into \""+i+"\" because its parent is non-observable"}:canReflect_1_17_4_canReflect.isValueLike(l[i])?{parent:l,key:i,how:"setValue"}:{parent:l,how:"write",key:i,passOptions:!0}:{parent:l,how:"write",key:i,passOptions:!0}},set:function(e,t,a){a=a||{};var n=this.getDataForScopeSet(e,a),r=n.parent;switch(n.warn&&dev.warn(n.warn),n.how){case"set":r.set(n.key,t,n.passOptions?a:void 0);break;case"write":canStacheKey_1_4_0_canStacheKey.write(r,n.key,t,a);break;case"setValue":canReflect_1_17_4_canReflect.setValue("key"in n?r[n.key]:r,t);break;case"setKeyValue":canReflect_1_17_4_canReflect.setKeyValue(r,n.key,t);break;case"updateDeep":canReflect_1_17_4_canReflect.updateDeep(r[n.key],t);}},attr:canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(e,t,a){return dev.warn("can-view-scope::attr is deprecated, please use peek, get or set"),a=canAssign_1_3_1_canAssign({isArgument:!0},a),2===arguments.length?this.set(e,t,a):this.get(e,a)}),computeData:function(e,t){return canViewScope_4_7_0_compute_data(this,e,t)},compute:function(e,t){return this.computeData(e,t).compute},cloneFromRef:function(){for(var e=[],t=this,a,n;t;){if(a=t._context,a instanceof canViewScope_4_7_0_templateContext){n=t._parent;break}e.unshift(a),t=t._parent}return n?(e.forEach(function(e){n=n.add(e)}),n):this},isSpecial:function(){return this._meta.notContext||this._meta.special||this._context instanceof canViewScope_4_7_0_templateContext}}),canReflect_1_17_4_canReflect.assignSymbols(Scope.prototype,{"can.hasKey":Scope.prototype.hasKey});var templateContextPrimitives=["filename","lineNumber"];templateContextPrimitives.forEach(function(e){Object.defineProperty(Scope.prototype,e,{get:function(){return this.readFromTemplateContext(e).value},set:function(t){this.templateContext[e]=t}})}),canDefineLazyValue_1_1_0_defineLazyValue(Scope.prototype,"templateContext",function(){return this.getTemplateContext()._context}),canDefineLazyValue_1_1_0_defineLazyValue(Scope.prototype,"root",function(){return dev.warn("`scope.root` is deprecated. Use either `scope.top` or `scope.vm` instead."),this.getRoot()}),canDefineLazyValue_1_1_0_defineLazyValue(Scope.prototype,"vm",function(){return this.getViewModel()}),canDefineLazyValue_1_1_0_defineLazyValue(Scope.prototype,"top",function(){return this.getTop()}),canDefineLazyValue_1_1_0_defineLazyValue(Scope.prototype,"helpers",function(){return canStacheHelpers_1_2_0_canStacheHelpers});var specialKeywords=["index","key","element","event","viewModel","arguments","helperOptions"];specialKeywords.forEach(function(e){Object.defineProperty(Scope.prototype,e,{get:function(){return this.readFromSpecialContext(e).value}})}),canNamespace_1_0_0_canNamespace.view=canNamespace_1_0_0_canNamespace.view||{};var canViewScope_4_7_0_canViewScope=canNamespace_1_0_0_canNamespace.view.Scope=Scope;function KeyObservable(e,t){t=""+t,this.key=t,this.root=e,settable.call(this,function(){return canStacheKey_1_4_0_canStacheKey.get(this,t)},e)}KeyObservable.prototype=Object.create(settable.prototype),KeyObservable.prototype.set=function(e){canStacheKey_1_4_0_canStacheKey.set(this.root,this.key,e)};var keyObservable=KeyObservable,createNoOpRenderer=function(e){return function(){e&&(e.rendered=!0)}},utils$1={last:function(e){return null!=e&&e[e.length-1]},emptyHandler:function(){},jsonParse:function(e){return"'"===e[0]?e.substr(1,e.length-2):"undefined"===e?void 0:JSON.parse(e)},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(e){this.last().add(e)},subSectionDepth:function(){return this.stack.length-1}},createRenderers:function(e,t,a,n,r,o){e.fn=n?this.makeRendererConvertScopes(n,t,a,o,e.metadata):createNoOpRenderer(e.metadata),e.inverse=r?this.makeRendererConvertScopes(r,t,a,o,e.metadata):createNoOpRenderer(e.metadata),e.isSection=!!(n||r)},makeRendererConvertScopes:function(e,t,a,n,r){var o=function(n,o,s){n===void 0||n instanceof canViewScope_4_7_0_canViewScope||(t?n=t.add(n):n=new canViewScope_4_7_0_canViewScope(n||{})),r&&(r.rendered=!0);var i=e(n||t,s||a);return i};return n?o:canObservationRecorder_1_2_0_canObservationRecorder.ignore(o)},getItemsStringContent:function(e,t,a){for(var n="",r=canStacheKey_1_4_0_canStacheKey.get(e,"length"),o=canReflect_1_17_4_canReflect.isObservableLike(e),s=0,l;s<r;s++)l=o?new keyObservable(e,s):e[s],n+=a.fn(l);return n},getItemsFragContent:function(e,t,a){var n=[],r=canStacheKey_1_4_0_canStacheKey.get(e,"length"),o=canReflect_1_17_4_canReflect.isObservableLike(e),s=t.exprData&&t.exprData.hashExprs,l;0<canReflect_1_17_4_canReflect.size(s)&&(l={},canReflect_1_17_4_canReflect.eachKey(s,function(e,t){l[e.key]=t}));for(var d=0;d<r;d++){var p={},c=o?new keyObservable(e,d):e[d];0<canReflect_1_17_4_canReflect.size(l)&&(l.value&&(p[l.value]=c),l.index&&(p[l.index]=d)),n.push(t.fn(a.add(p,{notContext:!0}).add({index:d},{special:!0}).add(c)))}return n}},last=utils$1.last,decodeHTML="undefined"!=typeof document&&function(){var e=document$1().createElement("div");return function(t){return-1===t.indexOf("&")?t.replace(/\r\n/g,"\n"):(e.innerHTML=t,0===e.childNodes.length?"":e.childNodes.item(0).nodeValue)}}(),HTMLSectionBuilder=function(e){e&&(this.filename=e),this.stack=[new HTMLSection]};canAssign_1_3_1_canAssign(HTMLSectionBuilder.prototype,utils$1.mixins),canAssign_1_3_1_canAssign(HTMLSectionBuilder.prototype,{startSubSection:function(e){var t=new HTMLSection(e);return this.stack.push(t),t},endSubSectionAndReturnRenderer:function(){if(this.last().isEmpty())return this.stack.pop(),null;var e=this.endSection();return e.compiled.hydrate.bind(e.compiled)},startSection:function(e){var t=new HTMLSection(e);this.last().add(t.targetCallback),this.stack.push(t)},endSection:function(){return this.last().compile(),this.stack.pop()},inverse:function(){this.last().inverse()},compile:function(){var e=this.stack.pop().compile();return canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(t,a){return t instanceof canViewScope_4_7_0_canViewScope||(t=new canViewScope_4_7_0_canViewScope(t||{})),e.hydrate(t,a)})},push:function(e){this.last().push(e)},pop:function(){return this.last().pop()},removeCurrentNode:function(){this.last().removeCurrentNode()}});var HTMLSection=function(e){this.data="targetData",this.targetData=[],this.targetStack=[];var t=this;this.targetCallback=function(a,n){e.call(this,a,n,t.compiled.hydrate.bind(t.compiled),t.inverseCompiled&&t.inverseCompiled.hydrate.bind(t.inverseCompiled))}};canAssign_1_3_1_canAssign(HTMLSection.prototype,{inverse:function(){this.inverseData=[],this.data="inverseData"},push:function(e){this.add(e),this.targetStack.push(e)},pop:function(){return this.targetStack.pop()},add:function(e){"string"==typeof e&&(e=decodeHTML(e)),this.targetStack.length?last(this.targetStack).children.push(e):this[this.data].push(e)},compile:function(){return this.compiled=canViewTarget_4_1_0_canViewTarget(this.targetData,document$1()),this.inverseData&&(this.inverseCompiled=canViewTarget_4_1_0_canViewTarget(this.inverseData,document$1()),delete this.inverseData),this.targetStack=this.targetData=null,this.compiled},removeCurrentNode:function(){var e=this.children();return e.pop()},children:function(){return this.targetStack.length?last(this.targetStack).children:this[this.data]},isEmpty:function(){return!this.targetData.length}}),HTMLSectionBuilder.HTMLSection=HTMLSection;var html_section=HTMLSectionBuilder,live={setup:function(e,t,a){var n=!1,r=function(){return n||(n=!0,a(s),o&&(o(),o=void 0)),!0},o,s;return s={teardownCheck:function(e){return!e&&r()}},o=canDomMutate_1_2_1_canDomMutate.onNodeRemoval(e,function(){e.ownerDocument.contains(e)||r()}),t(s),s},listen:function(e,t,a,n){return live.setup(e,function(){canReflect_1_17_4_canReflect.onValue(t,a,n||"notify")},function(e){canReflect_1_17_4_canReflect.offValue(t,a,n||"notify"),e.nodeList&&canViewNodelist_4_3_2_canViewNodelist.unregister(e.nodeList)})},getAttributeParts:function(e){var t={},a;return canViewParser_4_1_0_canViewParser.parseAttrs(e,{attrStart:function(e){t[e]="",a=e},attrValue:function(e){t[a]+=e},attrEnd:function(){}}),t},isNode:function(e){return e&&e.nodeType},addTextNodeIfNoChildren:function(e){e.firstChild||e.appendChild(e.ownerDocument.createTextNode(""))},replace:function(e,t,a){var n=e.slice(0),r=canFragment_1_2_0_canFragment(t);return canViewNodelist_4_3_2_canViewNodelist.register(e,a),canViewNodelist_4_3_2_canViewNodelist.update(e,canChildNodes_1_2_0_canChildNodes(r)),canViewNodelist_4_3_2_canViewNodelist.replace(n,r),e},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},makeString:function(e){return null==e?"":""+e}},core=live,canDomDataState_1_0_2_canDomDataState=createCommonjsModule(function(e){var t=function(e){for(var t in e)return!1;return!0},a={},n={},r=function(){var e=canCid_1_3_0_canCid.get(this),t=!1;return e&&a[e]&&(t=!0,delete a[e]),n[e]&&(n[e](),delete n[e]),t},o={_data:a,_removalDisposalMap:n,getCid:function(){return canCid_1_3_0_canCid.get(this)},cid:function(){return canCid_1_3_0_canCid(this)},expando:canCid_1_3_0_canCid.domExpando,get:function(e){var t=canCid_1_3_0_canCid.get(this),n=t&&a[t];return e===void 0?n:n&&n[e]},set:function(e,t){var o=canCid_1_3_0_canCid(this),s=a[o]||(a[o]={});if(e!==void 0){s[e]=t;var i=!!(this&&"number"==typeof this.nodeType);if(i&&!n[o]){var l=this;n[o]=canDomMutate_1_2_1_canDomMutate.onNodeRemoval(l,function(){l.ownerDocument.contains(l)||setTimeout(function(){r.call(l)},13)})}}return s},clean:function(e){var n=canCid_1_3_0_canCid.get(this),o=a[n];o&&o[e]&&delete o[e],t(o)&&r.call(this)},delete:r};if(canNamespace_1_0_0_canNamespace.domDataState)throw new Error("You can't have two versions of can-dom-data-state, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.domDataState=o}),global$1=global_1(),formElements={INPUT:!0,TEXTAREA:!0,SELECT:!0},toString$2=function(e){return null==e?"":""+e},isSVG=function(e){return"http://www.w3.org/2000/svg"===e.namespaceURI},truthy=function(){return!0},getSpecialTest=function(e){return e&&e.test||truthy},propProp=function(e,t){return t=t||{},t.get=function(){return this[e]},t.set=function(t){this[e]!==t&&(this[e]=t)},t},booleanProp=function(e){return{isBoolean:!0,set:function(t){e in this?this[e]=t:canDomMutate_1_2_1_node.setAttribute.call(this,e,"")},remove:function(){this[e]=!1}}},setupMO=function(e,t){var a=canDomDataState_1_0_2_canDomDataState.get.call(e,"attrMO");if(!a){var n=function(){t.call(e)},r=mutationObserver();if(r){var o=new r(n);o.observe(e,{childList:!0,subtree:!0}),canDomDataState_1_0_2_canDomDataState.set.call(e,"attrMO",o)}else canDomDataState_1_0_2_canDomDataState.set.call(e,"attrMO",!0),canDomDataState_1_0_2_canDomDataState.set.call(e,"canBindingCallback",{onMutation:n})}},_findOptionToSelect=function(e,t){for(var a=e.firstChild;a;){if("OPTION"===a.nodeName&&t===a.value)return a;if("OPTGROUP"===a.nodeName){var n=_findOptionToSelect(a,t);if(n)return n}a=a.nextSibling}},setChildOptions=function(e,t){var a;null!=t&&(a=_findOptionToSelect(e,t)),a?a.selected=!0:e.selectedIndex=-1},forEachOption=function(e,t){for(var a=e.firstChild;a;)"OPTION"===a.nodeName&&t(a),"OPTGROUP"===a.nodeName&&forEachOption(a,t),a=a.nextSibling},collectSelectedOptions=function(e){var t=[];return forEachOption(e,function(e){e.selected&&t.push(e.value)}),t},markSelectedOptions=function(e,t){forEachOption(e,function(e){e.selected=-1!==t.indexOf(e.value)})},setChildOptionsOnChange=function(e,t){var a=canDomDataState_1_0_2_canDomDataState.get.call(e,"attrSetChildOptions");return a?Function.prototype:(a=function(){setChildOptions(e,e.value)},canDomDataState_1_0_2_canDomDataState.set.call(e,"attrSetChildOptions",a),t.call(e,"change",a),function(t){canDomDataState_1_0_2_canDomDataState.clean.call(e,"attrSetChildOptions"),t.call(e,"change",a)})},behaviorRules=new Map([]),isPropWritable=function(e,t){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(a)return a.writable||a.set;var n=Object.getPrototypeOf(e);return!!n&&isPropWritable(n,t)},cacheRule=function(e,t,a){var n;return n=behaviorRules.get(e.prototype),n||(n={},behaviorRules.set(e.constructor,n)),n[t]=a,a},specialAttributes={checked:{get:function(){return this.checked},set:function(e){var t=!!e||""===e||0===arguments.length;this.checked=t,t&&"radio"===this.type&&(this.defaultChecked=!0)},remove:function(){this.checked=!1},test:function(){return"INPUT"===this.nodeName}},class:{get:function(){return isSVG(this)?this.getAttribute("class"):this.className},set:function(e){e=e||"",isSVG(this)?canDomMutate_1_2_1_node.setAttribute.call(this,"class",""+e):this.className=e}},disabled:booleanProp("disabled"),focused:{get:function(){return this===document.activeElement},set:function(e){function t(){e?r.focus():r.blur()}var a=attr.get(this,"focused"),n=this.ownerDocument.documentElement,r=this;if(a!==e)if(!n.contains(r))var o=canDomMutate_1_2_1_canDomMutate.onNodeInsertion(r,function(){o(),t()});else canQueues_1_1_3_canQueues.enqueueByQueue({mutate:[t]},null,[]);return!0},addEventListener:function(e,t,a){return a.call(this,"focus",t),a.call(this,"blur",t),function(e){e.call(this,"focus",t),e.call(this,"blur",t)}},test:function(){return"INPUT"===this.nodeName}},for:propProp("htmlFor"),innertext:propProp("innerText"),innerhtml:propProp("innerHTML"),innerHTML:propProp("innerHTML",{addEventListener:function(e,t){var a=[],n=this;return["change","blur"].forEach(function(e){var r=function(){t.apply(this,arguments)};canDomEvents_1_3_0_canDomEvents.addEventListener(n,e,r),a.push([e,r])}),function(e){a.forEach(function(t){e.call(n,t[0],t[1])})}}}),required:booleanProp("required"),readonly:booleanProp("readOnly"),selected:{get:function(){return this.selected},set:function(e){e=!!e,canDomDataState_1_0_2_canDomDataState.set.call(this,"lastSetValue",e),this.selected=e},addEventListener:function(e,t,a){var n=this,r=this.parentNode,o=n.selected,s=function(){var t=n.selected;o=canDomDataState_1_0_2_canDomDataState.get.call(n,"lastSetValue")||o,t!==o&&(o=t,canDomEvents_1_3_0_canDomEvents.dispatch(n,e))},i=setChildOptionsOnChange(r,a);return canDomEvents_1_3_0_canDomEvents.addEventListener(r,"change",s),a.call(n,e,t),function(a){i(a),canDomEvents_1_3_0_canDomEvents.removeEventListener(r,"change",s),a.call(n,e,t)}},test:function(){return"OPTION"===this.nodeName&&this.parentNode&&"SELECT"===this.parentNode.nodeName}},style:{set:function(){var e=global$1.document&&document$1().createElement("div");return e&&e.style&&"cssText"in e.style?function(e){this.style.cssText=e||""}:function(e){canDomMutate_1_2_1_node.setAttribute.call(this,"style",e)}}()},textcontent:propProp("textContent"),value:{get:function(){var e=this.value;return"SELECT"===this.nodeName&&"selectedIndex"in this&&-1===this.selectedIndex&&(e=void 0),e},set:function(e){var t=this.nodeName.toLowerCase();if("input"===t&&(e=toString$2(e)),(this.value!==e||"option"===t)&&(this.value=e),("input"===t||"textarea"===t)&&(this.defaultValue=e),"select"===t){canDomDataState_1_0_2_canDomDataState.set.call(this,"attrValueLastVal",e),setChildOptions(this,null===e?e:this.value);var a=this.ownerDocument.documentElement;if(!a.contains(this))var n=this,r=canDomMutate_1_2_1_canDomMutate.onNodeInsertion(n,function(){r(),setChildOptions(n,null===e?e:n.value)});setupMO(this,function(){var e=canDomDataState_1_0_2_canDomDataState.get.call(this,"attrValueLastVal");attr.set(this,"value",e),canDomEvents_1_3_0_canDomEvents.dispatch(this,"change")})}},test:function(){return formElements[this.nodeName]}},values:{get:function(){return collectSelectedOptions(this)},set:function(e){e=e||[],markSelectedOptions(this,e),canDomDataState_1_0_2_canDomDataState.set.call(this,"stickyValues",attr.get(this,"values")),setupMO(this,function(){var e=canDomDataState_1_0_2_canDomDataState.get.call(this,"stickyValues");attr.set(this,"values",e);var t=canDomDataState_1_0_2_canDomDataState.get.call(this,"stickyValues"),a=list(e.slice().sort(),t.slice().sort());a.length&&canDomEvents_1_3_0_canDomEvents.dispatch(this,"values")})},addEventListener:function(e,t,a){var n=function(){canDomEvents_1_3_0_canDomEvents.dispatch(this,"values")};return canDomEvents_1_3_0_canDomEvents.addEventListener(this,"change",n),a.call(this,e,t),function(a){canDomEvents_1_3_0_canDomEvents.removeEventListener(this,"change",n),a.call(this,e,t)}}}},attr={rules:behaviorRules,specialAttributes:specialAttributes,getRule:function(e,t){var a=specialAttributes[t];if(a)return a;var n=behaviorRules.get(e.constructor),r=n&&n[t];if(r)return r;if(!(t in e))return this.attribute(t);var o=isPropWritable(e,t)?this.property(t):this.attribute(t);return cacheRule(e,t,o)},attribute:function(e){return{get:function(){return this.getAttribute(e)},set:function(t){canDomMutate_1_2_1_node.setAttribute.call(this,e,t)}}},property:function(e){return{get:function(){return this[e]},set:function(t){this[e]=t}}},findSpecialListener:function(e){return specialAttributes[e]&&specialAttributes[e].addEventListener},setAttrOrProp:function(e,t,a){return this.set(e,t,a)},set:function(e,t,a){var n=this.getRule(e,t),r=n&&n.set;if(r)return r.call(e,a)},get:function(e,t){var a=this.getRule(e,t),n=a&&a.get;if(n)return a.test?a.test.call(e)&&n.call(e):n.call(e)},remove:function(e,t){t=t.toLowerCase();var a=specialAttributes[t],n=a&&a.set,r=a&&a.remove,o=getSpecialTest(a);"function"==typeof r&&o.call(e)?r.call(e):"function"==typeof n&&o.call(e)?n.call(e,void 0):canDomMutate_1_2_1_node.removeAttribute.call(e,t)}},canAttributeObservable_1_1_2_behaviors=attr;core.attr=function(e,t,a){core.listen(e,a,function(a){canQueues_1_1_3_canQueues.domUIQueue.enqueue(canAttributeObservable_1_1_2_behaviors.set,canAttributeObservable_1_1_2_behaviors,[e,t,a])}),canAttributeObservable_1_1_2_behaviors.set(e,t,canReflect_1_17_4_canReflect.getValue(a))},core.attrs=function(e,t,a,n){function r(t){var r=core.getAttributeParts(t),o;for(o in r){var s=r[o],l=i[o];if(s!==l){canDomMutate_1_2_1_node.setAttribute.call(e,o,s);var d=canViewCallbacks_4_3_1_canViewCallbacks.attr(o);d&&d(e,{attributeName:o,scope:a,options:n})}delete i[o]}for(o in i)canDomMutate_1_2_1_node.removeAttribute.call(e,o);i=r}if(!canReflect_1_17_4_canReflect.isObservableLike(t)){var o=core.getAttributeParts(t);for(var s in o)canDomMutate_1_2_1_node.setAttribute.call(e,s,o[s]);return}var i={};canReflect_1_17_4_canReflect.onValue(t,r,"domUI");var l=function(){canReflect_1_17_4_canReflect.offValue(t,r,"domUI"),d&&(d(),d=void 0)},d;d=canDomMutate_1_2_1_canDomMutate.onNodeRemoval(e,function(){e.ownerDocument.contains(e)||l()}),r(canReflect_1_17_4_canReflect.getValue(t))};var viewInsertSymbol=canSymbol_1_6_1_canSymbol.for("can.viewInsert");function updateNodeList(e,t,a,n){!0!==t.isUnregistered&&(!n&&canViewNodelist_4_3_2_canViewNodelist.update(t,canChildNodes_1_2_0_canChildNodes(a),e),canViewNodelist_4_3_2_canViewNodelist.replace(e,a))}core.html=function(e,t,a,n){function r(e){var t=canViewNodelist_4_3_2_canViewNodelist.first(l).parentNode;t&&s(e,!0);var a=canViewNodelist_4_3_2_canViewNodelist.first(l).parentNode;o.teardownCheck(a)}var o,s,i,l,d;n!==void 0&&(Array.isArray(n)?i=n:(i=n.nodeList,d=n));var p={reasonLog:"live.html replace::"+canReflect_1_17_4_canReflect.getName(t)};a=core.getParentNode(e,a),o=core.listen(a,t,r),l=i||[e],s=function(e,t){e&&"function"==typeof e[viewInsertSymbol]&&(e=e[viewInsertSymbol](d));var a="function"==typeof e,n=canFragment_1_2_0_canFragment(a?"":e);core.addTextNodeIfNoChildren(n);var r;if(!0===t){r=canViewNodelist_4_3_2_canViewNodelist.unregisterChildren(l,!0);var o=!1;a&&(e(n.firstChild),o=canViewNodelist_4_3_2_canViewNodelist.first(l)===n.firstChild),canQueues_1_1_3_canQueues.domUIQueue.enqueue(updateNodeList,null,[r,l,n,o],p)}else r=canViewNodelist_4_3_2_canViewNodelist.update(l,canChildNodes_1_2_0_canChildNodes(n)),a&&e(n.firstChild),canViewNodelist_4_3_2_canViewNodelist.replace(r,n)},o.nodeList=l,i?i.unregistered=o.teardownCheck:canViewNodelist_4_3_2_canViewNodelist.register(l,o.teardownCheck),s(canReflect_1_17_4_canReflect.getValue(t))};function SetObservable(e,t){this.setter=t,canSimpleObservable_2_2_0_canSimpleObservable.call(this,e)}SetObservable.prototype=Object.create(canSimpleObservable_2_2_0_canSimpleObservable.prototype),SetObservable.prototype.constructor=SetObservable,SetObservable.prototype.set=function(e){this.setter(e)},canReflect_1_17_4_canReflect.assignSymbols(SetObservable.prototype,{"can.setValue":SetObservable.prototype.set});var setObservable=SetObservable,onValueSymbol$3=canSymbol_1_6_1_canSymbol.for("can.onValue"),offValueSymbol$1=canSymbol_1_6_1_canSymbol.for("can.offValue"),onPatchesSymbol$1=canSymbol_1_6_1_canSymbol.for("can.onPatches"),offPatchesSymbol=canSymbol_1_6_1_canSymbol.for("can.offPatches"),Patcher=function(e,t){this.handlers=new canKeyTree_1_2_0_canKeyTree([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),this.observableOrList=e,this.isObservableValue=canReflect_1_17_4_canReflect.isValueLike(this.observableOrList)||canReflect_1_17_4_canReflect.isObservableLike(this.observableOrList),this.priority=this.isObservableValue?canReflect_1_17_4_canReflect.getPriority(e):t||0,this.onList=this.onList.bind(this),this.onPatchesNotify=this.onPatchesNotify.bind(this),this.onPatchesDerive=this.onPatchesDerive.bind(this),this.patches=[]};Patcher.prototype={constructor:Patcher,setup:function(){this.observableOrList[onValueSymbol$3]?(canReflect_1_17_4_canReflect.onValue(this.observableOrList,this.onList,"notify"),this.setupList(canReflect_1_17_4_canReflect.getValue(this.observableOrList))):this.setupList(this.observableOrList)},teardown:function(){this.observableOrList[offValueSymbol$1]&&canReflect_1_17_4_canReflect.offValue(this.observableOrList,this.onList,"notify")},setupList:function(e){this.currentList=e,e&&e[onPatchesSymbol$1]&&e[onPatchesSymbol$1](this.onPatchesNotify,"notify")},onList:function(e){var t=this.currentList||[];e=e||[],t[offPatchesSymbol]&&t[offPatchesSymbol](this.onPatchesNotify,"notify");var a=list(t,e);this.currentList=e,this.onPatchesNotify(a),e[onPatchesSymbol$1]&&e[onPatchesSymbol$1](this.onPatchesNotify,"notify")},onPatchesNotify:function(e){this.patches.push.apply(this.patches,e),canQueues_1_1_3_canQueues.deriveQueue.enqueue(this.onPatchesDerive,this,[],{priority:this.priority})},onPatchesDerive:function(){var e=this.patches;this.patches=[],canQueues_1_1_3_canQueues.enqueueByQueue(this.handlers.getNode([]),this.currentList,[e,this.currentList],null,["Apply patches",e])}},canReflect_1_17_4_canReflect.assignSymbols(Patcher.prototype,{"can.onPatches":function(e,t){this.handlers.add([t||"mutate",e])},"can.offPatches":function(e,t){this.handlers.delete([t||"mutate",e])}});var patcher=Patcher,splice$2=[].splice,renderAndAddToNodeLists=function(e,t,a,n,r){var o=[];t&&(canViewNodelist_4_3_2_canViewNodelist.register(o,null,!0,!0),o.parentList=t,o.expression="#each SUBEXPRESSION");var s=a.apply(n,r.concat([o])),i=canFragment_1_2_0_canFragment(s),l=canReflect_1_17_4_canReflect.toArray(canChildNodes_1_2_0_canChildNodes(i));return t?(canViewNodelist_4_3_2_canViewNodelist.update(o,l),e.push(o)):e.push(canViewNodelist_4_3_2_canViewNodelist.register(l)),i},removeFromNodeList=function(e,t,a){var n=e.splice(t+1,a),r=[];return n.forEach(function(e){var t=canViewNodelist_4_3_2_canViewNodelist.unregister(e);[].push.apply(r,t)}),r},onPatchesSymbol$2=canSymbol_1_6_1_canSymbol.for("can.onPatches"),offPatchesSymbol$1=canSymbol_1_6_1_canSymbol.for("can.offPatches");function ListDOMPatcher(e,t,a,n,r,o,s){this.patcher=new patcher(t),r=core.getParentNode(e,r),this.value=t,this.render=a,this.context=n,this.parentNode=r,this.falseyRender=s,this.masterNodeList=o||canViewNodelist_4_3_2_canViewNodelist.register([e],null,!0),this.placeholder=e,this.indexMap=[],this.isValueLike=canReflect_1_17_4_canReflect.isValueLike(this.value),this.isObservableLike=canReflect_1_17_4_canReflect.isObservableLike(this.value),this.onPatches=this.onPatches.bind(this);var i=this.data=core.setup(r,this.setupValueBinding.bind(this),this.teardownValueBinding.bind(this));this.masterNodeList.unregistered=function(){i.teardownCheck()}}var onPatchesSymbol$2=canSymbol_1_6_1_canSymbol.for("can.onPatches"),offPatchesSymbol$1=canSymbol_1_6_1_canSymbol.for("can.offPatches");ListDOMPatcher.prototype={setupValueBinding:function(){this.patcher[onPatchesSymbol$2](this.onPatches,"domUI"),this.patcher.currentList&&this.patcher.currentList.length?this.onPatches([{insert:this.patcher.currentList,index:0,deleteCount:0}]):this.addFalseyIfEmpty()},teardownValueBinding:function(){this.patcher[offPatchesSymbol$1](this.onPatches,"domUI"),this.exit=!0,this.remove({length:this.patcher.currentList.length},0,!0)},onPatches:function(e){if(!this.exit)for(var t=0,a=e.length,n;t<a;t++)n=e[t],"move"===n.type?this.move(n.toIndex,n.fromIndex):(n.deleteCount&&this.remove({length:n.deleteCount},n.index,!0),n.insert&&n.insert.length&&this.add(n.insert,n.index))},add:function(e,t){var a=this.placeholder.ownerDocument.createDocumentFragment(),n=[],r=[],o=this.masterNodeList,s=this.render,l=this.context;e.forEach(function(e,i){var d=new canSimpleObservable_2_2_0_canSimpleObservable(i+t),p=new setObservable(e,function(e){canReflect_1_17_4_canReflect.setKeyValue(this.patcher.currentList,d.get(),e)}.bind(this)),c=renderAndAddToNodeLists(n,o,s,l,[p,d]);a.appendChild(c),r.push(d)},this);var d=t+1;if(!this.indexMap.length){var p=removeFromNodeList(o,0,o.length-1);canViewNodelist_4_3_2_canViewNodelist.remove(p)}if(!o[d])canViewNodelist_4_3_2_canViewNodelist.after(1===d?[this.placeholder]:[canViewNodelist_4_3_2_canViewNodelist.last(this.masterNodeList[d-1])],a);else{var c=canViewNodelist_4_3_2_canViewNodelist.first(o[d]);canDomMutate_1_2_1_node.insertBefore.call(c.parentNode,a,c)}splice$2.apply(this.masterNodeList,[d,0].concat(n)),splice$2.apply(this.indexMap,[t,0].concat(r));for(var u=t+r.length,y=this.indexMap.length;u<y;u++)this.indexMap[u].set(u)},remove:function(e,t){0>t&&(t=this.indexMap.length+t);var a=removeFromNodeList(this.masterNodeList,t,e.length),n=this.indexMap;n.splice(t,e.length);for(var r=t,o=n.length;r<o;r++)n[r].set(r);this.exit?canViewNodelist_4_3_2_canViewNodelist.unregister(this.masterNodeList):(this.addFalseyIfEmpty(),canViewNodelist_4_3_2_canViewNodelist.remove(a))},addFalseyIfEmpty:function(){if(this.falseyRender&&0===this.indexMap.length){var e=[],t=renderAndAddToNodeLists(e,this.masterNodeList,this.falseyRender,this.currentList,[this.currentList]);canViewNodelist_4_3_2_canViewNodelist.after([this.masterNodeList[0]],t),this.masterNodeList.push(e[0])}},move:function(e,t){++e,++t;var a=this.masterNodeList,n=this.indexMap,r=a[e],o=canFragment_1_2_0_canFragment(canViewNodelist_4_3_2_canViewNodelist.flatten(a[t])),s;s=t<e?canViewNodelist_4_3_2_canViewNodelist.last(r).nextSibling:canViewNodelist_4_3_2_canViewNodelist.first(r);var l=a[0].parentNode;l.insertBefore(o,s);var d=a[t];[].splice.apply(a,[t,1]),[].splice.apply(a,[e,0,d]),--e,--t;var p=n[t];[].splice.apply(n,[t,1]),[].splice.apply(n,[e,0,p]);var c=Math.min(t,e),u=n.length;for(u;c<u;c++)n[c].set(c)},set:function(e,t){this.remove({length:1},t,!0),this.add([e],t)}},core.list=function(e,t,a,n,r,o,s){if(e.nodeType!==Node.TEXT_NODE){var i;o?(i=document.createTextNode(""),canViewNodelist_4_3_2_canViewNodelist.replace(o,i),canViewNodelist_4_3_2_canViewNodelist.update(o,[i]),e=i):(i=document.createTextNode(""),e.parentNode.replaceChild(i,e),e=i)}new ListDOMPatcher(e,t,a,n,r,o,s)},core.text=function(e,t,a,n){function r(t){e.nodeValue=core.makeString(t)}if(e.nodeType!==Node.TEXT_NODE){var o;n?(o=document.createTextNode(""),canViewNodelist_4_3_2_canViewNodelist.replace(n,o),canViewNodelist_4_3_2_canViewNodelist.update(n,[o]),e=o):(o=document.createTextNode(""),e.parentNode.replaceChild(o,e),e=o)}var s=core.getParentNode(e,a);e.nodeValue=core.makeString(canReflect_1_17_4_canReflect.getValue(t));var i=core.listen(s,t,r,"domUI");n||(n=canViewNodelist_4_3_2_canViewNodelist.register([e],null,!0)),n.unregistered=i.teardownCheck,i.nodeList=n};var canViewLive_4_2_0_canViewLive=core,noop=function(){},TextSectionBuilder=function(){this.stack=[new TextSection]};canAssign_1_3_1_canAssign(TextSectionBuilder.prototype,utils$1.mixins),canAssign_1_3_1_canAssign(TextSectionBuilder.prototype,{startSection:function(e){var t=new TextSection;this.last().add({process:e,truthy:t}),this.stack.push(t)},endSection:function(){this.stack.pop()},inverse:function(){this.stack.pop();var e=new TextSection;this.last().last().falsey=e,this.stack.push(e)},compile:function(e){var t=this.stack[0].compile();return function(a){var n=new canObservation_4_1_0_canObservation(function(){return t(a)},null,{isObservable:!1});canReflect_1_17_4_canReflect.onValue(n,noop);var r=canReflect_1_17_4_canReflect.getValue(n);canReflect_1_17_4_canReflect.valueHasDependencies(n)?(e.textContentOnly?canViewLive_4_2_0_canViewLive.text(this,n):e.attr?canViewLive_4_2_0_canViewLive.attr(this,e.attr,n):canViewLive_4_2_0_canViewLive.attrs(this,n,a),canReflect_1_17_4_canReflect.offValue(n,noop)):e.textContentOnly?this.nodeValue=r:e.attr?canDomMutate_1_2_1_node.setAttribute.call(this,e.attr,r):canViewLive_4_2_0_canViewLive.attrs(this,r)}}});var passTruthyFalsey=function(e,t,a){return function(n){return e.call(this,n,t,a)}},TextSection=function(){this.values=[]};canAssign_1_3_1_canAssign(TextSection.prototype,{add:function(e){this.values.push(e)},last:function(){return this.values[this.values.length-1]},compile:function(){for(var e=this.values,t=e.length,a=0,n;a<t;a++)n=this.values[a],"object"==typeof n&&(e[a]=passTruthyFalsey(n.process,n.truthy&&n.truthy.compile(),n.falsey&&n.falsey.compile()));return function(a){for(var n="",r=0,o;r<t;r++)o=e[r],n+="string"==typeof o?o:o.call(this,a);return n}}});var text_section=TextSectionBuilder,Arg=function(e,t){this.expr=e,this.modifiers=t||{},this.isCompute=!1};Arg.prototype.value=function(){return this.expr.value.apply(this.expr,arguments)};var arg=Arg,Literal=function(e){this._value=e};Literal.prototype.value=function(){return this._value};var literal=Literal;function SetterObservable(e,t){this.setter=t,this.observation=new canObservation_4_1_0_canObservation(e),this.handler=this.handler.bind(this)}SetterObservable.prototype=Object.create(settable.prototype),SetterObservable.prototype.constructor=SetterObservable,SetterObservable.prototype.set=function(e){this.setter(e)},SetterObservable.prototype.hasDependencies=function(){return canReflect_1_17_4_canReflect.valueHasDependencies(this.observation)},canReflect_1_17_4_canReflect.assignSymbols(SetterObservable.prototype,{"can.setValue":SetterObservable.prototype.set,"can.valueHasDependencies":SetterObservable.prototype.hasDependencies});var setter=SetterObservable;function getObservableValue_fromKey(e,t,a){var n=t.computeData(e,a);return canObservation_4_1_0_canObservation.temporarilyBind(n),n}function computeHasDependencies(e){return e[canSymbol_1_6_1_canSymbol.for("can.valueHasDependencies")]?canReflect_1_17_4_canReflect.valueHasDependencies(e):e.computeInstance.hasDependencies}function getObservableValue_fromDynamicKey_fromObservable(e,t){var a=function(){return canStacheKey_1_4_0_canStacheKey.reads((""+canReflect_1_17_4_canReflect.getValue(e)).replace(".","\\."))},n=new setter(function(){var e=canStacheKey_1_4_0_canStacheKey.read(canReflect_1_17_4_canReflect.getValue(t),a());return r=e.parentHasKey,e.value},function(e){canStacheKey_1_4_0_canStacheKey.write(canReflect_1_17_4_canReflect.getValue(t),a(),e)}),r;return canObservation_4_1_0_canObservation.temporarilyBind(n),n.initialValue=canReflect_1_17_4_canReflect.getValue(n),n.parentHasKey=r,n}function convertToArgExpression(e){return e instanceof arg||e instanceof literal?e:new arg(e)}function toComputeOrValue(e){return canReflect_1_17_4_canReflect.isObservableLike(e)?canReflect_1_17_4_canReflect.isValueLike(e)&&!1===canReflect_1_17_4_canReflect.valueHasDependencies(e)?canReflect_1_17_4_canReflect.getValue(e):e.compute?e.compute:canViewScope_4_7_0_makeComputeLike(e):e}function toCompute(e){return e?e.isComputed?e:e.compute?e.compute:canViewScope_4_7_0_makeComputeLike(e):e}var expressionHelpers={getObservableValue_fromKey:getObservableValue_fromKey,computeHasDependencies:computeHasDependencies,getObservableValue_fromDynamicKey_fromObservable:getObservableValue_fromDynamicKey_fromObservable,convertToArgExpression:convertToArgExpression,toComputeOrValue:toComputeOrValue,toCompute:toCompute},Hashes=function(e){this.hashExprs=e};Hashes.prototype.value=function(){var e={};for(var t in this.hashExprs){var a=expressionHelpers.convertToArgExpression(this.hashExprs[t]),n=a.value.apply(a,arguments);e[t]={call:!a.modifiers||!a.modifiers.compute,value:n}}return new canObservation_4_1_0_canObservation(function(){var t={};for(var a in e)t[a]=e[a].call?canReflect_1_17_4_canReflect.getValue(e[a].value):expressionHelpers.toComputeOrValue(e[a].value);return t})};var hashes=Hashes,Bracket=function(e,t){this.root=t,this.key=e};Bracket.prototype.value=function(e,t){var a=this.root?this.root.value(e,t):e.peek("this");return expressionHelpers.getObservableValue_fromDynamicKey_fromObservable(this.key.value(e,t),a,e,t,{})},Bracket.prototype.closingTag=function(){};var bracket=Bracket,setIdentifier=function(e){this.value=e},sourceTextSymbol=canSymbol_1_6_1_canSymbol.for("can-stache.sourceText"),Call=function(e,t){this.methodExpr=e,this.argExprs=t.map(expressionHelpers.convertToArgExpression)};Call.prototype.args=function(e,t){for(var a={},n=[],r=0,o=this.argExprs.length,s;r<o;r++)if(s=this.argExprs[r],s.expr instanceof hashes&&canAssign_1_3_1_canAssign(a,s.expr.hashExprs),!("function"==typeof t)||!t(r)){var l=s.value.apply(s,arguments);n.push({call:!s.modifiers||!s.modifiers.compute,value:l})}return function(e){var t=[];0<canReflect_1_17_4_canReflect.size(a)&&(t.hashExprs=a);for(var r=0,o=n.length;r<o;r++)t[r]=e?n[r].value:n[r].call?canReflect_1_17_4_canReflect.getValue(n[r].value):expressionHelpers.toCompute(n[r].value);return t}},Call.prototype.value=function(e,t){var a=this,n=this.methodExpr.value(e,{proxyMethods:!1}),r=canReflect_1_17_4_canReflect.getValue(n),o=a.args(e,r&&r.ignoreArgLookup),s=function(a){var r=canReflect_1_17_4_canReflect.getValue(n);if("function"==typeof r){var s=o(r.isLiveBound);return r.requiresOptionsArgument&&(s.hashExprs&&t&&t.exprData&&(t.exprData.hashExprs=s.hashExprs),void 0!==t&&s.push(t)),arguments.length&&s.unshift(new setIdentifier(a)),r.apply(n.thisArg||e.peek("this"),s)}};if(t&&t.doNotWrapInObservation)return s();var i=new setter(s,s);return i},Call.prototype.closingTag=function(){return this.methodExpr.key};var call$1=Call,Helper=function(e,t,a){this.methodExpr=e,this.argExprs=t,this.hashExprs=a,this.mode=null};Helper.prototype.args=function(){for(var e=[],t=0,a=this.argExprs.length,n;t<a;t++)n=this.argExprs[t],e.push(expressionHelpers.toComputeOrValue(n.value.apply(n,arguments)));return e},Helper.prototype.hash=function(){var e={};for(var t in this.hashExprs){var a=this.hashExprs[t];e[t]=expressionHelpers.toComputeOrValue(a.value.apply(a,arguments))}return e},Helper.prototype.value=function(e,t){var a=this.methodExpr instanceof literal?""+this.methodExpr._value:this.methodExpr.key,n=this,r=expressionHelpers.getObservableValue_fromKey(a,e,{proxyMethods:!1}),o=r&&r.initialValue,s=r&&r.thisArg;return"function"==typeof o&&(r=function(){var a=n.args(e),r=canAssign_1_3_1_canAssign(canAssign_1_3_1_canAssign({},t),{hash:n.hash(e),exprData:n});return a.push(r),o.apply(s||e.peek("this"),a)}),r},Helper.prototype.closingTag=function(){return this.methodExpr.key},"production"!==process.env.NODE_ENV&&canReflect_1_17_4_canReflect.assignSymbols(Helper.prototype,{"can.getName":function(){return canReflect_1_17_4_canReflect.getName(this.constructor)+"{{"+this.sourceText()+"}}"}});var helper=Helper,sourceTextSymbol$1=canSymbol_1_6_1_canSymbol.for("can-stache.sourceText"),Lookup=function(e,t,a){this.key=e,this.rootExpr=t,canReflect_1_17_4_canReflect.setKeyValue(this,sourceTextSymbol$1,a)};Lookup.prototype.value=function(e,t){var a;return a=this.rootExpr?expressionHelpers.getObservableValue_fromDynamicKey_fromObservable(this.key,this.rootExpr.value(e),e,{},{}):expressionHelpers.getObservableValue_fromKey(this.key,e,t),a};var lookup=Lookup,last$1=utils$1.last,sourceTextSymbol$2=canSymbol_1_6_1_canSymbol.for("can-stache.sourceText"),Hash=function(){},keyRegExp=/[\w\.\\\-_@\/\&%]+/,tokensRegExp=/('.*?'|".*?"|=|[\w\.\\\-_@\/*%\$]+|[\(\)]|,|\~|\[|\]\s*|\s*(?=\[))/g,bracketSpaceRegExp=/\]\s+/,literalRegExp=/^('.*?'|".*?"|-?[0-9]+\.?[0-9]*|true|false|null|undefined)$/,isTokenKey=function(e){return keyRegExp.test(e)},testDot=/^[\.@]\w/,isAddingToExpression=function(e){return isTokenKey(e)&&testDot.test(e)},ensureChildren=function(e){return e.children||(e.children=[]),e},Stack=function(){this.root={children:[],type:"Root"},this.current=this.root,this.stack=[this.root]};canAssign_1_3_1_canAssign(Stack.prototype,{top:function(){return last$1(this.stack)},isRootTop:function(){return this.top()===this.root},popTo:function(e){this.popUntil(e),this.pop()},pop:function(){this.isRootTop()||this.stack.pop()},first:function(e){for(var t=this.stack.length-1;0<t&&-1===e.indexOf(this.stack[t].type);)t--;return this.stack[t]},firstParent:function(e){for(var t=this.stack.length-2;0<t&&-1===e.indexOf(this.stack[t].type);)t--;return this.stack[t]},popUntil:function(e){for(;-1===e.indexOf(this.top().type)&&!this.isRootTop();)this.stack.pop();return this.top()},addTo:function(e,t){var a=this.popUntil(e);ensureChildren(a).children.push(t)},addToAndPush:function(e,t){this.addTo(e,t),this.stack.push(t)},push:function(e){this.stack.push(e)},topLastChild:function(){return last$1(this.top().children)},replaceTopLastChild:function(e){var t=ensureChildren(this.top()).children;return t.pop(),t.push(e),e},replaceTopLastChildAndPush:function(e){this.replaceTopLastChild(e),this.stack.push(e)},replaceTopAndPush:function(e){var t;return this.top()===this.root?t=ensureChildren(this.top()).children:(this.stack.pop(),t=ensureChildren(this.top()).children),t.pop(),t.push(e),this.stack.push(e),e}});var convertKeyToLookup=function(e){var t=e.lastIndexOf("./"),a=e.lastIndexOf(".");if(a>t)return e.substr(0,a)+"@"+e.substr(a+1);var n=-1===t?0:t+2,r=e.charAt(n);return"."===r||"@"===r?e.substr(0,n)+"@"+e.substr(n+1):e.substr(0,n)+"@"+e.substr(n)},convertToAtLookup=function(e){return"Lookup"===e.type&&(canReflect_1_17_4_canReflect.setKeyValue(e,sourceTextSymbol$2,e.key),e.key=convertKeyToLookup(e.key)),e},convertToHelperIfTopIsLookup=function(e){var t=e.top();if(t&&"Lookup"===t.type){var a=e.stack[e.stack.length-2];"Helper"!==a.type&&a&&e.replaceTopAndPush({type:"Helper",method:t})}},expression={toComputeOrValue:expressionHelpers.toComputeOrValue,convertKeyToLookup:convertKeyToLookup,Literal:literal,Lookup:lookup,Arg:arg,Hash:Hash,Hashes:hashes,Call:call$1,Helper:helper,Bracket:bracket,SetIdentifier:setIdentifier,tokenize:function(e){var t=[];return(e.trim()+" ").replace(tokensRegExp,function(e,a){bracketSpaceRegExp.test(a)?(t.push(a[0]),t.push(a.slice(1))):t.push(a)}),t},lookupRules:{default:function(e){return"Helper"===e.type?helper:lookup},method:function(){return lookup}},methodRules:{default:function(e){return"Call"===e.type?call$1:helper},call:function(){return call$1}},parse:function(e,t){t=t||{};var a=this.ast(e);t.lookupRule||(t.lookupRule="default"),"string"==typeof t.lookupRule&&(t.lookupRule=expression.lookupRules[t.lookupRule]),t.methodRule||(t.methodRule="default"),"string"==typeof t.methodRule&&(t.methodRule=expression.methodRules[t.methodRule]);var n=this.hydrateAst(a,t,t.baseMethodType||"Helper");return n},hydrateAst:function(e,t,a,n){var r;if("Lookup"===e.type){var o=t.lookupRule(e,a,n),s=new o(e.key,e.root&&this.hydrateAst(e.root,t,a),e[sourceTextSymbol$2]);return s}if("Literal"===e.type)return new literal(e.value);if("Arg"===e.type)return new arg(this.hydrateAst(e.children[0],t,a,n),{compute:!0});if("Hash"===e.type)throw new Error("");else{if("Hashes"===e.type)return r={},e.children.forEach(function(e){r[e.prop]=this.hydrateAst(e.children[0],t,a,!0)},this),new hashes(r);if("Call"===e.type||"Helper"===e.type){r={};var l=[],d=e.children,p=t.methodRule(e);if(d)for(var c=0,u;c<d.length;c++)u=d[c],"Hashes"===u.type&&"Helper"===e.type&&p!==call$1?u.children.forEach(function(a){r[a.prop]=this.hydrateAst(a.children[0],t,e.type,!0)},this):l.push(this.hydrateAst(u,t,e.type,!0));return new p(this.hydrateAst(e.method,t,e.type),l,r)}if("Bracket"===e.type){var y;return new bracket(this.hydrateAst(e.children[0],t),e.root?this.hydrateAst(e.root,t):void 0,y)}}},ast:function(e){var t=this.tokenize(e);return this.parseAst(t,{index:0})},parseAst:function(e,t){for(var a=new Stack,n,r,o;t.index<e.length;){var s=e[t.index],i=e[t.index+1];if(t.index++,"="===i){n=a.top(),n&&"Lookup"===n.type&&(r=a.firstParent(["Call","Helper","Hash"]),("Call"===r.type||"Root"===r.type)&&(a.popUntil(["Call"]),n=a.top(),a.replaceTopAndPush({type:"Helper",method:"Root"===n.type?last$1(n.children):n}))),r=a.firstParent(["Call","Helper","Hashes"]);var l={type:"Hash",prop:s};"Hashes"===r.type?a.addToAndPush(["Hashes"],l):(a.addToAndPush(["Helper","Call"],{type:"Hashes",children:[l]}),a.push(l)),t.index++}else if(literalRegExp.test(s))convertToHelperIfTopIsLookup(a),r=a.first(["Helper","Call","Hash","Bracket"]),"Hash"===r.type&&r.children&&0<r.children.length?a.addTo(["Helper","Call","Bracket"],{type:"Literal",value:utils$1.jsonParse(s)}):"Bracket"===r.type&&r.children&&0<r.children.length?a.addTo(["Helper","Call","Hash"],{type:"Literal",value:utils$1.jsonParse(s)}):a.addTo(["Helper","Call","Hash","Bracket"],{type:"Literal",value:utils$1.jsonParse(s)});else if(keyRegExp.test(s))o=a.topLastChild(),r=a.first(["Helper","Call","Hash","Bracket"]),o&&("Call"===o.type||"Bracket"===o.type)&&isAddingToExpression(s)?a.replaceTopLastChildAndPush({type:"Lookup",root:o,key:s.slice(1)}):"Bracket"===r.type?r.children&&0<r.children.length?"Helper"===a.first(["Helper","Call","Hash","Arg"]).type&&"."!==s[0]?a.addToAndPush(["Helper"],{type:"Lookup",key:s}):a.replaceTopAndPush({type:"Lookup",key:s.slice(1),root:r}):a.addToAndPush(["Bracket"],{type:"Lookup",key:s}):(convertToHelperIfTopIsLookup(a),a.addToAndPush(["Helper","Call","Hash","Arg","Bracket"],{type:"Lookup",key:s}));else if("~"===s)convertToHelperIfTopIsLookup(a),a.addToAndPush(["Helper","Call","Hash"],{type:"Arg",key:s});else if("("===s){if(n=a.top(),"Lookup"===n.type)a.replaceTopAndPush({type:"Call",method:convertToAtLookup(n)});else throw new Error("Unable to understand expression "+e.join(""));}else if(")"===s)a.popTo(["Call"]);else if(","===s)a.popUntil(["Call"]);else if("["!==s)"]"===s?a.pop():" "===s&&a.push(s);else if(n=a.top(),o=a.topLastChild(),o&&("Call"===o.type||"Bracket"===o.type))a.replaceTopAndPush({type:"Bracket",root:o});else if("Lookup"===n.type||"Bracket"===n.type){var d={type:"Bracket",root:n};a.replaceTopAndPush(d)}else"Call"===n.type?a.addToAndPush(["Call"],{type:"Bracket"}):" "===n?(a.popUntil(["Lookup","Call"]),convertToHelperIfTopIsLookup(a),a.addToAndPush(["Helper","Call","Hash"],{type:"Bracket"})):a.replaceTopAndPush({type:"Bracket"})}return a.root.children[0]}},expression_1=expression,expression$1=expression_1;function HelperOptions(e,t,a,n){this.metadata={rendered:!1},this.stringOnly=n,this.scope=e,this.nodeList=t,this.exprData=a}canDefineLazyValue_1_1_0_defineLazyValue(HelperOptions.prototype,"context",function(){return this.scope.peek("this")});var mustacheLineBreakRegExp=/(?:(^|\r?\n)(\s*)(\{\{([\s\S]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([\s\S]*)\}\}\}?)/g,mustacheWhitespaceRegExp=/(\s*)(\{\{\{?)(-?)([\s\S]*?)(-?)(\}\}\}?)(\s*)/g,k=function(){},viewInsertSymbol$1=canSymbol_1_6_1_canSymbol.for("can.viewInsert"),core$1={expression:expression$1,makeEvaluator:function(e,t,a,n,r,o,s){if("^"===a){var i=r;r=o,o=i}var l=new HelperOptions(e,t,n,s),d;if(utils$1.createRenderers(l,e,t,r,o,s),n instanceof expression$1.Call)d=n.value(e,l);else if(n instanceof expression$1.Bracket)d=n.value(e);else if(n instanceof expression$1.Lookup)d=n.value(e);else if(n instanceof expression$1.Helper&&n.methodExpr instanceof expression$1.Bracket)d=n.methodExpr.value(e,l);else if(d=n.value(e,l),"function"==typeof d)return d;return!a||l.metadata.rendered?d:"#"===a||"^"===a?function(){var t=canReflect_1_17_4_canReflect.getValue(d),a;if(l.metadata.rendered)a=t;else if("string"!=typeof t&&canReflect_1_17_4_canReflect.isListLike(t)){var n=canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isListLike(t);a=canReflect_1_17_4_canReflect.getKeyValue(t,"length")?s?utils$1.getItemsStringContent(t,n,l):canFragment_1_2_0_canFragment(utils$1.getItemsFragContent(t,l,e)):l.inverse(e)}else a=t?l.fn(t||e):l.inverse(e);return l.metadata.rendered=!1,a}:void 0},makeLiveBindingPartialRenderer:function(e,t){e=e.trim();var a=e.split(/\s+/).shift(),n;return a!==e&&(n=core$1.expression.parse(e)),function(e,r){var o=[this];o.expression=">"+a,canViewNodelist_4_3_2_canViewNodelist.register(o,null,r||!0,t.directlyNested);var s=new canObservation_4_1_0_canObservation(function(){var t=a;if(n&&1===n.argExprs.length){var r=canReflect_1_17_4_canReflect.getValue(n.argExprs[0].value(e));"undefined"==typeof r||(e=e.add(r))}var s=canReflect_1_17_4_canReflect.getKeyValue(e.templateContext.partials,t),i;if(s)i=function(){return s.render?s.render(e,o):s(e)};else{var l=e.read(t,{isArgument:!0}).value;if(null===l||!l&&"*"===t[0])return canFragment_1_2_0_canFragment("");l&&(t=l),i=function(){if("function"==typeof t)return t(e,{},o);var a=core$1.getTemplateById(t);return a?a(e,{},o):document$1().createDocumentFragment()}}var d=canObservationRecorder_1_2_0_canObservationRecorder.ignore(i)();return canFragment_1_2_0_canFragment(d)});canReflect_1_17_4_canReflect.setPriority(s,o.nesting),canViewLive_4_2_0_canViewLive.html(this,s,this.parentNode,o)}},makeStringBranchRenderer:function(e,t){var a=core$1.expression.parse(t),n=e+t,r=function(t,r,o){var s=t.__cache[n];(e||!s)&&(s=makeEvaluator(t,null,e,a,r,o,!0),!e&&(t.__cache[n]=s));var i=s[canSymbol_1_6_1_canSymbol.for("can.onValue")],l;return l=i?canReflect_1_17_4_canReflect.getValue(s):s(),null==l?"":""+l};return r.exprData=a,r},makeLiveBindingBranchRenderer:function(e,t,a){var n=core$1.expression.parse(t);n instanceof expression$1.Helper||n instanceof expression$1.Call||n instanceof expression$1.Bracket||n instanceof expression$1.Lookup||(n=new expression$1.Helper(n,[],{}));var r=function(r,o,s,i){var l=a.tag,d=[this];d.expression=t,canViewNodelist_4_3_2_canViewNodelist.register(d,null,o||!0,a.directlyNested);var p=makeEvaluator(r,d,e,n,s,i,l),c=p[canSymbol_1_6_1_canSymbol.for("can.onValue")],u;if(u=c?p:new canObservation_4_1_0_canObservation(p,null,{isObservable:!1}),!1===canReflect_1_17_4_canReflect.setPriority(u,d.nesting))throw new Error("can-stache unable to set priority on observable");canReflect_1_17_4_canReflect.onValue(u,k);var y=canReflect_1_17_4_canReflect.getValue(u);if("function"==typeof y&&!(n instanceof expression$1.Lookup))canObservationRecorder_1_2_0_canObservationRecorder.ignore(y)(this);else if(canReflect_1_17_4_canReflect.valueHasDependencies(u))a.attr?canViewLive_4_2_0_canViewLive.attr(this,a.attr,u):a.tag?canViewLive_4_2_0_canViewLive.attrs(this,u):a.text&&"object"!=typeof y?canViewLive_4_2_0_canViewLive.text(this,u,this.parentNode,d):canViewLive_4_2_0_canViewLive.html(this,u,this.parentNode,{nodeList:d});else if(a.attr)canDomMutate_1_2_1_canDomMutate.setAttribute(this,a.attr,y);else if(a.tag)canViewLive_4_2_0_canViewLive.attrs(this,y);else if(a.text&&"string"==typeof y)this.nodeValue=y;else if(null!=y)if("function"==typeof y[viewInsertSymbol$1]){var h=y[viewInsertSymbol$1]({nodeList:d}),g=canViewNodelist_4_3_2_canViewNodelist.update(d,[h]);canViewNodelist_4_3_2_canViewNodelist.replace(g,h)}else canViewNodelist_4_3_2_canViewNodelist.replace([this],canFragment_1_2_0_canFragment(y,this.ownerDocument));canReflect_1_17_4_canReflect.offValue(u,k)};return r.exprData=n,r},splitModeFromExpression:function(e,t){e=e.trim();var a=e.charAt(0);return 0<="#/{&^>!<".indexOf(a)?e=e.substr(1).trim():a=null,"{"===a&&t.node&&(a=null),{mode:a,expression:e}},cleanLineEndings:function(e){return e.replace(mustacheLineBreakRegExp,function(e,t,a,n,r,o,s,i,l,d){o=o||"",t=t||"",a=a||"";var p=splitModeFromExpression(r||l,{});return i||0<=">{".indexOf(p.mode)?e:0<="^#!/".indexOf(p.mode)?(a=t+a&&" ",a+n+(0!==d&&s.length?t+"\n":"")):a+n+o+(a.length||0!==d?t+"\n":"")})},cleanWhitespaceControl:function(e){return e.replace(mustacheWhitespaceRegExp,function(e,t,a,n,r,o,s,i){return"-"===n&&(t=""),"-"===o&&(i=""),t+a+r+s+i})},getTemplateById:function(){}},makeEvaluator=core$1.makeEvaluator,splitModeFromExpression=core$1.splitModeFromExpression,mustache_core=core$1;canGlobals_1_2_0_canGlobalsInstance.define("base-url",function(){var e=canGlobals_1_2_0_canGlobalsInstance.getKeyValue("global"),t=canGlobals_1_2_0_canGlobalsInstance.getKeyValue("document");if(t&&"baseURI"in t)return t.baseURI;if(e.location){var a=e.location.href,n=a.lastIndexOf("/");return-1===n?a:a.substr(0,n)}return"undefined"==typeof process?void 0:process.cwd()});var baseUrl=canGlobals_1_2_0_canGlobalsInstance.makeExport("base-url"),canParseUri_1_2_0_canParseUri=canNamespace_1_0_0_canNamespace.parseURI=function(e){var t=(e+"").replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null},canJoinUris_1_2_0_canJoinUris=canNamespace_1_0_0_canNamespace.joinURIs=function(e,t){return t=canParseUri_1_2_0_canParseUri(t||""),e=canParseUri_1_2_0_canParseUri(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null};function noop$1(){}var resolveValue=noop$1,evaluateArgs=noop$1,__testing={};function debuggerHelper(){canLog_1_0_0_canLog.warn("Forgotten {{debugger}} helper")}debuggerHelper.requiresOptionsArgument=!0;var Debugger={helper:debuggerHelper,evaluateArgs:evaluateArgs,resolveValue:resolveValue,__testing:__testing},truthyObservable=function(e){return new canObservation_4_1_0_canObservation(function(){var t=canReflect_1_17_4_canReflect.getValue(e);return!!t})},canDomData_1_0_1_canDomData=createCommonjsModule(function(e){var t=function(e){for(var t in e)return!1;return!0},a=new WeakMap,n=function(e){var t=!1;return a.has(e)&&(t=!0,a.delete(e)),t};if(canNamespace_1_0_0_canNamespace.domData)throw new Error("You can't have two versions of can-dom-data, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.domData={_data:a,get:function(e,t){var n=a.get(e);return t===void 0?n:n&&n[t]},set:function(e,t,n){var r=a.get(e);return void 0===r&&(r={},a.set(e,r)),void 0!==t&&(r[t]=n),r},clean:function(e,r){var o=a.get(e);o&&o[r]&&delete o[r],t(o)&&n(e)},delete:n}}),debuggerHelper$1=Debugger.helper,looksLikeOptions=function(e){return e&&"function"==typeof e.fn&&"function"==typeof e.inverse},resolve=function(e){return e&&canReflect_1_17_4_canReflect.isValueLike(e)?canReflect_1_17_4_canReflect.getValue(e):e},resolveHash=function(e){var t={};for(var a in e)t[a]=resolve(e[a]);return t},bindAndRead=function(e){return e&&canReflect_1_17_4_canReflect.isValueLike(e)?(canObservation_4_1_0_canObservation.temporarilyBind(e),canReflect_1_17_4_canReflect.getValue(e)):e},eachHelper=function(e){var t=[].slice.call(arguments),a=t.pop(),n=a.exprData.hashExprs,r=bindAndRead(e),o,s;if(0<canReflect_1_17_4_canReflect.size(n)&&(o={},canReflect_1_17_4_canReflect.eachKey(n,function(e,t){o[e.key]=t})),(canReflect_1_17_4_canReflect.isObservableLike(r)&&canReflect_1_17_4_canReflect.isListLike(r)||canReflect_1_17_4_canReflect.isListLike(r)&&canReflect_1_17_4_canReflect.isValueLike(e))&&!a.stringOnly)return a.metadata.rendered=!0,function(t){var n=[t];n.expression="live.list",canViewNodelist_4_3_2_canViewNodelist.register(n,null,a.nodeList,!0),canViewNodelist_4_3_2_canViewNodelist.update(a.nodeList,[t]);var r=function(e,t,n){var r={};return 0<canReflect_1_17_4_canReflect.size(o)&&(o.value&&(r[o.value]=e),o.index&&(r[o.index]=t)),a.fn(a.scope.add(r,{notContext:!0}).add({index:t},{special:!0}).add(e),a.options,n)};canViewLive_4_2_0_canViewLive.list(t,e,r,a.context,t.parentNode,n,function(e,t){return a.inverse(a.scope.add(e),a.options,t)})};var i=resolve(e),l;return!!i&&canReflect_1_17_4_canReflect.isListLike(i)?(l=utils$1.getItemsFragContent(i,a,a.scope),a.stringOnly?l.join(""):l):canReflect_1_17_4_canReflect.isObservableLike(i)&&canReflect_1_17_4_canReflect.isMapLike(i)||i instanceof Object?(l=[],canReflect_1_17_4_canReflect.each(i,function(e,t){var n=new keyObservable(i,t);s={},0<canReflect_1_17_4_canReflect.size(o)&&(o.value&&(s[o.value]=n),o.key&&(s[o.key]=t)),l.push(a.fn(a.scope.add(s,{notContext:!0}).add({key:t},{special:!0}).add(n)))}),a.stringOnly?l.join(""):l):void 0};eachHelper.isLiveBound=!0,eachHelper.requiresOptionsArgument=!0,eachHelper.ignoreArgLookup=function(e){return 1===e};var indexHelper=function(e,t){t||(t=e,e=0);var a=t.scope.peek("scope.index");return""+(("function"==typeof a?a():a)+e)};indexHelper.requiresOptionsArgument=!0;var ifHelper=function(e,t){var a;return a=e&&canReflect_1_17_4_canReflect.isValueLike(e)?canReflect_1_17_4_canReflect.getValue(new truthyObservable(e)):!!resolve(e),a?t.fn(t.scope||this):t.inverse(t.scope||this)};ifHelper.requiresOptionsArgument=!0;var isHelper=function(){function e(){for(var e=0;e<r.length-1;e++){if(n=resolve(r[e]),n="function"==typeof n?n():n,0<e&&n!==a)return!1;a=n}return!0}var t=arguments[arguments.length-1],a,n;if(2>=arguments.length)return t.inverse();var r=arguments,o=new canObservation_4_1_0_canObservation(e);return o.get()?t.fn():t.inverse()};isHelper.requiresOptionsArgument=!0;var unlessHelper=function(e,t){return ifHelper.apply(this,[e,canAssign_1_3_1_canAssign(canAssign_1_3_1_canAssign({},t),{fn:t.inverse,inverse:t.fn})])};unlessHelper.requiresOptionsArgument=!0;var withHelper=function(e,t){var a=e;return t?(e=resolve(e),t.hash&&0<canReflect_1_17_4_canReflect.size(t.hash)&&(a=t.scope.add(t.hash,{notContext:!0}).add(a))):(t=e,e=!0,a=t.hash),t.fn(a||{})};withHelper.requiresOptionsArgument=!0;var dataHelper=function(e,t){var a=(looksLikeOptions(t)?t.context:t)||this;return function(t){canDomDataState_1_0_2_canDomDataState.set.call(t,e,a)}},domDataHelper=function(e,t){var a=(looksLikeOptions(t)?t.context:t)||this;return function(t){canDomData_1_0_1_canDomData.set(t,e,a)}},switchHelper=function(e,t){resolve(e);var a=!1,n=function(t,n){if(!a&&resolve(e)===resolve(t))return a=!0,n.fn(n.scope.peek("this")||this)};n.requiresOptionsArgument=!0;var r=function(e){if(!a)return!e||e.scope.peek("this")};r.requiresOptionsArgument=!0,canReflect_1_17_4_canReflect.assignSymbols(r,{"can.isValueLike":!0,"can.isFunctionLike":!1,"can.getValue":function(){return this(t)}});var o=t.scope.add({case:n,default:r},{notContext:!0});return t.fn(o,t)};switchHelper.requiresOptionsArgument=!0;var joinBaseHelper=function(){var e=[].slice.call(arguments),t=e.pop(),a=e.map(function(e){var t=resolve(e);return"function"==typeof t?t():t}).join(""),n=canReflect_1_17_4_canReflect.getKeyValue(t.scope.templateContext.helpers,"module"),r=n?n.uri:void 0,o="."===a[0];if(o&&r)return canJoinUris_1_2_0_canJoinUris(r,a);var s="undefined"!=typeof System&&(System.renderingBaseURL||System.baseURL)||baseUrl();return"/"!==a[0]&&"/"!==s[s.length-1]&&(s+="/"),canJoinUris_1_2_0_canJoinUris(s,a)};joinBaseHelper.requiresOptionsArgument=!0;var builtInHelpers={debugger:debuggerHelper$1,each:eachHelper,eachOf:eachHelper,index:indexHelper,if:ifHelper,is:isHelper,eq:isHelper,unless:unlessHelper,with:withHelper,console:console,data:dataHelper,domData:domDataHelper,switch:switchHelper,joinBase:joinBaseHelper},addBuiltInHelpers=function(){canReflect_1_17_4_canReflect.each(builtInHelpers,function(e,t){canStacheHelpers_1_2_0_canStacheHelpers[t]=e})};addBuiltInHelpers();var registerHelper=function(e,t){t.requiresOptionsArgument=!0,canStacheHelpers_1_2_0_canStacheHelpers[e]=t},registerHelpers=function(e){var t,a;for(t in e)a=e[t],registerHelper(t,makeSimpleHelper(a))},makeSimpleHelper=function(e){return function(){var t=[];return canReflect_1_17_4_canReflect.eachIndex(arguments,function(e){for(;e&&e.isComputed;)e=e();t.push(e)}),e.apply(this,t)}},core$2={registerHelper:registerHelper,addHelper:function(e,t){return"object"==typeof e?registerHelpers(e):registerHelper(e,makeSimpleHelper(t))},addLiveHelper:function(e,t){return t.isLiveBound=!0,registerHelper(e,t)},getHelper:function(e,t){var a=t&&t.getHelper(e);return a||(a=canStacheHelpers_1_2_0_canStacheHelpers[e]),a},resolve:resolve,resolveHash:resolveHash,looksLikeOptions:looksLikeOptions,__resetHelpers:function(){for(var e in canStacheHelpers_1_2_0_canStacheHelpers)delete canStacheHelpers_1_2_0_canStacheHelpers[e];addBuiltInHelpers()}};function makeConverter(e){return e=e||{},function(t,a){var n=canReflect_1_17_4_canReflect.toArray(arguments);return t instanceof setIdentifier?"function"==typeof e.set?e.set.apply(this,[t.value].concat(n.slice(1))):a(t.value):"function"==typeof e.get?e.get.apply(this,n):n[0]}}var converterPackages=new WeakMap;core$2.addConverter=function(e,t){if("object"==typeof e)return void(converterPackages.has(e)||(converterPackages.set(e,!0),canReflect_1_17_4_canReflect.eachKey(e,function(e,t){core$2.addConverter(t,e)})));var a=makeConverter(t);a.isLiveBound=!0,core$2.registerHelper(e,a)},core$2.registerConverter=function(e,t){core$2.registerHelper(e,makeConverter(t))};var mustacheLineBreakRegExp$1=/(?:(^|\r?\n)(\s*)(\{\{([\s\S]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([\s\S]*)\}\}\}?)/g,mustacheWhitespaceRegExp$1=/(\s*)(\{\{\{?)(-?)([\s\S]*?)(-?)(\}\}\}?)(\s*)/g;function splitModeFromExpression$1(e,t){e=e.trim();var a=e.charAt(0);return 0<="#/{&^>!<".indexOf(a)?e=e.substr(1).trim():a=null,"{"===a&&t.node&&(a=null),{mode:a,expression:e}}function cleanLineEndings(e){return e.replace(mustacheLineBreakRegExp$1,function(e,t,a,n,r,o,s,i,l,d){o=o||"",t=t||"",a=a||"";var p=splitModeFromExpression$1(r||l,{});return i||0<=">{".indexOf(p.mode)?e:0<="^#!/".indexOf(p.mode)?(a=t+a&&" ",a+n+(0!==d&&s.length?t+"\n":"")):a+n+o+(a.length||0!==d?t+"\n":"")})}function whiteSpaceReplacement(e,t,a,n,r,o,s,i){return"-"===n&&(t=""),"-"===o&&(i=""),t+a+r+s+i}function cleanWhitespaceControl(e){return e.replace(mustacheWhitespaceRegExp$1,whiteSpaceReplacement)}var cleanLineEndings_1=cleanLineEndings,cleanWhitespaceControl_1=cleanWhitespaceControl,canStacheAst_1_0_0_controls={cleanLineEndings:cleanLineEndings_1,cleanWhitespaceControl:cleanWhitespaceControl_1},parse=function(e,t){function a(e){y&&(i[y]=h,y=""),u?o.push(h):r.push(h),s.push({specifier:h,loc:{line:e}})}1===arguments.length&&(t=arguments[0],e=void 0);var n=t;n=canStacheAst_1_0_0_controls.cleanWhitespaceControl(n),n=canStacheAst_1_0_0_controls.cleanLineEndings(n);var r=[],o=[],s=[],i={},l=!1,d=!1,p=!1,c=!1,u=!1,y="",h="",g=canViewParser_4_1_0_canViewParser(n,{filename:e,start:function(e,t){"can-import"===e?(c=t,u=!1,l=!0):"can-dynamic-import"===e?(c=t,u=!0,l=!0):l&&(u=!0,l=!1)},attrStart:function(e){"from"===e?d=!0:("as"==e||"export-as"==e)&&(p=!0)},attrEnd:function(e){"from"===e?d=!1:("as"==e||"export-as"==e)&&(p=!1)},attrValue:function(e){d&&l?h=e:p&&l&&(y=e)},end:function(e,t,n){("can-import"===e||"can-dynamic-import"===e)&&c&&a(n)},close:function(e,t,n){("can-import"===e||"can-dynamic-import"===e)&&a(n)},chars:function(e){0<e.trim().length&&(u=!0)},special:function(){u=!0}},!0);return{intermediate:g,program:g,imports:r,dynamicImports:o,importDeclarations:s,ases:i,exports:i}},canStacheAst_1_0_0_canStacheAst={parse:parse},canImportModule_1_2_0_canImportModule=canNamespace_1_0_0_canNamespace.import=function(e,t){return new Promise(function(a,n){try{var r=global_1();"object"==typeof r.System&&isFunction$1(r.System["import"])?r.System["import"](e,{name:t}).then(a,n):r.define&&r.define.amd?r.require([e],function(e){a(e)}):r.require?a(r.require(e)):"undefined"==typeof stealRequire?a():steal.import(e,{name:t}).then(a,n)}catch(e){n(e)}})};function isFunction$1(e){return"function"==typeof e}var getIntermediateAndImports=canStacheAst_1_0_0_canStacheAst.parse,makeRendererConvertScopes=utils$1.makeRendererConvertScopes,last$2=utils$1.last;canViewCallbacks_4_3_1_canViewCallbacks.tag("content")||canViewCallbacks_4_3_1_canViewCallbacks.tag("content",function(e,t){return t.scope});var svgNamespace="http://www.w3.org/2000/svg",namespaces={svg:"http://www.w3.org/2000/svg",g:"http://www.w3.org/2000/svg"},textContentOnlyTag={style:!0,script:!0};function stache(e,t){1===arguments.length&&(t=arguments[0],e=void 0);var a={};"string"==typeof t&&(t=mustache_core.cleanWhitespaceControl(t),t=mustache_core.cleanLineEndings(t));var n=new html_section(e),r={node:null,attr:null,sectionElementStack:[],text:!1,namespaceStack:[],textContentOnly:null},o=function(e,t,n,o){if(">"===t)e.add(mustache_core.makeLiveBindingPartialRenderer(n,i({filename:e.filename,lineNo:o})));else if("/"===t){var s=e.last();"<"===s.startedWith?(a[n]=e.endSubSectionAndReturnRenderer(),e.removeCurrentNode()):e.endSection(),e instanceof html_section&&r.sectionElementStack.pop()}else if("else"===t)e.inverse();else{var l=e instanceof html_section?mustache_core.makeLiveBindingBranchRenderer:mustache_core.makeStringBranchRenderer;if("{"===t||"&"===t)e.add(l(null,n,i({filename:e.filename,lineNo:o})));else if("#"===t||"^"===t||"<"===t){var d=l(t,n,i({filename:e.filename,lineNo:o}));e.startSection(d),e.last().startedWith=t,e instanceof html_section&&r.sectionElementStack.push({type:"section"})}else e.add(l(null,n,i({text:!0,filename:e.filename,lineNo:o})))}},s=function(){var e=r.sectionElementStack[r.sectionElementStack.length-1];return!r.sectionElementStack.length||"section"===e.type||"custom"===e.type},i=function(e){var t={tag:r.node&&r.node.tag,attr:r.attr&&r.attr.name,directlyNested:s(),textContentOnly:!!r.textContentOnly};return e?canAssign_1_3_1_canAssign(t,e):t},l=function(e,t){e.attributes||(e.attributes=[]),e.attributes.unshift(t)};canViewParser_4_1_0_canViewParser(t,{filename:e,start:function(e,t){var a=namespaces[e];a&&!t&&r.namespaceStack.push(a),r.node={tag:e,children:[],namespace:a||last$2(r.namespaceStack)}},end:function(e,t){var a=canViewCallbacks_4_3_1_canViewCallbacks.tag(e),o=s();t?(n.add(r.node),a&&l(r.node,function(t,a){canViewCallbacks_4_3_1_canViewCallbacks.tagHandler(this,e,{scope:t,subtemplate:null,templateType:"stache",parentNodeList:a,directlyNested:o})})):(n.push(r.node),r.sectionElementStack.push({type:a?"custom":null,tag:a?null:e,templates:{},directlyNested:o}),a?n.startSubSection():textContentOnlyTag[e]&&(r.textContentOnly=new text_section)),r.node=null},close:function(e){var t=namespaces[e];t&&r.namespaceStack.pop();var a=canViewCallbacks_4_3_1_canViewCallbacks.tag(e),o;a&&(o=n.endSubSectionAndReturnRenderer()),textContentOnlyTag[e]&&(n.last().add(r.textContentOnly.compile(i())),r.textContentOnly=null);var s=n.pop();if(a)if("can-template"===e){var d=r.sectionElementStack[r.sectionElementStack.length-2];o&&(d.templates[s.attrs.name]=makeRendererConvertScopes(o)),n.removeCurrentNode()}else{var p=r.sectionElementStack[r.sectionElementStack.length-1];l(s,function(t,a){canViewCallbacks_4_3_1_canViewCallbacks.tagHandler(this,e,{scope:t,subtemplate:o?makeRendererConvertScopes(o):o,templateType:"stache",parentNodeList:a,templates:p.templates,directlyNested:p.directlyNested})})}r.sectionElementStack.pop()},attrStart:function(e){r.node.section?r.node.section.add(e+"=\""):r.attr={name:e,value:""}},attrEnd:function(e){if(r.node.section)r.node.section.add("\" ");else{r.node.attrs||(r.node.attrs={}),r.node.attrs[r.attr.name]=r.attr.section?r.attr.section.compile(i()):r.attr.value;var t=canViewCallbacks_4_3_1_canViewCallbacks.attr(e);t&&(!r.node.attributes&&(r.node.attributes=[]),r.node.attributes.push(function(a,n){t(this,{attributeName:e,scope:a,nodeList:n})})),r.attr=null}},attrValue:function(e){var t=r.node.section||r.attr.section;t?t.add(e):r.attr.value+=e},chars:function(e){(r.textContentOnly||n).add(e)},special:function(e,t){var a=mustache_core.splitModeFromExpression(e,r),s=a.mode,l=a.expression;if("else"===l){var d;return d=r.attr&&r.attr.section?r.attr.section:r.node&&r.node.section?r.node.section:r.textContentOnly||n,void d.inverse()}if("!"!==s)if(r.node&&r.node.section)o(r.node.section,s,l,t),0===r.node.section.subSectionDepth()&&(r.node.attributes.push(r.node.section.compile(i())),delete r.node.section);else if(r.attr)r.attr.section||(r.attr.section=new text_section,r.attr.value&&r.attr.section.add(r.attr.value)),o(r.attr.section,s,l,t);else if(!r.node)o(r.textContentOnly||n,s,l,t);else if(r.node.attributes||(r.node.attributes=[]),!s)r.node.attributes.push(mustache_core.makeLiveBindingBranchRenderer(null,l,i({filename:n.filename,lineNo:t})));else if("#"===s||"^"===s)r.node.section||(r.node.section=new text_section),o(r.node.section,s,l,t);else throw new Error(s+" is currently not supported within a tag.")},comment:function(e){n.add({comment:e})},done:function(){}});var d=n.compile(),p=canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(e,t,n){void 0===n&&canReflect_1_17_4_canReflect.isListLike(t)&&(n=t,t=void 0),!t||t.helpers||t.partials||t.tags||(t={helpers:t}),canReflect_1_17_4_canReflect.eachKey(t&&t.helpers,function(e){e.requiresOptionsArgument=!0});var r=new canViewScope_4_7_0_templateContext(t);if(canReflect_1_17_4_canReflect.eachKey(a,function(e,t){canReflect_1_17_4_canReflect.setKeyValue(r.partials,t,e)}),canReflect_1_17_4_canReflect.setKeyValue(r,"view",p),!(e instanceof canViewScope_4_7_0_canViewScope))e=new canViewScope_4_7_0_canViewScope(r).add(e);else{var o=new canViewScope_4_7_0_canViewScope(r);o._parent=e._parent,e._parent=o}return d(e,n)});return p}canAssign_1_3_1_canAssign(stache,core$2),stache.safeString=function(e){return{toString:function(){return e}}},stache.async=function(e){var t=getIntermediateAndImports(e),a=t.imports.map(function(e){return canImportModule_1_2_0_canImportModule(e)});return Promise.all(a).then(function(){return stache(t.intermediate)})};var templates={};stache.from=mustache_core.getTemplateById=function(e){if(!templates[e]){var t=document$1().getElementById(e);t&&(templates[e]=stache("#"+e,t.innerHTML))}return templates[e]},stache.registerPartial=function(e,t){templates[e]="string"==typeof t?stache(t):t},stache.addBindings=canViewCallbacks_4_3_1_canViewCallbacks.attrs;var canStache_4_10_5_canStache=canNamespace_1_0_0_canNamespace.stache=stache,viewModelSymbol=canSymbol_1_6_1_canSymbol.for("can.viewModel"),canViewModel_4_0_1_canViewModel=canNamespace_1_0_0_canNamespace.viewModel=function(e,t,a){if("string"==typeof e?e=document$1().querySelector(e):canReflect_1_17_4_canReflect.isListLike(e)&&!e.nodeType&&(e=e[0]),canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isMapLike(t))return void(e[viewModelSymbol]=t);var n=e[viewModelSymbol];switch(n||(n=new canSimpleMap_4_2_0_canSimpleMap,e[viewModelSymbol]=n),arguments.length){case 0:case 1:return n;case 2:return canReflect_1_17_4_canReflect.getKeyValue(n,t);default:return canReflect_1_17_4_canReflect.setKeyValue(n,t,a),e;}},isDomEventTarget$2=util.isDomEventTarget,canEvent={on:function(e,t,a){isDomEventTarget$2(this)?canDomEvents_1_3_0_canDomEvents.addEventListener(this,e,t,a):canReflect_1_17_4_canReflect.onKeyValue(this,e,t,a)},off:function(e,t,a){isDomEventTarget$2(this)?canDomEvents_1_3_0_canDomEvents.removeEventListener(this,e,t,a):canReflect_1_17_4_canReflect.offKeyValue(this,e,t,a)},one:function e(t,a,n){var e=function(){return canEvent.off.call(this,t,e,n),a.apply(this,arguments)};return canEvent.on.call(this,t,e,n),this}},canAttributeObservable_1_1_2_event=canEvent,isRadioInput=function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},isValidProp=function(e,t){return"checked"===e&&!t.legacyBindings},canAttributeObservable_1_1_2_getEventName=function(e,t,a){var n="change";return isRadioInput(e)&&isValidProp(t,a)&&(n="can-attribute-observable-radiochange"),canAttributeObservable_1_1_2_behaviors.findSpecialListener(t)&&(n=t),n};function getRoot(){return document$1().documentElement}function findParentForm(e){for(;e&&!("FORM"===e.nodeName);)e=e.parentNode;return e}function shouldReceiveEventFromRadio(e,t){var a=e.getAttribute("name");return a&&a===t.getAttribute("name")&&findParentForm(e)===findParentForm(t)}function isRadioInput$1(e){return"INPUT"===e.nodeName&&"radio"===e.type}function attachRootListener(e,t){var a=getRoot(),n=function(a){var n=a.target;if(isRadioInput$1(n))for(var r in t){var o={type:r},s=t[r];s.forEach(function(t){shouldReceiveEventFromRadio(n,t)&&e.dispatch(t,o,!1)})}};return e.addEventListener(a,"change",n),n}function detachRootListener(e,t){var a=getRoot();e.removeEventListener(a,"change",t)}var radioChangeEvent={defaultEventType:"radiochange",addEventListener:function(e,t,a){if(!isRadioInput$1(e))throw new Error("Listeners for "+t+" must be radio inputs");var n=radioChangeEvent._eventTypeTrackedRadios;n||(n=radioChangeEvent._eventTypeTrackedRadios={},!radioChangeEvent._rootListener&&(radioChangeEvent._rootListener=attachRootListener(this,n)));var r=radioChangeEvent._eventTypeTrackedRadios[t];r||(r=radioChangeEvent._eventTypeTrackedRadios[t]=new Set),r.add(e),e.addEventListener(t,a)},removeEventListener:function(e,t,a){e.removeEventListener(t,a);var n=radioChangeEvent._eventTypeTrackedRadios;if(n){var r=n[t];if(r&&(r.delete(e),0===r.size)){for(var o in delete n[t],n)if(n.hasOwnProperty(o))return;delete radioChangeEvent._eventTypeTrackedRadios,detachRootListener(this,radioChangeEvent._rootListener),delete radioChangeEvent._rootListener}}}},canEventDomRadiochange_2_2_0_canEventDomRadiochange=canNamespace_1_0_0_canNamespace.domEventRadioChange=radioChangeEvent,internalRadioChangeEventType="can-attribute-observable-radiochange";canDomEvents_1_3_0_canDomEvents.addEvent(canEventDomRadiochange_2_2_0_canEventDomRadiochange,internalRadioChangeEventType);var isSelect=function(e){return"select"===e.nodeName.toLowerCase()},isMultipleSelect=function(e,t){return isSelect(e)&&"value"===t&&e.multiple},slice$4=Array.prototype.slice;function canUtilAEL(){var e=slice$4.call(arguments,0);return e.unshift(this),canDomEvents_1_3_0_canDomEvents.addEventListener.apply(null,e)}function canUtilREL(){var e=slice$4.call(arguments,0);return e.unshift(this),canDomEvents_1_3_0_canDomEvents.removeEventListener.apply(null,e)}function AttributeObservable(e,t,a,n){this.el=e,this.bound=!1,this.bindingData=a,this.prop=isMultipleSelect(e,t)?"values":t,this.event=n||canAttributeObservable_1_1_2_getEventName(e,t,a),this.handler=this.handler.bind(this)}AttributeObservable.prototype=Object.create(settable.prototype),Object.assign(AttributeObservable.prototype,{constructor:AttributeObservable,get:function(){return canObservationRecorder_1_2_0_canObservationRecorder.isRecording()&&(canObservationRecorder_1_2_0_canObservationRecorder.add(this),!this.bound&&canObservation_4_1_0_canObservation.temporarilyBind(this)),canAttributeObservable_1_1_2_behaviors.get(this.el,this.prop)},set:function(e){var t=canAttributeObservable_1_1_2_behaviors.setAttrOrProp(this.el,this.prop,e);return t||(this.value=e),e},handler:function(e){var t=this.value,a=[];this.value=canAttributeObservable_1_1_2_behaviors.get(this.el,this.prop),this.value!==t&&(a=[this.handlers.getNode([]),this,[e,t]],canQueues_1_1_3_canQueues.enqueueByQueue.apply(canQueues_1_1_3_canQueues,a))},onBound:function(){var e=this;e.bound=!0,e._handler=function(t){e.handler(canAttributeObservable_1_1_2_behaviors.get(e.el,e.prop),t)},e.event===internalRadioChangeEventType&&canAttributeObservable_1_1_2_event.on.call(e.el,"change",e._handler);var t=canAttributeObservable_1_1_2_behaviors.findSpecialListener(e.prop);t&&(e._specialDisposal=t.call(e.el,e.prop,e._handler,canUtilAEL)),canAttributeObservable_1_1_2_event.on.call(e.el,e.event,e._handler),this.value=canAttributeObservable_1_1_2_behaviors.get(this.el,this.prop)},onUnbound:function(){var e=this;e.bound=!1,e.event===internalRadioChangeEventType&&canAttributeObservable_1_1_2_event.off.call(e.el,"change",e._handler),e._specialDisposal&&(e._specialDisposal.call(e.el,canUtilREL),e._specialDisposal=null),canAttributeObservable_1_1_2_event.off.call(e.el,e.event,e._handler)},valueHasDependencies:function(){return!0},getValueDependencies:function(){return{keyDependencies:new Map([[this.el,new Set([this.prop])]])}}}),canReflect_1_17_4_canReflect.assignSymbols(AttributeObservable.prototype,{"can.isMapLike":!1,"can.getValue":AttributeObservable.prototype.get,"can.setValue":AttributeObservable.prototype.set,"can.onValue":AttributeObservable.prototype.on,"can.offValue":AttributeObservable.prototype.off,"can.valueHasDependencies":AttributeObservable.prototype.hasDependencies,"can.getValueDependencies":AttributeObservable.prototype.getValueDependencies});var canAttributeObservable_1_1_2_canAttributeObservable=AttributeObservable,bindings=new Map,onMatchStr="on:",vmMatchStr="vm:",elMatchStr="el:",byMatchStr=":by:",toMatchStr=":to",fromMatchStr=":from",bindMatchStr=":bind",viewModelBindingStr="viewModel",attributeBindingStr="attribute",scopeBindingStr="scope",viewModelOrAttributeBindingStr="viewModelOrAttribute",throwOnlyOneTypeOfBindingError=function(){throw new Error("can-stache-bindings - you can not have contextual bindings ( this:from='value' ) and key bindings ( prop:from='value' ) on one element.")},checkBindingState=function(e,t){var a=t.parentToChild&&t.child===viewModelBindingStr;if(a){var n=t.childName;if(a&&("this"===n||"."===n)){if(e.isSettingViewModel||e.isSettingOnViewModel)throwOnlyOneTypeOfBindingError();else return{isSettingViewModel:!0,initialViewModelData:void 0};}else if(e.isSettingViewModel)throwOnlyOneTypeOfBindingError();else return{isSettingOnViewModel:!0,initialViewModelData:e.initialViewModelData}}else return e},behaviors={viewModel:function(e,t,a,n,r){var o=[],s={},l={},d=canAssign_1_3_1_canAssign({},n),p={isSettingOnViewModel:!1,isSettingViewModel:!1,initialViewModelData:n||{}},c=!1,u;if(canReflect_1_17_4_canReflect.each(e.attributes||[],function(a){var n=makeDataBinding(a,e,{templateType:t.templateType,scope:t.scope,getViewModel:function(){return u},attributeViewModelBindings:d,alreadyUpdatedChild:!0,nodeList:t.parentNodeList,favorViewModel:!0});if(n){var r=n.bindingInfo;if(p=checkBindingState(p,r),c=!0,r.parentToChild){var i=r.stickyParentToChild?canViewScope_4_7_0_makeComputeLike(n.parent):n.canBinding.parentValue;void 0!==i&&(p.isSettingViewModel?p.initialViewModelData=i:p.initialViewModelData[cleanVMName(r.childName,t.scope)]=i)}o.push(n.canBinding.start.bind(n.canBinding)),s[a.name]=n.canBinding.stop.bind(n.canBinding)}}),!r||c){u=a(p.initialViewModelData,c,p);for(var y=0,h=o.length;y<h;y++)o[y]();var g;return p.isSettingViewModel||(g=canDomMutate_1_2_1_canDomMutate.onNodeAttributeChange(e,function(a){var n=a.attributeName,r=e.getAttribute(n);s[n]&&s[n]();var o=l[n]&&l[n].parent===attributeBindingStr;if(null!==r||o){var i=makeDataBinding({name:n,value:r},e,{templateType:t.templateType,scope:t.scope,getViewModel:function(){return u},attributeViewModelBindings:d,initializeValues:!0,nodeList:t.parentNodeList});i&&(i.canBinding.start(),l[n]=i.bindingInfo,s[n]=i.canBinding.stop.bind(i.canBinding))}})),function(){for(var e in g&&(g(),g=void 0),s)s[e]()}}},data:function(e,t){if(!canDomDataState_1_0_2_canDomDataState.get.call(e,"preventDataBindings")){var a=canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(){return r||(r=canViewModel_4_0_1_canViewModel(e))}),n=makeDataBinding({name:t.attributeName,value:e.getAttribute(t.attributeName),nodeList:t.nodeList},e,{templateType:t.templateType,scope:t.scope,getViewModel:a,syncChildWithParent:!1}),r,o,s,i;n.canBinding.start();var l=function(n){var r=n.attributeName,s=e.getAttribute(r);if(r===t.attributeName&&(o&&o(),null!==s)){var i=makeDataBinding({name:r,value:s},e,{templateType:t.templateType,scope:t.scope,getViewModel:a,initializeValues:!0,nodeList:t.nodeList,syncChildWithParent:!1});i&&(i.canBinding.start(),o=i.canBinding.stop.bind(i.canBinding)),o=i.onTeardown}},d=function(){o&&(o(),o=void 0),i&&(i(),i=void 0),s&&(s(),s=void 0)};t.nodeList&&canViewNodelist_4_3_2_canViewNodelist.register([],d,t.nodeList,!1),o=n.canBinding.stop.bind(n.canBinding),s=canDomMutate_1_2_1_canDomMutate.onNodeAttributeChange(e,l),i=canDomMutate_1_2_1_canDomMutate.onNodeRemoval(e,function(){!1===e.ownerDocument.contains(e)&&d()})}},event:function(e,t){var a=canAttributeEncoder_1_1_0_canAttributeEncoder.decode(t.attributeName),n,r;if(-1!==a.indexOf(toMatchStr+":")||-1!==a.indexOf(fromMatchStr+":")||-1!==a.indexOf(bindMatchStr+":"))return this.data(e,t);if(startsWith.call(a,onMatchStr)){n=a.substr(onMatchStr.length);var o=e[canSymbol_1_6_1_canSymbol.for("can.viewModel")],s=t.scope;if(startsWith.call(n,elMatchStr))n=n.substr(elMatchStr.length),r=e;else{startsWith.call(n,vmMatchStr)?(n=n.substr(vmMatchStr.length),r=o,s=o):r=o||e;var i=n.indexOf(byMatchStr);0<=i&&(r=s.get(n.substr(i+byMatchStr.length)),n=n.substr(0,i))}}else throw new Error("can-stache-bindings - unsupported event bindings "+a);var l=function(n){var r=e.getAttribute(canAttributeEncoder_1_1_0_canAttributeEncoder.encode(a));if(r){var o=canViewModel_4_0_1_canViewModel(e),s=expression_1.parse(r,{lookupRule:function(){return expression_1.Lookup},methodRule:"call"});if(!(s instanceof expression_1.Call))throw new Error("can-stache-bindings: Event bindings must be a call expression. Make sure you have a () in "+t.attributeName+"="+JSON.stringify(r));var i={element:e,event:n,viewModel:o,arguments:arguments},l=t.scope.add(i,{special:!0}),d=function(){var t=s.value(l,{doNotWrapInObservation:!0});return t=canReflect_1_17_4_canReflect.isValueLike(t)?canReflect_1_17_4_canReflect.getValue(t):t,"function"==typeof t?t(e):t};canQueues_1_1_3_canQueues.batch.start();var p=[];p=[d,null,null,{}],canQueues_1_1_3_canQueues.mutateQueue.enqueue.apply(canQueues_1_1_3_canQueues.mutateQueue,p),canQueues_1_1_3_canQueues.batch.stop()}},d=function(){canAttributeObservable_1_1_2_event.off.call(r,n,l),p&&(p(),p=void 0),c&&(c(),c=void 0)},p,c;canAttributeObservable_1_1_2_event.on.call(r,n,l),p=canDomMutate_1_2_1_canDomMutate.onNodeAttributeChange(e,function(t){var n=t.attributeName===a,r=!e.getAttribute(a);n&&r&&d()}),c=canDomMutate_1_2_1_canDomMutate.onNodeRemoval(e,function(){e.ownerDocument.contains(e)||d()})}};bindings.set(/[\w\.:]+:to$/,behaviors.data),bindings.set(/[\w\.:]+:from$/,behaviors.data),bindings.set(/[\w\.:]+:bind$/,behaviors.data),bindings.set(/[\w\.:]+:raw$/,behaviors.data),bindings.set(/[\w\.:]+:to:on:[\w\.:]+/,behaviors.data),bindings.set(/[\w\.:]+:from:on:[\w\.:]+/,behaviors.data),bindings.set(/[\w\.:]+:bind:on:[\w\.:]+/,behaviors.data),bindings.set(/on:[\w\.:]+/,behaviors.event);var getObservableFrom={viewModelOrAttribute:function(e){var t=e[canSymbol_1_6_1_canSymbol.for("can.viewModel")];return t?this.viewModel.apply(this,arguments):this.attribute.apply(this,arguments)},scope:function(e,t,a,n,r){if(!a)return new canSimpleObservable_2_2_0_canSimpleObservable;if(r||0<=a.indexOf("(")){var o=expression_1.parse(a,{baseMethodType:"Call"});return o.value(t)}var s={};canReflect_1_17_4_canReflect.assignSymbols(s,{"can.getValue":function(){},"can.valueHasDependencies":function(){return!1},"can.setValue":function(e){t.set(cleanVMName(a,t),e)},"can.getWhatIChange":function(){var e=t.getDataForScopeSet(cleanVMName(a,t));return{mutate:{keyDependencies:new Map([[e.parent,new Set([e.key])]])}}},"can.getName":function(){}});var i=t.getDataForScopeSet(cleanVMName(a,t));return i.parent&&i.key&&canReflectDependencies_1_1_0_canReflectDependencies.addMutatedBy(i.parent,i.key,s),s},viewModel:function(e,t,a,n,r,o){var s=cleanVMName(a,t),i="."===a||"this"===a,l=i?[]:canStacheKey_1_4_0_canStacheKey.reads(a),d=new setter(function(){var e=n.getViewModel();return canStacheKey_1_4_0_canStacheKey.read(e,l,{}).value},function(e){var t=n.getViewModel();if(o){var a=canReflect_1_17_4_canReflect.getKeyValue(t,s);canReflect_1_17_4_canReflect.isObservableLike(a)?canReflect_1_17_4_canReflect.setValue(a,e):canReflect_1_17_4_canReflect.setKeyValue(t,s,new canSimpleObservable_2_2_0_canSimpleObservable(canReflect_1_17_4_canReflect.getValue(o)))}else i?canReflect_1_17_4_canReflect.setValue(t,e):canReflect_1_17_4_canReflect.setKeyValue(t,s,e)});return d},attribute:function(e,t,a,n,r,o,s){return new canAttributeObservable_1_1_2_canAttributeObservable(e,a,n,s)}},startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)};function getEventName(e){if(e.special.on!==void 0)return e.tokens[e.special.on+1]}var bindingRules={to:{childToParent:!0,parentToChild:!1,syncChildWithParent:!1},from:{childToParent:!1,parentToChild:!0,syncChildWithParent:!1},bind:{childToParent:!0,parentToChild:!0,syncChildWithParent:!0},raw:{childToParent:!1,parentToChild:!0,syncChildWithParent:!1}},bindingNames=[],special$1={vm:!0,on:!0};canReflect_1_17_4_canReflect.each(bindingRules,function(e,t){bindingNames.push(t),special$1[t]=!0});function tokenize(e){var t=e.split(":"),a={tokens:[],special:{}};return t.forEach(function(e){special$1[e]?a.special[e]=a.tokens.push(e)-1:a.tokens.push(e)}),a}var getChildBindingStr=function(e,t){return 0<=e.indexOf("vm")?viewModelBindingStr:0<=e.indexOf("el")?attributeBindingStr:t?viewModelBindingStr:viewModelOrAttributeBindingStr},getBindingInfo=function(e,t,a,n,r){var o=canAttributeEncoder_1_1_0_canAttributeEncoder.decode(e.name),s=e.value||"",i=tokenize(o),l,d,p;if(bindingNames.forEach(function(e){if(void 0!==i.special[e]&&0<i.special[e])return d=e,p=i.special[e],!1}),d){var c=getEventName(i),u=!(c&&"bind"!==d);return l=canAssign_1_3_1_canAssign({parent:scopeBindingStr,child:getChildBindingStr(i.tokens,r),childName:i.tokens[p-1],childEvent:c,bindingAttributeName:o,parentName:i.special.raw?"\""+s+"\"":s,initializeValues:u},bindingRules[d]),"~"===s.trim().charAt(0)&&(l.stickyParentToChild=!0),l}},makeDataBinding=function(e,t,a){var n=getBindingInfo(e,a.attributeViewModelBindings,a.templateType,t.nodeName.toLowerCase(),a.favorViewModel);if(n){var r=getObservableFrom[n.parent](t,a.scope,n.parentName,a,n.parentToChild,void 0,void 0,n),o=getObservableFrom[n.child](t,a.scope,n.childName,a,n.childToParent,n.stickyParentToChild&&r,n.childEvent,n),s=!!n.childToParent,i=!!n.parentToChild,l={child:o,childToParent:s,cycles:0,onInitDoNotUpdateChild:a.alreadyUpdatedChild,onInitSetUndefinedParentIfChildIsDefined:!0,parent:r,parentToChild:i,priority:a.nodeList?a.nodeList.nesting+1:void 0,queue:"domUI",sticky:n.syncChildWithParent?"childSticksToParent":void 0},d=new canBind_1_0_0_canBind(l);return d.startParent(),{bindingInfo:n,canBinding:d,parent:r}}},cleanVMName=function(e){return e.replace(/@/g,"")},canStacheBindings={behaviors:behaviors,getBindingInfo:getBindingInfo,bindings:bindings};canStacheBindings[canSymbol_1_6_1_canSymbol.for("can.callbackMap")]=bindings,canViewCallbacks_4_3_1_canViewCallbacks.attrs(canStacheBindings);var canStacheBindings_4_4_0_canStacheBindings=canStacheBindings,createdByCanComponentSymbol=canSymbol_1_6_1_canSymbol("can.createdByCanComponent"),getValueSymbol$3=canSymbol_1_6_1_canSymbol.for("can.getValue"),setValueSymbol$4=canSymbol_1_6_1_canSymbol.for("can.setValue"),viewInsertSymbol$2=canSymbol_1_6_1_canSymbol.for("can.viewInsert"),viewModelSymbol$1=canSymbol_1_6_1_canSymbol.for("can.viewModel");canStache_4_10_5_canStache.addBindings(canStacheBindings_4_4_0_canStacheBindings);function addContext(e,t,a){var n;canDomDataState_1_0_2_canDomDataState.set.call(e,"preventDataBindings",!0);var r=canStacheBindings_4_4_0_canStacheBindings.behaviors.viewModel(e,a,function(e,t,a){return a&&!0===a.isSettingOnViewModel?n=new canSimpleMap_4_2_0_canSimpleMap(e):n=new canSimpleObservable_2_2_0_canSimpleObservable(e)},void 0,!0);return r?canAssign_1_3_1_canAssign(canAssign_1_3_1_canAssign({},t),{teardown:r,scope:t.scope.add(n)}):t}function makeInsertionTagCallback(e,t,a,n,r){var o=a.options;return function a(s,i){var l=r(s)||i.subtemplate,d=l!==i.subtemplate;if(l){delete o.tags[e];var p=d?n.toLightContent?addContext(s,{scope:i.scope.cloneFromRef(),options:i.options},i):addContext(s,t,i):addContext(s,i,i);var c=canViewNodelist_4_3_2_canViewNodelist.register([s],function(){p.teardown&&p.teardown()},i.parentNodeList||!0,i.directlyNested);c.expression="<can-slot name='"+s.getAttribute("name")+"'/>";var u=l(p.scope,p.options,c),y=canReflect_1_17_4_canReflect.toArray(canChildNodes_1_2_0_canChildNodes(u)),h=canViewNodelist_4_3_2_canViewNodelist.update(c,y);canViewNodelist_4_3_2_canViewNodelist.replace(h,u),o.tags[e]=a}}}function getSetupFunctionForComponentVM(e){return function(t,a,n){var r=[],o=[],s;canReflect_1_17_4_canReflect.eachKey(e,function(e,t){var a=null!=e&&!!e[getValueSymbol$3],i=null!=e&&!!e[setValueSymbol$4];if(!0==a||i){var l=canStacheKey_1_4_0_canStacheKey.reads(t),d=new setter(function(){return canStacheKey_1_4_0_canStacheKey.read(s,l).value},function(e){canReflect_1_17_4_canReflect.setKeyValue(s,t,e)}),p=new canBind_1_0_0_canBind({child:d,parent:e,queue:"domUI"});p.startParent(),!0==a&&(n[t]=p.parentValue),r.push(p.start.bind(p)),o.push(p.stop.bind(p))}else n[t]=e}),s=a(n);for(var l=0,d=r.length;l<d;l++)r[l]();return function(){o.forEach(function(e){e()})}}}var Component=canConstruct_3_5_1_canConstruct.extend({setup:function(){if(canConstruct_3_5_1_canConstruct.setup.apply(this,arguments),Component){var e=this;void 0!==this.prototype.events&&0!==canReflect_1_17_4_canReflect.size(this.prototype.events)&&(this.Control=control.extend(this.prototype.events));var t=this.prototype.viewModel||this.prototype.scope;if(t&&this.prototype.ViewModel)throw new Error("Cannot provide both a ViewModel and a viewModel property");var a=canString_1_0_0_canString.capitalize(canString_1_0_0_canString.camelize(this.prototype.tag))+"VM";if(this.prototype.ViewModel?"function"==typeof this.prototype.ViewModel?this.ViewModel=this.prototype.ViewModel:this.ViewModel=map$2.extend(a,{},this.prototype.ViewModel):t?"function"==typeof t?canReflect_1_17_4_canReflect.isObservableLike(t.prototype)&&canReflect_1_17_4_canReflect.isMapLike(t.prototype)?this.ViewModel=t:this.viewModelHandler=t:canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isMapLike(t)?this.viewModelInstance=t:(canLog_1_0_0_canLog.warn("can-component: "+this.prototype.tag+" is extending the viewModel into a can-simple-map"),this.ViewModel=canSimpleMap_4_2_0_canSimpleMap.extend(a,{},t)):this.ViewModel=canSimpleMap_4_2_0_canSimpleMap.extend(a,{},{}),this.prototype.template&&(this.renderer=this.prototype.template),this.prototype.view&&(this.renderer=this.prototype.view),"string"==typeof this.renderer){var n=canString_1_0_0_canString.capitalize(canString_1_0_0_canString.camelize(this.prototype.tag))+"View";this.renderer=canStache_4_10_5_canStache(n,this.renderer)}canViewCallbacks_4_3_1_canViewCallbacks.tag(this.prototype.tag,function(t,a){void 0===t[createdByCanComponentSymbol]&&new e(t,a)})}}},{setup:function(e,t){this._initialArgs=[e,t];var a=this,n={helpers:{},tags:{}};void 0===t&&(void 0===e?t={}:(t=e,e=void 0)),void 0===e&&(e=document$1().createElement(this.tag),e[createdByCanComponentSymbol]=!0),this.element=e;var r=t.content;void 0!==r&&("function"==typeof r?t.subtemplate=r:"string"==typeof r&&(t.subtemplate=canStache_4_10_5_canStache(r)));var o=t.scope;void 0!==o&&!1==o instanceof canViewScope_4_7_0_canViewScope&&(t.scope=new canViewScope_4_7_0_canViewScope(o));var s=t.templates;void 0!==s&&canReflect_1_17_4_canReflect.eachKey(s,function(e,t){if("string"==typeof e){s[t]=canStache_4_10_5_canStache(t+" template",e)}});var l=[],i=function(){for(var e=0,t=l.length;e<t;e++)l[e]()},d=canDomDataState_1_0_2_canDomDataState.get.call(e,"preventDataBindings"),p,c,u;if(d)p=e[viewModelSymbol$1];else{var y;y=t.setupBindings?t.setupBindings:t.viewModel?getSetupFunctionForComponentVM(t.viewModel):function(e,a,n){return canStacheBindings_4_4_0_canStacheBindings.behaviors.viewModel(e,t,a,n)},u=y(e,function(n){var r=a.constructor.ViewModel,o=a.constructor.viewModelHandler,s=a.constructor.viewModelInstance;if(o){var i=o.call(a,n,t.scope,e);canReflect_1_17_4_canReflect.isObservableLike(i)&&canReflect_1_17_4_canReflect.isMapLike(i)?s=i:canReflect_1_17_4_canReflect.isObservableLike(i.prototype)&&canReflect_1_17_4_canReflect.isMapLike(i.prototype)?r=i:r=canSimpleMap_4_2_0_canSimpleMap.extend(i)}return r&&(s=new a.constructor.ViewModel(n)),p=s,s},{})}if(this.viewModel=p,e[viewModelSymbol$1]=p,e.viewModel=p,canDomDataState_1_0_2_canDomDataState.set.call(e,"preventDataBindings",!0),void 0!==this.helpers&&canReflect_1_17_4_canReflect.eachKey(this.helpers,function(e,t){"function"==typeof e&&(n.helpers[t]=e.bind(p))}),this.constructor.Control)this._control=new this.constructor.Control(e,{scope:this.viewModel,viewModel:this.viewModel,destroy:i});else var h=canDomMutate_1_2_1_canDomMutate.onNodeRemoval(e,function(){e.ownerDocument.contains(e)||(h(),i())});var g={toLightContent:!0===this.leakScope,intoShadowContent:!0===this.leakScope},f=!!this.constructor.renderer,m,b;if(f){var v;v=g.intoShadowContent?{scope:t.scope.add(this.viewModel,{viewModel:!0}),options:n}:{scope:new canViewScope_4_7_0_canViewScope(this.viewModel,null,{viewModel:!0}),options:n},n.tags["can-slot"]=makeInsertionTagCallback("can-slot",t,v,g,function(e){var a=t.templates;if(a)return a[e.getAttribute("name")]}),n.tags.content=makeInsertionTagCallback("content",t,v,g,function(){return t.subtemplate}),m=this.constructor.renderer,b=v}else{var _={scope:t.scope.add(this.viewModel,{viewModel:!0}),options:n};b=_,m=t.subtemplate||e.ownerDocument.createDocumentFragment.bind(e.ownerDocument)}var k=canViewNodelist_4_3_2_canViewNodelist.register([],function(){a._torndown=!0,canDomEvents_1_3_0_canDomEvents.dispatch(e,"beforeremove",!1),u&&u(),E?E(e):"function"==typeof p.stopListening&&p.stopListening()},t.parentNodeList||!0,!1),E,L;if(k.expression="<"+this.tag+">",l.push(function(){canViewNodelist_4_3_2_canViewNodelist.unregister(k)}),this.nodeList=k,c=m(b.scope,b.options,k),canDomMutate_1_2_1_node.appendChild.call(e,c),canViewNodelist_4_3_2_canViewNodelist.update(k,canChildNodes_1_2_0_canChildNodes(e)),p&&p.connectedCallback)if(L=document$1().body.contains(e),L)E=p.connectedCallback(e);else var S=canDomMutate_1_2_1_canDomMutate.onNodeInsertion(e,function(){S(),E=p.connectedCallback(e)});a._torndown=!1}});Component.prototype[viewInsertSymbol$2]=function(e){return this._torndown&&this.setup.apply(this,this._initialArgs),e.nodeList.newDeepChildren.push(this.nodeList),this.element};var canComponent_4_4_2_canComponent=canNamespace_1_0_0_canNamespace.Component=Component,Compute$1=function(e){return arguments.length?canReflect_1_17_4_canReflect.setValue(this,e):canReflect_1_17_4_canReflect.getValue(this)},translationHelpers=new WeakMap,makeCompute=function(e){var t=Compute$1.bind(e);return t.on=t.bind=t.addEventListener=function(a,n){var r=translationHelpers.get(n);r||(r=function(e,a){n.call(t,{type:"change"},e,a)},translationHelpers.set(n,r)),canReflect_1_17_4_canReflect.onValue(e,r)},t.off=t.unbind=t.removeEventListener=function(t,a){canReflect_1_17_4_canReflect.offValue(e,translationHelpers.get(a))},canReflect_1_17_4_canReflect.assignSymbols(t,{"can.getValue":function(){return canReflect_1_17_4_canReflect.getValue(e)},"can.setValue":function(t){return canReflect_1_17_4_canReflect.setValue(e,t)},"can.onValue":function(t,a){return canReflect_1_17_4_canReflect.onValue(e,t,a)},"can.offValue":function(t,a){return canReflect_1_17_4_canReflect.offValue(e,t,a)},"can.valueHasDependencies":function(){return canReflect_1_17_4_canReflect.valueHasDependencies(e)},"can.getPriority":function(){return canReflect_1_17_4_canReflect.getPriority(e)},"can.setPriority":function(t){canReflect_1_17_4_canReflect.setPriority(e,t)},"can.isValueLike":!0,"can.isFunctionLike":!1}),t.isComputed=!0,t},urlDataObservable=new canSimpleObservable_2_2_0_canSimpleObservable(null),bindingProxy={defaultBinding:null,urlDataObservable:urlDataObservable,bindings:{},call:function(){var e=canReflect_1_17_4_canReflect.toArray(arguments),t=e.shift(),a=urlDataObservable.value;if(null===a)throw new Error("there is no current binding!!!");var n=a[0===t.indexOf("can.")?canSymbol_1_6_1_canSymbol.for(t):t];return n.apply?n.apply(a,e):n}},bindingProxy_1=bindingProxy,regexps={curlies:/\{\s*([\w.]+)\s*\}/g,colon:/\:([\w.]+)/g},map$3=function(e,t){var a=[],n;for(var r in n=canReflect_1_17_4_canReflect.assignMap({},e),canReflect_1_17_4_canReflect.eachKey(t,function(r,o){e&&e.hasOwnProperty(o)?t[o]!==e[o]&&a.push({key:o,type:"set",value:r}):a.push({key:o,type:"add",value:r}),delete n[o]}),n)a.push({key:r,type:"delete"});return a},removeBackslash=function(e){return e.replace(/\\/g,"")},wrapQuote=function(e){return(e+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},RouteRegistry={routes:{},register:function(e,t){var a=bindingProxy_1.call("root");a.lastIndexOf("/")===a.length-1&&0===e.indexOf("/")&&(e=e.substr(1)),t=t||{};var n=[],r="",o=bindingProxy_1.call("querySeparator"),s=bindingProxy_1.call("matchSlashes"),i,l,d,p;for(l=regexps.colon.test(e)?regexps.colon:regexps.curlies,d=l.lastIndex=0;i=l.exec(e);)n.push(i[1]),r+=removeBackslash(e.substring(d,l.lastIndex-i[0].length)),p="\\"+(removeBackslash(e.substr(l.lastIndex,1))||o+(s?"":"|/")),r+="([^"+p+"]"+(t[i[1]]?"*":"+")+")",d=l.lastIndex;return r+=e.substr(d).replace("\\",""),RouteRegistry.routes[e]={test:new RegExp("^"+r+"($|"+wrapQuote(o)+")"),route:e,names:n,defaults:t,length:e.split("/").length}}},register=RouteRegistry,digitTest=/^\d+$/,keyBreaker=/([^\[\]]+)|(\[\])/g,paramTest=/([^?#]*)(#.*)?$/,entityRegex=/%([^0-9a-f][0-9a-f]|[0-9a-f][^0-9a-f]|[^0-9a-f][^0-9a-f])/i,prep=function(t){t=t.replace(/\+/g," ");try{return decodeURIComponent(t)}catch(a){return decodeURIComponent(t.replace(entityRegex,function(e,t){return"%25"+t}))}};function isArrayLikeName(e){return digitTest.test(e)||"[]"===e}function idenity(e){return e}var canDeparam_1_2_0_canDeparam=canNamespace_1_0_0_canNamespace.deparam=function(e,t){t=t||idenity;var a={},n,r;return e&&paramTest.test(e)&&(n=e.split("&"),n.forEach(function(e){var n=e.split("="),o=prep(n.shift()),s=prep(n.join("=")),i=a;if(o){n=o.match(keyBreaker);for(var d=0,p=n.length-1;d<p;d++){var l=n[d],c=n[d+1],u=isArrayLikeName(l)&&i instanceof Array;i[l]||(u?i.push(isArrayLikeName(c)?[]:{}):i[l]=isArrayLikeName(c)?[]:{}),i=u?i[i.length-1]:i[l]}r=n.pop(),isArrayLikeName(r)?i.push(t(s)):i[r]=t(s)}})),a},decode=function(e){try{return decodeURIComponent(e)}catch(t){return unescape(e)}};function toURLFragment(e){var t=bindingProxy_1.call("root");return t.lastIndexOf("/")===t.length-1&&0===e.indexOf("/")&&(e=e.substr(1)),e}function canRoute_getRule(e){e=toURLFragment(e);var t={length:-1};if(canReflect_1_17_4_canReflect.eachKey(register.routes,function(a){a.test.test(e)&&a.length>t.length&&(t=a)}),-1<t.length)return t}function canRoute_deparam(e){var t=canRoute_getRule(e),a=bindingProxy_1.call("querySeparator"),n=bindingProxy_1.call("paramsMatcher");if(e=toURLFragment(e),t){var r=e.match(t.test),o=r.shift(),s=e.substr(o.length-(r[r.length-1]===a?1:0)),l=s&&n.test(s)?canDeparam_1_2_0_canDeparam(s.slice(1)):{};return l=canReflect_1_17_4_canReflect.assignDeep(canReflect_1_17_4_canReflect.assignDeep({},t.defaults),l),r.forEach(function(e,n){e&&e!==a&&(l[t.names[n]]=decode(e))}),l}return e.charAt(0)!==a&&(e=a+e),n.test(e)?canDeparam_1_2_0_canDeparam(e.slice(1)):{}}canRoute_deparam.getRule=canRoute_getRule;var deparam_1=canRoute_deparam;function buildParam(e,t,a){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)buildParam(e+"[]",t[n],a);else if(t&&"object"==typeof t)for(var o in t)buildParam(e+"["+o+"]",t[o],a);else a(e,t)}var canParam_1_1_0_canParam=canNamespace_1_0_0_canNamespace.param=function(e){var t=[],a=function(e,a){t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))};for(var n in e)buildParam(n,e[n],a);return t.join("&").replace(/%20/g,"+")},matchesData=function(e,t){var a=0,n=0,r={};for(var o in e.defaults)e.defaults[o]===t[o]&&(r[o]=1,a++);for(;n<e.names.length;n++){if(!t.hasOwnProperty(e.names[n]))return-1;r[e.names[n]]||a++}return a};function getMatchedRoute(e,t){var a=0,n=0,r,o;return delete e.route,canReflect_1_17_4_canReflect.eachKey(e,function(){n++}),canReflect_1_17_4_canReflect.eachKey(register.routes,function(t){if(o=matchesData(t,e),o>a&&(r=t,a=o),o>=n)return!1}),register.routes[t]&&matchesData(register.routes[t],e)===a&&(r=register.routes[t]),r}function paramFromRoute(e,t){var a,n,r,o;return e?(a=canReflect_1_17_4_canReflect.assignMap({},t),o=regexps.colon.test(e.route)?regexps.colon:regexps.curlies,n=e.route.replace(o,function(n,r){return delete a[r],t[r]===e.defaults[r]?"":encodeURIComponent(t[r])}).replace("\\",""),canReflect_1_17_4_canReflect.eachKey(e.defaults,function(e,t){a[t]===e&&delete a[t]}),r=canParam_1_1_0_canParam(a),n+(r?bindingProxy_1.call("querySeparator")+r:"")):0===canReflect_1_17_4_canReflect.size(t)?"":bindingProxy_1.call("querySeparator")+canParam_1_1_0_canParam(t)}function canRoute_param(e,t){return paramFromRoute(getMatchedRoute(e,t),e)}var param_1=canRoute_param;canRoute_param.paramFromRoute=paramFromRoute,canRoute_param.getMatchedRoute=getMatchedRoute;var makeProps=function(e){var t=[];return canReflect_1_17_4_canReflect.eachKey(e,function(e,a){t.push(("className"===a?"class":a)+"=\""+("href"===a?e:canString_1_0_0_canString.esc(e))+"\"")}),t.join(" ")},matchCheck=function(e,t){for(var a in e){var n=e[a],r=t[a];if(n&&r&&"object"==typeof n&&"object"==typeof t)return matchCheck(n,r);if(n!=r)return!1}return!0};function canRoute_url(e,t){if(t){var a=deparam_1(bindingProxy_1.call("can.getValue"));e=canReflect_1_17_4_canReflect.assignMap(canReflect_1_17_4_canReflect.assignMap({},a),e)}return bindingProxy_1.call("root")+param_1(e)}var urlHelpers={url:canRoute_url,link:function(e,t,a,n){return"<a "+makeProps(canReflect_1_17_4_canReflect.assignMap({href:canRoute_url(t,n)},a))+">"+e+"</a>"},isCurrent:function(e,t){if(t){var a=deparam_1(bindingProxy_1.call("can.getValue"));return matchCheck(e,a)}return bindingProxy_1.call("can.getValue")===param_1(e)}},paramsMatcher=/^(?:&[^=]+=[^&]*)+/;function getHash(){var e=location();return e.href.split(/#!?/)[1]||""}function HashchangeObservable(){var e=this.dispatchHandlers.bind(this),t=this;this._value="",this.handlers=new canKeyTree_1_2_0_canKeyTree([Object,Array],{onFirst:function(){t._value=getHash(),canDomEvents_1_3_0_canDomEvents.addEventListener(window,"hashchange",e)},onEmpty:function(){canDomEvents_1_3_0_canDomEvents.removeEventListener(window,"hashchange",e)}})}HashchangeObservable.prototype=Object.create(canSimpleObservable_2_2_0_canSimpleObservable.prototype),HashchangeObservable.constructor=HashchangeObservable,canReflect_1_17_4_canReflect.assign(HashchangeObservable.prototype,{paramsMatcher:paramsMatcher,querySeparator:"&",matchSlashes:!1,root:"#!",dispatchHandlers:function(){var e=this._value;this._value=getHash(),e!==this._value&&canQueues_1_1_3_canQueues.enqueueByQueue(this.handlers.getNode([]),this,[this._value,e])},get:function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(this),getHash()},set:function(e){var t=location();return(e||t.hash)&&(t.hash==="#"+e||(t.hash="!"+e)),e}}),Object.defineProperty(HashchangeObservable.prototype,"value",{get:function(){return canReflect_1_17_4_canReflect.getValue(this)},set:function(e){canReflect_1_17_4_canReflect.setValue(this,e)}}),canReflect_1_17_4_canReflect.assignSymbols(HashchangeObservable.prototype,{"can.getValue":HashchangeObservable.prototype.get,"can.setValue":HashchangeObservable.prototype.set,"can.onValue":HashchangeObservable.prototype.on,"can.offValue":HashchangeObservable.prototype.off,"can.isMapLike":!1,"can.valueHasDependencies":function(){return!0}});var canRouteHash_1_0_1_canRouteHash=HashchangeObservable,funcConstructor=Function;canGlobals_1_2_0_canGlobalsInstance.define("isWebWorker",function(){var e=funcConstructor("return this")();return"undefined"!=typeof WorkerGlobalScope&&e instanceof WorkerGlobalScope});var isWebWorker=canGlobals_1_2_0_canGlobalsInstance.makeExport("isWebWorker"),hashchangeObservable=new canRouteHash_1_0_1_canRouteHash;bindingProxy_1.bindings.hashchange=hashchangeObservable,bindingProxy_1.defaultBinding="hashchange",bindingProxy_1.urlDataObservable.value=hashchangeObservable;function canRoute(e,t){return register.register(e,t),canRoute}var currentRuleObservable=new canObservation_4_1_0_canObservation(function(){var e=bindingProxy_1.call("can.getValue");return canRoute.rule(e)}),timer;function updateUrl(){clearTimeout(timer),timer=setTimeout(function(){var e=canReflect_1_17_4_canReflect.serialize(canRoute.data),t=currentRuleObservable.get(),a=param_1.getMatchedRoute(e,t),n=param_1.paramFromRoute(a,e);bindingProxy_1.call("can.setValue",n);var r=canRoute._onStartComplete;r&&(canRoute._onStartComplete=void 0,r())},10)}function updateRouteData(){var e=bindingProxy_1.call("can.getValue");canQueues_1_1_3_canQueues.batch.start();var t=canRoute.deparam(e);delete t.route,canReflect_1_17_4_canReflect.update(canRoute.data,t),canQueues_1_1_3_canQueues.batch.stop()}Object.defineProperty(canRoute,"routes",{get:function(){return register.routes},set:function(e){return register.routes=e}}),Object.defineProperty(canRoute,"defaultBinding",{get:function(){return bindingProxy_1.defaultBinding},set:function(e){bindingProxy_1.defaultBinding=e;var t=bindingProxy_1.bindings[bindingProxy_1.defaultBinding];t&&(bindingProxy_1.urlDataObservable.value=t)}}),Object.defineProperty(canRoute,"urlData",{get:function(){return bindingProxy_1.urlDataObservable.value},set:function(e){canRoute._teardown(),bindingProxy_1.urlDataObservable.value=e}}),canReflect_1_17_4_canReflect.assignMap(canRoute,{param:param_1,deparam:deparam_1,map:function(e){canRoute.data=e},start:function(e){if(!0!==e&&(canRoute._setup(),isBrowserWindow()||isWebWorker())){var t=bindingProxy_1.call("can.getValue");canQueues_1_1_3_canQueues.batch.start();var a=canRoute.deparam(t);delete a.route,canReflect_1_17_4_canReflect.assign(canRoute.data,a),canQueues_1_1_3_canQueues.batch.stop(),updateUrl()}return canRoute},url:urlHelpers.url,link:urlHelpers.link,isCurrent:urlHelpers.isCurrent,bindings:bindingProxy_1.bindings,_setup:function(){if(!canRoute._canBinding){var e={parent:bindingProxy_1.urlDataObservable.value,setParent:updateUrl,child:canRoute.serializedObservation,setChild:updateRouteData,onInitDoNotUpdateChild:!0,cycles:1,queue:"notify"};canRoute._canBinding=new canBind_1_0_0_canBind(e),canRoute._canBinding.start()}},_teardown:function(){canRoute._canBinding&&(canRoute._canBinding.stop(),canRoute._canBinding=null),clearTimeout(timer)},stop:function(){return this._teardown(),canRoute},currentRule:makeCompute(currentRuleObservable),register:register.register,rule:function(e){var t=deparam_1.getRule(e);if(t)return t.route}});var bindToCanRouteData=function(e,t){return canRoute.data[e]?canRoute.data[e].apply(canRoute.data,t):canRoute.data.addEventListener.apply(canRoute.data,t)};["addEventListener","removeEventListener","bind","unbind","on","off"].forEach(function(e){canRoute[e]=function(t,a){return"__url"===t?bindingProxy_1.call("can.onValue",a):bindToCanRouteData(e,arguments)}}),["delegate","undelegate","removeAttr","compute","_get","___get","each"].forEach(function(e){canRoute[e]=function(){return bindToCanRouteData(e,arguments)}});var setRouteData=function(e){return routeData=e,routeData},routeData,serializedObservation,serializedCompute;Object.defineProperty(canRoute,"serializedObservation",{get:function(){return serializedObservation||(serializedObservation=new canObservation_4_1_0_canObservation(function(){return canReflect_1_17_4_canReflect.serialize(canRoute.data)})),serializedObservation}}),Object.defineProperty(canRoute,"serializedCompute",{get:function(){return serializedCompute||(serializedCompute=makeCompute(canRoute.serializedObservation)),serializedCompute}});var stringify=function(e){return e&&"object"==typeof e?(e=e&&"object"==typeof e&&"serialize"in e?e.serialize():"function"==typeof e.slice?e.slice():canReflect_1_17_4_canReflect.assign({},e),canReflect_1_17_4_canReflect.eachKey(e,function(t,a){e[a]=stringify(t)})):void 0!==e&&null!==e&&"function"==typeof e.toString&&(e=e.toString()),e},stringCoercingMapDecorator=function(e){var t=canSymbol_1_6_1_canSymbol.for("can.route.stringCoercingMapDecorator");if(!e.attr[t]){var a=e.attr;e.attr=function(e){var t="string"==typeof e&&(void 0===this.define||void 0===this.define[e]||!!this.define[e].serialize),n;return n=t?stringify(Array.apply(null,arguments)):arguments,a.apply(this,n)},canReflect_1_17_4_canReflect.setKeyValue(e.attr,t,!0)}return e},viewModelSymbol$2=canSymbol_1_6_1_canSymbol.for("can.viewModel");Object.defineProperty(canRoute,"data",{get:function(){return routeData?routeData:setRouteData(stringCoercingMapDecorator(new canSimpleMap_4_2_0_canSimpleMap))},set:function(e){canReflect_1_17_4_canReflect.isConstructorLike(e)&&(e=new e),e&&e[viewModelSymbol$2]!==void 0&&(e=e[viewModelSymbol$2]),"attr"in e?setRouteData(stringCoercingMapDecorator(e)):setRouteData(e)}}),canRoute.attr=function(e,t){return console.warn("can-route: can-route.attr is deprecated. Use methods on can-route.data instead."),"attr"in canRoute.data?canRoute.data.attr.apply(canRoute.data,arguments):1<arguments.length?(canReflect_1_17_4_canReflect.setKeyValue(canRoute.data,e,t),canRoute.data):"object"==typeof e?(canReflect_1_17_4_canReflect.assignDeep(canRoute.data,e),canRoute.data):1===arguments.length?canReflect_1_17_4_canReflect.getKeyValue(canRoute.data,e):canReflect_1_17_4_canReflect.unwrap(canRoute.data)},canReflect_1_17_4_canReflect.setKeyValue(canRoute,canSymbol_1_6_1_canSymbol.for("can.isFunctionLike"),!1),canRoute.matched=canRoute.currentRule,canRoute.current=canRoute.isCurrent;var canRoute_4_3_12_canRoute=canNamespace_1_0_0_canNamespace.route=canRoute,looksLikeOptions$1=core$2.looksLikeOptions,calculateArgs=function(){var e,t,a;return canReflect_1_17_4_canReflect.eachIndex(arguments,function(n){"boolean"==typeof n?t=n:n&&"object"==typeof n&&(looksLikeOptions$1(n)?a=n:e=core$2.resolveHash(n))}),!e&&a&&(e=core$2.resolveHash(a.hash)),{finalParams:e||{},finalMerge:t,optionsArg:a}};core$2.registerHelper("routeUrl",function(){var e=calculateArgs.apply(this,arguments);return canRoute_4_3_12_canRoute.url(e.finalParams,"boolean"==typeof e.finalMerge?e.finalMerge:void 0)});var routeCurrent=function(){var e=calculateArgs.apply(this,arguments),t=canRoute_4_3_12_canRoute.isCurrent(e.finalParams,"boolean"==typeof e.finalMerge?e.finalMerge:void 0);return e.optionsArg&&!(e.optionsArg instanceof expression_1.Call)?t?e.optionsArg.fn():e.optionsArg.inverse():t};routeCurrent.callAsMethod=!0,core$2.registerHelper("routeCurrent",routeCurrent);var canStacheRouteHelpers_1_1_1_canStacheRouteHelpers={},sub=function(e,t,a){var n=[];return e=e||"",n.push(e.replace(canKey_1_2_0_utils.strReplacer,function(e,r){var o=get_1(t,r);return!0===a&&_delete(t,r),void 0===o||null===o?(n=null,""):!canReflect_1_17_4_canReflect.isPrimitive(o)&&n?(n.push(o),""):""+o})),null===n?n:1>=n.length?n[0]:n},addSerializeToThis=function(e){return canReflect_1_17_4_canReflect.assignSymbols(e,{"can.serialize":function(){return this}})},set$2;function reverseArgs(e){return function(t,a){return e.call(this,a,t)}}var setComparisonsSymbol=canSymbol_1_6_1_canSymbol.for("can.setComparisons");function addComparators(e,t,a){var n=e[setComparisonsSymbol];e[setComparisonsSymbol]||(n=e[setComparisonsSymbol]=new Map);var r=n.get(e);r||(r=new Map,n.set(e,r));var o=r.get(t);if(o)for(var s in a)o.hasOwnProperty(s)&&console.warn("Overwriting "+e.name+" "+s+" "+t.name+" comparitor"),o[s]=a[s];else r.set(t,a)}function Identity(){}var typeMap={number:Identity,string:Identity,undefined:Identity,boolean:Identity},get$1={};["intersection","difference","union"].forEach(function(e){get$1[e]=function(t,a,n){if(n===set$2.UNIVERSAL){if("intersection"===e)return a;if("union"===e)return set$2.UNIVERSAL;if("difference"===e)return set$2.EMPTY}if(a===set$2.UNIVERSAL){if("intersection"===e)return a;if("union"===e)return set$2.UNIVERSAL}if(t&&t[e]){var r=t[e](a,n);return void 0===r&&!0===t.undefinedIsEmptySet?set$2.EMPTY:r}throw new Error("Unable to perform "+e+" between "+set$2.getType(a).name+" and "+set$2.getType(n).name)}}),set$2={UNIVERSAL:canReflect_1_17_4_canReflect.assignSymbols({name:"UNIVERSAL"},{"can.serialize":function(){return this},"can.isMember":function(){return!0}}),EMPTY:canReflect_1_17_4_canReflect.assignSymbols({name:"EMPTY"},{"can.serialize":function(){return this},"can.isMember":function(){return!1}}),UNDEFINABLE:addSerializeToThis({name:"UNDEFINABLE"}),UNKNOWABLE:addSerializeToThis({name:"UNKNOWABLE"}),Identity:Identity,isSpecial:function(e){return e===set$2.UNIVERSAL||e===set$2.EMPTY||e===set$2.UNDEFINABLE||e===set$2.UNKNOWABLE},isDefinedAndHasMembers:function(e){return!(e===set$2.EMPTY||e===set$2.UNDEFINABLE||e===set$2.UNKNOWABLE)&&e},getType:function(e){return e===set$2.UNIVERSAL?set$2.UNIVERSAL:e===set$2.EMPTY?set$2.EMPTY:e===set$2.UNKNOWABLE?set$2.UNKNOWABLE:null===e?Identity:typeMap.hasOwnProperty(typeof e)?typeMap[typeof e]:e.constructor},ownAndMemberValue:function(e,t){if(null!=e||null!=t){var a=null==e?e:e.valueOf(),n=null==t?t:t.valueOf();return null==e||null==t?{own:a,member:n}:(a.constructor!==n.constructor&&(n=new e.constructor(n).valueOf()),{own:a,member:n})}return{own:t,member:e}},getComparisons:function(e,t){var a=e[setComparisonsSymbol];if(a){var n=a.get(e);if(n)return n.get(t)}},hasComparisons:function(e){return!!e[setComparisonsSymbol]},defineComparison:function(e,t,a){if(addComparators(e,t,a),e!==t){var n={};for(var r in a)"difference"!=r&&(n[r]=reverseArgs(a[r]));addComparators(t,e,n)}},isSubset:function(e,t){if(e===t)return!0;var a=set$2.getType(e),n=set$2.getType(t),r=set$2.getComparisons(a,n);if(r){var o=get$1.intersection(r,e,t),s=get$1.difference(r,e,t);return o===set$2.UNKNOWABLE||s===set$2.UNKNOWABLE?void 0:o!==set$2.EMPTY&&s===set$2.EMPTY}throw new Error("Unable to perform subset comparison between "+a.name+" and "+n.name)},isProperSubset:function(e,t){return set$2.isSubset(e,t)&&!set$2.isEqual(e,t)},isEqual:function(e,t){if(e===set$2.UNKNOWABLE||t===set$2.UNKNOWABLE)return set$2.UNKNOWABLE;var a=set$2.isSpecial(e),n=set$2.isSpecial(t);if(a&&n)return a===n;var r=set$2.getType(e),o=set$2.getType(t);if(e===t)return!0;var s=set$2.getComparisons(r,o),i=set$2.getComparisons(o,r);if(s&&i){var l=get$1.intersection(s,e,t),d=get$1.difference(s,e,t);if(l!==set$2.EMPTY&&d===set$2.EMPTY){var p=get$1.intersection(i,t,e),c=get$1.difference(i,t,e);return p!==set$2.EMPTY&&c===set$2.EMPTY}return!1}var u=set$2.ownAndMemberValue(e,t);if(canReflect_1_17_4_canReflect.isPrimitive(u.own)&&canReflect_1_17_4_canReflect.isPrimitive(u.member))return u.own===u.member;throw new Error("Unable to perform equal comparison between "+r.name+" and "+o.name)},union:function(e,t){if(e===set$2.UNIVERSAL||t===set$2.UNIVERSAL)return set$2.UNIVERSAL;if(e===set$2.EMPTY)return t;if(t===set$2.EMPTY)return e;if(e===set$2.UNKNOWABLE||t===set$2.UNKNOWABLE)return set$2.UNKNOWABLE;var a=set$2.getType(e),n=set$2.getType(t),r=set$2.getComparisons(a,n);return get$1.union(r,e,t)},intersection:function(e,t){if(e===set$2.UNIVERSAL)return t;if(t===set$2.UNIVERSAL)return e;if(e===set$2.EMPTY||t===set$2.EMPTY)return set$2.EMPTY;if(e===set$2.UNKNOWABLE||t===set$2.UNKNOWABLE)return set$2.UNKNOWABLE;var a=set$2.getType(e),n=set$2.getType(t),r=set$2.getComparisons(a,n);if(r)return get$1.intersection(r,e,t);throw new Error("Unable to perform intersection comparison between "+a.name+" and "+n.name)},difference:function(e,t){if(e===set$2.EMPTY)return set$2.EMPTY;if(t===set$2.EMPTY)return e;if(e===set$2.UNKNOWABLE||t===set$2.UNKNOWABLE)return set$2.UNKNOWABLE;var a=set$2.getType(e),n=set$2.getType(t),r=set$2.getComparisons(a,n);if(r)return get$1.difference(r,e,t);throw new Error("Unable to perform difference comparison between "+a.name+" and "+n.name)},indexWithEqual:function(e,t){for(var a=0,n=e.length;a<n;a++)if(set$2.isEqual(e[a],t))return a;return-1}};function identityIntersection(e,t){return e===t?e:set$2.EMPTY}function identityDifference(e,t){return e===t?set$2.EMPTY:e}function identityUnion(e,t){return e===t?e:set$2.UNDEFINABLE}var identityComparitor={intersection:identityIntersection,difference:identityDifference,union:identityUnion};set$2.defineComparison(Identity,Identity,identityComparitor),set$2.defineComparison(set$2.UNIVERSAL,set$2.UNIVERSAL,identityComparitor);var set_1$1=set$2,replacer=/\{([^\}]+)\}/g,canFixture_3_0_0_dataFromUrl=function(e,t){if(!e)return{};var a=[],n=e.replace(".","\\.").replace("?","\\?"),r=new RegExp(n.replace(replacer,function(e,t){return a.push(t),"([^/]+)"})+"$").exec(t),o={};return r?(r.shift(),a.forEach(function(e){o[e]=r.shift()}),o):null};function getValue(e){return null==e?e:e.valueOf()}var arrayUnionIntersectionDifference=function(e,t){var a=new Set,n=[],r=[],o=e.slice(0);return e.forEach(function(e){a.add(getValue(e)),r.push(e)}),t.forEach(function(e){if(a.has(getValue(e))){n.push(e);var t=set_1$1.indexWithEqual(o,e);-1!==t&&o.splice(t,1)}else r.push(e)}),{intersection:n,union:r,difference:o}},isMemberSymbol$1=canSymbol_1_6_1_canSymbol.for("can.isMember"),comparisons={In:function(e){this.values=e},NotIn:function(e){this.values=e},GreaterThan:function(e){this.value=e},GreaterThanEqual:function(e){this.value=e},LessThan:function(e){this.value=e},LessThanEqual:function(e){this.value=e},And:function(e){this.values=e},Or:function(e){this.values=e}};comparisons.Or.prototype.orValues=function(){return this.values},comparisons.In.test=function(e,t){return e.some(function(e){var a=set_1$1.ownAndMemberValue(e,t);return a.own===a.member})},comparisons.NotIn.test=function(e,t){return!comparisons.In.test(e,t)},comparisons.NotIn.testValue=function(e,t){return!comparisons.In.testValue(e,t)};function nullIsFalse(e){return function(t,a){return null!=t&&null!=a&&e(t,a)}}function nullIsFalseTwoIsOk(e){return function(t,a){return!(t!==a)||null!=t&&null!=a&&e(t,a)}}comparisons.GreaterThan.test=nullIsFalse(function(e,t){return e>t}),comparisons.GreaterThanEqual.test=nullIsFalseTwoIsOk(function(e,t){return e>=t}),comparisons.LessThan.test=nullIsFalse(function(e,t){return e<t}),comparisons.LessThanEqual.test=nullIsFalseTwoIsOk(function(e,t){return e<=t});function isMemberThatUsesTest(e){var t=set_1$1.ownAndMemberValue(this.value,e);return this.constructor.test(t.member,t.own)}[comparisons.GreaterThan,comparisons.GreaterThanEqual,comparisons.LessThan,comparisons.LessThanEqual,comparisons.LessThan].forEach(function(e){e.prototype.isMember=isMemberThatUsesTest});function isMemberThatUsesTestOnValues(e){return this.constructor.test(this.values,e)}[comparisons.In,comparisons.NotIn].forEach(function(e){e.prototype.isMember=isMemberThatUsesTestOnValues}),comparisons.And.prototype.isMember=function(e){return this.values.every(function(t){return t.isMember(e)})},comparisons.Or.prototype.isMember=function(e){return this.values.some(function(t){return t.isMember(e)})},Object.keys(comparisons).forEach(function(e){comparisons[e].prototype[isMemberSymbol$1]=comparisons[e].prototype.isMember});function makeNot(e){return{test:function(t,a){return!e.test(t,a)}}}function makeEnum(e,t,n){return function(r,a){var o=arrayUnionIntersectionDifference(r.values,a.values);return o[e].length?new t(o[e]):n||set_1$1.EMPTY}}function swapArgs(e){return function(t,a){return e(a,t)}}function makeSecondValue(e,t){return function(a,n){return new e(n[t||"value"])}}function returnBiggerValue(e,t){return e.value<t.value?t:e}function returnSmallerValue(e,t){return e.value>t.value?t:e}function makeAndIf(e,t){return function(a,n){return e.test(a.value,n.value)?makeAnd([a,new t(n.value)]):set_1$1.EMPTY}}function make_InIfEqual_else_andIf(e,t){var n=makeAndIf(e,t);return function(e,t){return e.value===t.value?new is.In([e.value]):n(e,t)}}function make_filterFirstValueAgainstSecond(e,t,a){return function(n,r){var o=n.values.filter(function(t){return e.test(r,t)});return o.length?new t(o):a||set_1$1.EMPTY}}var isMemberTest={test:function(e,t){return e.isMember(t)}};function isOr(e){return e instanceof is.Or}function isAnd(e){return e instanceof is.And}function isAndOrOr(e){return isAnd(e)||isOr(e)}function combineFilterFirstValuesAgainstSecond(e){return function(t,a){var n=t.values.filter(function(t){return e.values.test(a,t)}),r;return r=e.complement?set_1$1.difference(set_1$1.UNIVERSAL,a):e.with?new e.with(a.value):a,n.length?e.combinedUsing([new e.arePut(n),r]):r}}function makeOrUnless(e,t){return function(a,n){return e.test(a.value,n.value)?t||set_1$1.UNIVERSAL:makeOr([a,n])}}function makeAndUnless(e,t){return function(a,n){return e.test(a.value,n.value)?t||set_1$1.EMPTY:makeAnd([a,n])}}function makeComplementSecondArgIf(e){return function(t,a){return e.test(t.value,a.value)?set_1$1.difference(set_1$1.UNIVERSAL,a):t}}function makeAnd(e){return comparisons.And?new comparisons.And(e):set_1$1.UNDEFINABLE}function makeOr(e){return comparisons.Or?new comparisons.Or(e):set_1$1.UNDEFINABLE}var is=comparisons;function combineValueWithRangeCheck(e,t,a){var n=new a(t.value),r=e.values.filter(function(e){return!n.isMember(e)});return r.length?r.length<e.values.length?makeOr([new is.In(r),n]):makeOr([e,t]):n}function makeOrWithInAndRange(e,t){if(t instanceof is.Or){var a=makeOrWithInAndRange(e,t.values[0]);if(!(a instanceof is.Or))return set_1$1.union(a,t.values[1]);var n=makeOrWithInAndRange(e,t.values[1]);return n instanceof is.Or?makeOr([e,t]):set_1$1.union(n,t.values[0])}return t instanceof is.GreaterThan?combineValueWithRangeCheck(e,t,is.GreaterThanEqual):t instanceof is.LessThan?combineValueWithRangeCheck(e,t,is.LessThanEqual):makeOr([e,t])}var In_RANGE={union:combineFilterFirstValuesAgainstSecond({values:makeNot(isMemberTest),arePut:is.In,combinedUsing:function(e){return makeOrWithInAndRange(e[0],e[1])}}),intersection:make_filterFirstValueAgainstSecond(isMemberTest,is.In,set_1$1.EMPTY),difference:make_filterFirstValueAgainstSecond(makeNot(isMemberTest),is.In,set_1$1.EMPTY)},RANGE_IN={difference:swapArgs(combineFilterFirstValuesAgainstSecond({values:isMemberTest,arePut:is.NotIn,combinedUsing:makeAnd}))},NotIn_RANGE=function(){return{union:make_filterFirstValueAgainstSecond(makeNot(isMemberTest),is.NotIn,set_1$1.UNIVERSAL),intersection:combineFilterFirstValuesAgainstSecond({values:isMemberTest,arePut:is.NotIn,combinedUsing:makeAnd}),difference:combineFilterFirstValuesAgainstSecond({values:makeNot(isMemberTest),arePut:is.NotIn,combinedUsing:makeAnd,complement:!0})}},RANGE_NotIn={difference:swapArgs(make_filterFirstValueAgainstSecond(isMemberTest,is.In,set_1$1.EMPTY))},RANGE_And_Union=function(e,t){var a=set_1$1.union(e,t.values[0]),n=set_1$1.union(e,t.values[1]);return isAndOrOr(a)||isAndOrOr(n)?new is.Or([e,t]):set_1$1.intersection(a,n)},RANGE_And_Intersection=function(e,t){var a=t.values[0],n=t.values[1],r=set_1$1.intersection(e,a),o=set_1$1.intersection(e,n);return r===set_1$1.EMPTY||o===set_1$1.EMPTY?set_1$1.EMPTY:isAndOrOr(r)?isAndOrOr(o)?new is.And([e,t]):new set_1$1.intersection(o,a):new set_1$1.intersection(r,n)},RANGE_And_Difference=function(e,t){var a=t.values[0],n=t.values[1],r=set_1$1.difference(e,a),o=set_1$1.difference(e,n);return r===set_1$1.EMPTY?o:o===set_1$1.EMPTY?r:new is.Or([r,o])},And_RANGE_Difference=function(e,t){var a=e.values[0],n=e.values[1],r=set_1$1.difference(a,t),o=set_1$1.difference(n,t);return set_1$1.intersection(r,o)},RANGE_Or={union:function(e,t){var a=t.values[0],n=t.values[1],r=set_1$1.union(e,a);if(!isAndOrOr(r))return set_1$1.union(r,n);var o=set_1$1.union(e,n);return isAndOrOr(o)?new is.Or([e,t]):set_1$1.union(a,o)},intersection:function(e,t){var a=t.values[0],n=t.values[1],r=set_1$1.intersection(e,a),o=set_1$1.intersection(e,n);return r===set_1$1.EMPTY?o:o===set_1$1.EMPTY?r:set_1$1.union(r,o)},difference:function(e,t){var a=t.values[0],n=t.values[1],r=set_1$1.difference(e,a),o=set_1$1.difference(e,n);return set_1$1.intersection(r,o)}},Or_RANGE={difference:function(e,t){var a=e.values[0],n=e.values[1],r=set_1$1.difference(a,t),o=set_1$1.difference(n,t);return set_1$1.union(r,o)}},comparators={In_In:{union:makeEnum("union",is.In),intersection:makeEnum("intersection",is.In),difference:makeEnum("difference",is.In)},UNIVERSAL_In:{difference:makeSecondValue(is.NotIn,"values")},In_NotIn:{union:swapArgs(makeEnum("difference",is.NotIn,set_1$1.UNIVERSAL)),intersection:makeEnum("difference",is.In),difference:makeEnum("intersection",is.In)},NotIn_In:{difference:makeEnum("union",is.NotIn)},In_GreaterThan:In_RANGE,GreaterThan_In:RANGE_IN,In_GreaterThanEqual:In_RANGE,GreaterThanEqual_In:RANGE_IN,In_LessThan:In_RANGE,LessThan_In:RANGE_IN,In_LessThanEqual:In_RANGE,LessThanEqual_In:RANGE_IN,In_And:In_RANGE,And_In:RANGE_IN,In_Or:In_RANGE,Or_In:RANGE_IN,NotIn_NotIn:{union:makeEnum("intersection",is.NotIn,set_1$1.UNIVERSAL),intersection:makeEnum("union",is.NotIn),difference:makeEnum("difference",is.In)},UNIVERSAL_NotIn:{difference:makeSecondValue(is.In,"values")},NotIn_GreaterThan:NotIn_RANGE(),GreaterThan_NotIn:RANGE_NotIn,NotIn_GreaterThanEqual:NotIn_RANGE(),GreaterThanEqual_NotIn:RANGE_NotIn,NotIn_LessThan:NotIn_RANGE(),LessThan_NotIn:RANGE_NotIn,NotIn_LessThanEqual:NotIn_RANGE(),LessThanEqual_NotIn:RANGE_NotIn,NotIn_And:NotIn_RANGE(),And_NotIn:RANGE_NotIn,NotIn_Or:NotIn_RANGE(),Or_NotIn:RANGE_NotIn,GreaterThan_GreaterThan:{union:returnSmallerValue,intersection:returnBiggerValue,difference:makeAndIf(is.LessThan,is.LessThanEqual)},UNIVERSAL_GreaterThan:{difference:makeSecondValue(is.LessThanEqual)},GreaterThan_GreaterThanEqual:{union:returnSmallerValue,intersection:returnBiggerValue,difference:makeAndIf(is.LessThan,is.LessThan)},GreaterThanEqual_GreaterThan:{difference:make_InIfEqual_else_andIf(is.LessThan,is.LessThanEqual)},GreaterThan_LessThan:{union:function(){var e=makeOrUnless(is.LessThan);return function(t,a){return comparisons.In.test([t.value],a.value)?new is.NotIn([t.value]):e(t,a)}}(),intersection:makeAndUnless(is.GreaterThan),difference:makeComplementSecondArgIf(is.LessThan)},LessThan_GreaterThan:{difference:makeComplementSecondArgIf(is.GreaterThan)},GreaterThan_LessThanEqual:{union:makeOrUnless(is.LessThanEqual),intersection:makeAndUnless(is.GreaterThanEqual),difference:makeComplementSecondArgIf(is.LessThanEqual)},LessThanEqual_GreaterThan:{difference:makeComplementSecondArgIf(is.GreaterThanEqual)},GreaterThan_And:{union:RANGE_And_Union,intersection:RANGE_And_Intersection,difference:RANGE_And_Difference},And_GreaterThan:{difference:And_RANGE_Difference},GreaterThan_Or:RANGE_Or,Or_GreaterThan:Or_RANGE,GreaterThanEqual_GreaterThanEqual:{union:returnSmallerValue,intersection:returnBiggerValue,difference:makeAndIf(is.LessThan,is.LessThan)},UNIVERSAL_GreaterThanEqual:{difference:makeSecondValue(is.LessThan)},GreaterThanEqual_LessThan:{union:makeOrUnless(is.LessThanEqual),intersection:makeAndUnless(is.GreaterThanEqual),difference:makeComplementSecondArgIf(is.LessThanEqual)},LessThan_GreaterThanEqual:{difference:makeComplementSecondArgIf(is.GreaterThanEqual)},GreaterThanEqual_LessThanEqual:{union:makeOrUnless(is.LessThanEqual),intersection:function(){var e=makeAndUnless(is.GreaterThan);return function(t,a){var n=new is.In([t.value]);return n.isMember(a.value)?n:e(t,a)}}(),difference:makeComplementSecondArgIf(is.LessThanEqual)},LessThanEqual_GreaterThanEqual:{difference:makeComplementSecondArgIf(is.GreaterThanEqual)},GreaterThanEqual_And:{union:RANGE_And_Union,intersection:RANGE_And_Intersection,difference:RANGE_And_Difference},And_GreaterThanEqual:{difference:And_RANGE_Difference},GreaterThanEqual_Or:RANGE_Or,Or_GreaterThanEqual:Or_RANGE,LessThan_LessThan:{union:returnBiggerValue,intersection:returnSmallerValue,difference:makeAndIf(is.GreaterThan,is.GreaterThanEqual)},UNIVERSAL_LessThan:{difference:makeSecondValue(is.GreaterThanEqual)},LessThan_LessThanEqual:{union:returnBiggerValue,intersection:returnSmallerValue,difference:makeAndIf(is.GreaterThan,is.GreaterThan)},LessThanEqual_LessThan:{difference:make_InIfEqual_else_andIf(is.GreaterThanEqual,is.GreaterThanEqual)},LessThan_And:{union:RANGE_And_Union,intersection:RANGE_And_Intersection,difference:RANGE_And_Difference},And_LessThan:{difference:And_RANGE_Difference},LessThan_Or:RANGE_Or,Or_LessThan:Or_RANGE,LessThanEqual_LessThanEqual:{union:returnBiggerValue,intersection:returnSmallerValue,difference:function(e,t){return e.value>=t.value?makeAnd([e,new is.GreaterThan(t.value)]):set_1$1.EMPTY}},UNIVERSAL_LessThanEqual:{difference:makeSecondValue(is.GreaterThan)},LessThanEqual_And:{union:RANGE_And_Union,intersection:RANGE_And_Intersection,difference:RANGE_And_Difference},And_LessThanEqual:{difference:And_RANGE_Difference},LessThanEqual_Or:RANGE_Or,Or_LessThanEqual:Or_RANGE,And_And:{union:function(e,t){var a=set_1$1.union(e,t.values[0]),n=set_1$1.union(e,t.values[1]);return(isAndOrOr(a)||isAndOrOr(n))&&(a=set_1$1.union(t,e.values[0]),n=set_1$1.union(t,e.values[1])),isAndOrOr(a)||isAndOrOr(n)?new is.Or([e,t]):set_1$1.intersection(a,n)},intersection:function(e,t){var a=set_1$1.intersection(e.values[0],t.values[0]),n=set_1$1.intersection(e.values[1],t.values[1]);return isAndOrOr(a)&&isAndOrOr(n)?(a=set_1$1.intersection(e.values[0],t.values[1]),n=set_1$1.intersection(e.values[1],t.values[0]),isAndOrOr(a)&&isAndOrOr(n)?new is.And([e,t]):set_1$1.intersection(a,n)):set_1$1.intersection(a,n)},difference:function(){return function(e,t){var a=set_1$1.difference(e,t.values[0]),n=set_1$1.difference(e,t.values[1]);return set_1$1.union(a,n)}}()},And_Or:{union:function(e,t){var a=set_1$1.union(e.values[0],t),n=set_1$1.union(e.values[1],t);return isAndOrOr(a)&&isAndOrOr(n)?new is.Or([e,t]):set_1$1.intersection(a,n)},intersection:function(e,t){var a=set_1$1.intersection(e,t.values[0]),n=set_1$1.intersection(e,t.values[1]);return isOr(a)||isOr(n)?new is.And([e,t]):set_1$1.union(a,n)},difference:function(e,t){var a=set_1$1.difference(e,t.values[0]),n=set_1$1.difference(e,t.values[1]);return set_1$1.intersection(a,n)}},Or_And:{difference:function(e,t){var a=set_1$1.difference(e,t.values[0]),n=set_1$1.difference(e,t.values[1]);return set_1$1.union(a,n)}},UNIVERSAL_And:{difference:function(e,t){var a=set_1$1.difference(e,t.values[0]),n=set_1$1.difference(e,t.values[1]);return set_1$1.union(a,n)}},Or_Or:{union:function(e,t){var a=set_1$1.union(e.values[0],t.values[0]),n=set_1$1.union(e.values[1],t.values[1]);return isAndOrOr(a)&&isAndOrOr(n)?(a=set_1$1.union(e.values[0],t.values[1]),n=set_1$1.union(e.values[1],t.values[0]),isAndOrOr(a)&&isAndOrOr(n)?new is.Or([e,t]):set_1$1.union(a,n)):set_1$1.union(a,n)},intersection:function(e,t){var a=t.values[0],n=t.values[1],r=set_1$1.intersection(e,a),o=set_1$1.intersection(e,n);return isOr(r)&&isOr(o)?(r=set_1$1.union(t,e.values[0]),o=set_1$1.union(t,e.values[1]),isOr(r)&&isOr(o)?new is.Or([e,t]):set_1$1.union(r,o)):set_1$1.union(r,o)},difference:function(e,t){var a=set_1$1.difference(e,t.values[0]),n=set_1$1.difference(e,t.values[1]);return set_1$1.intersection(a,n)}},UNIVERSAL_Or:{difference:function(e,t){var a=set_1$1.difference(e,t.values[0]),n=set_1$1.difference(e,t.values[1]);return set_1$1.intersection(a,n)}}},names=Object.keys(comparisons);names.forEach(function(e,t){comparators[e+"_"+e]?set_1$1.defineComparison(comparisons[e],comparisons[e],comparators[e+"_"+e]):console.warn("no "+e+"_"+e),comparators["UNIVERSAL_"+e]?set_1$1.defineComparison(set_1$1.UNIVERSAL,comparisons[e],comparators["UNIVERSAL_"+e]):console.warn("no UNIVERSAL_"+e);for(var a=t+1,n;a<names.length;a++)n=names[a],comparators[e+"_"+n]?set_1$1.defineComparison(comparisons[e],comparisons[n],comparators[e+"_"+n]):console.warn("no "+e+"_"+n),comparators[n+"_"+e]?set_1$1.defineComparison(comparisons[n],comparisons[e],comparators[n+"_"+e]):console.warn("no "+n+"_"+e)});var comparisons_1=comparisons,makeRealNumberRangeInclusive=function(e,t){function a(a,n){this.start=0<arguments.length?+a:e,this.end=1<arguments.length?+n:t,this.range=new comparisons_1.And([new comparisons_1.GreaterThanEqual(this.start),new comparisons_1.LessThanEqual(this.end)])}function n(e){return set_1$1.isSubset(l.range,e.range)}function r(e){var t={};if(e.values.forEach(function(e){e instanceof comparisons_1.GreaterThanEqual&&(t.start=e.value),e instanceof comparisons_1.GreaterThan&&(t.start=e.value+1),e instanceof comparisons_1.LessThanEqual&&(t.end=e.value),e instanceof comparisons_1.LessThan&&(t.end=e.value-1)}),"start"in t&&"end"in t)return new a(t.start,t.end)}function o(e){var t;if(e instanceof comparisons_1.And&&(t=r(e)),e instanceof comparisons_1.Or){var o=r(e.values[0]),s=r(e.values[1]);if(o&&s){var i=o.range.values,l=s.range.values;if(i[1].value+1===l[0].value)t=new a(i[0].value,l[1].value);else if(l[1].value+1===i[0].value)t=new a(l[0].value,i[1].value);else return set_1$1.UNDEFINABLE}else return set_1$1.UNDEFINABLE}return t&&n(t)?set_1$1.UNIVERSAL:t}function s(e,t){var a=o(set_1$1.intersection(e.range,t.range));return a?a:set_1$1.EMPTY}function i(e,t){var a=o(set_1$1.difference(e.range,t.range));return a?a:set_1$1.EMPTY}var l=new a(e,t);return set_1$1.defineComparison(a,a,{union:function(e,t){var a=o(set_1$1.union(e.range,t.range));return a?a:set_1$1.EMPTY},intersection:s,difference:i}),set_1$1.defineComparison(set_1$1.UNIVERSAL,a,{difference:function(e,t){return n(t)?set_1$1.EMPTY:i(l,t)}}),a},types={};function ValuesOr(e){this.values=e}ValuesOr.prototype.isMember=function(e){return this.values.some(function(t){return t&&t.isMember?t.isMember(e):t===e})},set_1$1.defineComparison(set_1$1.UNIVERSAL,ValuesOr,{difference:function(){return set_1$1.UNDEFINABLE}});var valuesOr=types.ValuesOr=ValuesOr;function NotIdentity(e){this.value=e}var Identity$1=set_1$1.Identity;set_1$1.defineComparison(set_1$1.UNIVERSAL,Identity$1,{difference:function(e,t){return new NotIdentity(t)}}),set_1$1.defineComparison(set_1$1.UNIVERSAL,NotIdentity,{difference:function(e,t){return t.value}}),set_1$1.defineComparison(NotIdentity,NotIdentity,{}),set_1$1.defineComparison(NotIdentity,Identity$1,{union:function(e,t){if(set_1$1.isEqual(e.value,t))return set_1$1.UNIVERSAL;throw new Error("Not,Identity Union is not filled out")},intersection:function(e,t){return set_1$1.isEqual(!e.value,t)?t:set_1$1.EMPTY},difference:function(e,t){return set_1$1.isEqual(e.value,t)?e:set_1$1.UNDEFINABLE}}),set_1$1.defineComparison(Identity$1,NotIdentity,{difference:function(e,t){return set_1$1.isEqual(e,t.value)?e:set_1$1.UNDEFINABLE}});var valuesNot=types.Not=NotIdentity;function KeysAnd(e){var t=this.values={};canReflect_1_17_4_canReflect.eachKey(e,function(e,a){t[a]=canReflect_1_17_4_canReflect.isPlainObject(e)&&!set_1$1.isSpecial(e)?new KeysAnd(e):e})}var isMemberSymbol$2=canSymbol_1_6_1_canSymbol.for("can.isMember");KeysAnd.prototype.isMember=function(e,t,a){var n=!0,r=a?a+".":"";return canReflect_1_17_4_canReflect.eachKey(this.values,function(a,o){var s=a&&(a[isMemberSymbol$2]||a.isMember);s?!s.call(a,get_1(e,o),t||e,r+o)&&(n=!1):a!==get_1(e,o)&&(n=!1)}),n};function checkIfUniversalAndReturnUniversal(e){return set_1$1.isEqual(e,set_1$1.UNIVERSAL)?set_1$1.UNIVERSAL:e}var MISSING={};function eachInUnique(e,t,a,n,r){var o=canAssign_1_3_1_canAssign({},a),s;for(var i in e){if(s=t(i,e[i],i in a?a[i]:MISSING,e,a),void 0!==s)return s;delete o[i]}for(i in o)if(s=n(i,MISSING,a[i],e,a),void 0!==s)return s;return r}function keyDiff(e,t){var a=arrayUnionIntersectionDifference(Object.keys(e),Object.keys(t));return{aOnlyKeys:a.difference,aAndBKeys:a.intersection,bOnlyKeys:arrayUnionIntersectionDifference(Object.keys(t),Object.keys(e)).difference}}function notEmpty(e){return e!==set_1$1.EMPTY}function difference(e,t){var a=e.values,n=t.values,r=keyDiff(a,n),o=r.aOnlyKeys,s=r.aAndBKeys,i=r.bOnlyKeys,l={},d={},p={};s.forEach(function(e){var t=set_1$1.difference(a[e],n[e]);if(t===set_1$1.EMPTY)l[e]=a[e];else{var r=set_1$1.intersection(a[e],n[e]),o=r!==set_1$1.EMPTY;o?d[e]={difference:t,intersection:r}:p[e]=a[e]}});var c=Object.keys(d),u;if(1===c.length&&(u={},u[c[0]]=d[c[0]].difference),Object.keys(p).length)return e;if(0===o.length&&0===i.length)return 1<c.length?set_1$1.UNDEFINABLE:1===c.length?(canAssign_1_3_1_canAssign(l,u),new KeysAnd(l)):set_1$1.EMPTY;if(0<o.length&&0===i.length)return 1<c.length?set_1$1.UNDEFINABLE:1===c.length?(canAssign_1_3_1_canAssign(l,u),o.forEach(function(e){l[e]=a[e]}),new KeysAnd(l)):set_1$1.EMPTY;if(0===o.length&&0<i.length){if(1<c.length)return set_1$1.UNDEFINABLE;var y;if(1===c.length){var h=c[0];y=canAssign_1_3_1_canAssign({},l),y[h]=d[h].difference,l[h]=d[h].intersection}var g=i.map(function(e){var t=canAssign_1_3_1_canAssign({},l),a=t[e]=set_1$1.difference(set_1$1.UNIVERSAL,n[e]);return a===set_1$1.EMPTY?a:new KeysAnd(t)}).filter(notEmpty);return y&&g.push(new KeysAnd(y)),1<g.length?new types.ValuesOr(g):1===g.length?g[0]:set_1$1.EMPTY}if(0<o.length&&0<i.length){if(c.length)throw new Error("Can't handle any productable keys right now");if(o.forEach(function(e){l[e]=a[e]}),1===i.length){var f=i[0],m=canAssign_1_3_1_canAssign({},l);return m[f]=set_1$1.difference(set_1$1.UNIVERSAL,n[f]),new KeysAnd(m)}return set_1$1.UNDEFINABLE}}set_1$1.defineComparison(KeysAnd,KeysAnd,{union:function(e,t){var a=keyDiff(e.values,t.values),n=[],r={};a.aAndBKeys.forEach(function(a){set_1$1.isEqual(e.values[a],t.values[a])?r[a]=e.values[a]:n.push(a)});var o={},s={};if(n.forEach(function(a){o[a]=e.values[a],s[a]=t.values[a]}),!a.aOnlyKeys.length&&!a.bOnlyKeys.length){if(1===n.length){var i=n[0],l=r[i]=set_1$1.union(e.values[i],t.values[i]);return 1===canReflect_1_17_4_canReflect.size(r)&&set_1$1.isEqual(l,set_1$1.UNIVERSAL)?set_1$1.UNIVERSAL:new KeysAnd(r)}if(0===n.length)return e}if(0===n.length){if(0<a.aOnlyKeys.length&&0===a.bOnlyKeys.length)return checkIfUniversalAndReturnUniversal(t);if(0===a.aOnlyKeys.length&&0<a.bOnlyKeys.length)return checkIfUniversalAndReturnUniversal(e)}return 0<a.aOnlyKeys.length&&0===a.bOnlyKeys.length&&set_1$1.isSubset(new KeysAnd(o),new KeysAnd(s))?t:0<a.bOnlyKeys.length&&0===a.aOnlyKeys.length&&set_1$1.isSubset(new KeysAnd(s),new KeysAnd(o))?e:new types.ValuesOr([e,t])},intersection:function(e,t){var a=e.values,n=t.values,r=!1,o={};return eachInUnique(a,function(e,t,a){o[e]=a===MISSING?t:set_1$1.intersection(t,a),o[e]===set_1$1.EMPTY&&(r=!0)},n,function(e,t,a){o[e]=a,o[e]===set_1$1.EMPTY&&(r=!0)}),r?set_1$1.EMPTY:new KeysAnd(o)},difference:difference}),set_1$1.defineComparison(set_1$1.UNIVERSAL,KeysAnd,{difference:function(e,t){return difference({values:{}},t)}});var keysAnd=types.KeysAnd=KeysAnd,andOrNot={KeysAnd:keysAnd,ValuesOr:valuesOr,ValuesNot:valuesNot},defaultCompare={$gt:function(e,t){return e>t},$lt:function(e,t){return e<t}},helpers$1={uniqueConcat:function(e,t,a){var n=new Set;return e.concat(t).filter(function(e){var t=a(e);return!n.has(t)&&(n.add(t),!0)})},getIndex:function(e,t,a){if(t&&t.length){if(-1===e(a,t[0]))return 0;if(1===e(a,t[t.length-1]))return t.length;for(var n=0,r=t.length;n<r;){var o=n+r>>>1,s=t[o],i=e(a,s);-1===i?r=o:n=o+1}return r}},sortData:function(e){return"-"===e[0]?{prop:e.slice(1),desc:!0}:{prop:e,desc:!1}},defaultCompare:defaultCompare,sorter:function(e,t){var a=helpers$1.sortData(e),n;return n=t&&t[a.prop]?t[a.prop]:defaultCompare,function(e,t){var r=canReflect_1_17_4_canReflect.getKeyValue(e,a.prop),o=canReflect_1_17_4_canReflect.getKeyValue(t,a.prop),s;return a.desc&&(s=r,r=o,o=s),n.$lt(r,o)?-1:n.$gt(r,o)?1:0}},valueHydrator:function(e){if(canReflect_1_17_4_canReflect.isBuiltIn(e))return e;throw new Error("can-query-logic doesn't support comparison operator: "+JSON.stringify(e))}},helpers_1$1=helpers$1,isMemberSymbol$3=canSymbol_1_6_1_canSymbol.for("can.isMember"),KeysAnd$1=andOrNot.KeysAnd,Or=andOrNot.ValuesOr,Not=andOrNot.ValuesNot,RecordRange=makeRealNumberRangeInclusive(0,1/0);function makeSort(e,t){function a(e){this.key=e,this.compare=helpers_1$1.sorter(e,n)}var n={};return canReflect_1_17_4_canReflect.eachKey(e,function(e,a){n[a]={$gt:function(n,r){var o=t({$gt:r},a,e,helpers_1$1.valueHydrator);return o[isMemberSymbol$3](n)},$lt:function(n,r){var o=t({$lt:r},a,e,helpers_1$1.valueHydrator);return o[isMemberSymbol$3](n)}}}),set_1$1.defineComparison(a,a,{intersection:function(e,t){return e.key===t.key?e:set_1$1.EMPTY},difference:function(e,t){return e.key===t.key?set_1$1.EMPTY:e},union:function(e,t){return e.key===t.key?e:set_1$1.UNDEFINABLE}}),a}var DefaultSort=makeSort({});function BasicQuery(e){canAssign_1_3_1_canAssign(this,e),this.filter||(this.filter=set_1$1.UNIVERSAL),this.page||(this.page=new RecordRange),this.sort||(this.sort="id"),"string"==typeof this.sort&&(this.sort=new DefaultSort(this.sort))}BasicQuery.KeysAnd=KeysAnd$1,BasicQuery.Or=Or,BasicQuery.Not=Not,BasicQuery.RecordRange=RecordRange,BasicQuery.makeSort=makeSort,canReflect_1_17_4_canReflect.assignMap(BasicQuery.prototype,{count:function(){return this.page.end-this.page.start+1},sortData:function(e){return e.slice(0).sort(this.sort.compare)},filterMembersAndGetCount:function(e,t){if(!t)t=new BasicQuery;else if(!set_1$1.isSubset(this,t))throw new Error("can-query-logic: Unable to get members from a set that is not a superset of the current set.");var a=e.filter(function(e){return this.filter.isMember(e)},this),n=a.length;n&&this.sort.key!==t.sort.key&&(a=this.sortData(a));var r=set_1$1.isEqual(this.page,set_1$1.UNIVERSAL),o=set_1$1.isEqual(t.page,set_1$1.UNIVERSAL);if(o)return r?{data:a,count:n}:{data:a.slice(this.page.start,this.page.end+1),count:n};if(this.sort.key===t.sort.key&&set_1$1.isEqual(t.filter,this.filter))return{data:a.slice(this.page.start-t.page.start,this.page.end-t.page.start+1),count:n};throw new Error("can-query-logic: Unable to get members from the parent set for this subset.")},filterFrom:function(e,t){return this.filterMembersAndGetCount(e,t).data},merge:function(e,t,a,n){var r=set_1$1.union(this,e);if(r!==set_1$1.UNDEFINABLE){var o=helpers_1$1.uniqueConcat(t,a,n);return r.sortData(o)}},index:function(e,t){var a=helpers_1$1.sortData(this.sort.key);return canReflect_1_17_4_canReflect.hasOwnKey(e,a.prop)?helpers_1$1.getIndex(this.sort.compare,t,e):void 0},isMember:function(e){return this.filter.isMember(e)},removePagination:function(){this.page=new RecordRange}});var CLAUSE_TYPES=["filter","page","sort"];function getDifferentClauseTypes(e,t){var a=[];return CLAUSE_TYPES.forEach(function(n){set_1$1.isEqual(e[n],t[n])||a.push(n)}),a}function isSubset(e,t,a){return!!a[e+"FilterIsSubset"]&&(!!a[t+"PageIsUniversal"]||a[e+"PageIsSubset"]&&a.sortIsEqual)}function MetaInformation(e,t){this.queryA=e,this.queryB=t}canReflect_1_17_4_canReflect.eachKey({pageIsEqual:function(){return set_1$1.isEqual(this.queryA.page,this.queryB.page)},aPageIsUniversal:function(){return set_1$1.isEqual(this.queryA.page,set_1$1.UNIVERSAL)},bPageIsUniversal:function(){return set_1$1.isEqual(this.queryB.page,set_1$1.UNIVERSAL)},pagesAreUniversal:function(){return this.pageIsEqual&&this.aPageIsUniversal},sortIsEqual:function(){return this.queryA.sort.key===this.queryB.sort.key},aFilterIsSubset:function(){return set_1$1.isSubset(this.queryA.filter,this.queryB.filter)},bFilterIsSubset:function(){return set_1$1.isSubset(this.queryB.filter,this.queryA.filter)},aPageIsSubset:function(){return set_1$1.isSubset(this.queryA.page,this.queryB.page)},bPageIsSubset:function(){return set_1$1.isSubset(this.queryB.page,this.queryA.page)},filterIsEqual:function(){return set_1$1.isEqual(this.queryA.filter,this.queryB.filter)},aIsSubset:function(){return isSubset("a","b",this)},bIsSubset:function(){return isSubset("b","a",this)}},function(e,t){canDefineLazyValue_1_1_0_defineLazyValue(MetaInformation.prototype,t,e)});function metaInformation(e,t){var a=new MetaInformation(e,t);return a}set_1$1.defineComparison(BasicQuery,BasicQuery,{union:function(e,t){var a=metaInformation(e,t),n=set_1$1.union(e.filter,t.filter);if(a.pagesAreUniversal)return new BasicQuery({filter:n,sort:a.sortIsEqual?e.sort.key:void 0});if(a.filterIsEqual)return a.sortIsEqual?new BasicQuery({filter:e.filter,sort:e.sort.key,page:set_1$1.union(e.page,t.page)}):a.aIsSubset?t:a.bIsSubset?e:set_1$1.UNDEFINABLE;throw new Error("different filters, non-universal pages")},intersection:function(e,t){var a=metaInformation(e,t);if(a.pagesAreUniversal){var n=set_1$1.intersection(e.filter,t.filter);return set_1$1.isDefinedAndHasMembers(n)?new BasicQuery({filter:n,sort:a.sortIsEqual?e.sort.key:void 0}):n}return set_1$1.intersection(e.filter,t.filter)===set_1$1.EMPTY?set_1$1.EMPTY:a.filterIsEqual?a.sortIsEqual?new BasicQuery({filter:e.filter,sort:e.sort.key,page:set_1$1.intersection(e.page,t.page)}):a.aIsSubset?e:a.bIsSubset?t:set_1$1.UNKNOWABLE:a.aIsSubset?e:a.bIsSubset?t:set_1$1.UNDEFINABLE},difference:function(e,t){var a=getDifferentClauseTypes(e,t),n=metaInformation(e,t),r;if(1<a.length)return n.aIsSubset?set_1$1.EMPTY:n.pagesAreUniversal?new BasicQuery({filter:set_1$1.difference(e.filter,t.filter),sort:e.sort.key}):set_1$1.UNDEFINABLE;switch(r=a[0]){case void 0:return set_1$1.EMPTY;case"sort":return n.pagesAreUniversal?set_1$1.EMPTY:set_1$1.UNKNOWABLE;case"page":case"filter":{var o=set_1$1.difference(e[r],t[r]);if(set_1$1.isSpecial(o))return o;var s={filter:e.filter,page:e.page,sort:e.sort.key};return s[r]=o,new BasicQuery(s)}}}});var basicQuery=BasicQuery,Serializer=function(e){this.serializers=new Map(e||[]),this.serialize=this.serialize.bind(this)};Serializer.prototype.add=function(e){canReflect_1_17_4_canReflect.assign(this.serializers,e instanceof Serializer?e.serializers:e)},Serializer.prototype.serialize=function(e){if(!e)return e;var t=e.constructor,a=this.serializers.get(t);return a?a(e,this.serialize):canReflect_1_17_4_canReflect.serialize(e)};var serializer=Serializer;function makeNew(e){return function(t){return new e(t)}}var hydrateMap={};function addHydrateFrom(e,t){hydrateMap[e]=function(a,n){return t(n?n(a[e]):a[e])},Object.defineProperty(hydrateMap[e],"name",{value:"hydrate "+e,writable:!0})}function addHydrateFromValues(e,t){hydrateMap[e]=function(a,n){var r=a[e];return n&&(r=r.map(function(e){return n(e)})),t(r)},Object.defineProperty(hydrateMap[e],"name",{value:"hydrate "+e,writable:!0})}addHydrateFrom("$eq",function(e){return new comparisons_1.In([e])}),addHydrateFrom("$ne",function(e){return new comparisons_1.NotIn([e])}),addHydrateFrom("$gt",makeNew(comparisons_1.GreaterThan)),addHydrateFrom("$gte",makeNew(comparisons_1.GreaterThanEqual)),addHydrateFromValues("$in",makeNew(comparisons_1.In)),addHydrateFrom("$lt",makeNew(comparisons_1.LessThan)),addHydrateFrom("$lte",makeNew(comparisons_1.LessThanEqual)),addHydrateFromValues("$nin",makeNew(comparisons_1.GreaterThan));var serializer$1=new serializer([[comparisons_1.In,function(e,t){return 1===e.values.length?t(e.values[0]):{$in:e.values.map(t)}}],[comparisons_1.NotIn,function(e,t){return 1===e.values.length?{$ne:t(e.values[0])}:{$nin:e.values.map(t)}}],[comparisons_1.GreaterThan,function(e,t){return{$gt:t(e.value)}}],[comparisons_1.GreaterThanEqual,function(e,t){return{$gte:t(e.value)}}],[comparisons_1.LessThan,function(e,t){return{$lt:t(e.value)}}],[comparisons_1.LessThanEqual,function(e,t){return{$lte:t(e.value)}}],[comparisons_1.And,function(e,t){var a={};return e.values.forEach(function(e){canReflect_1_17_4_canReflect.assignMap(a,t(e))}),a}]]),comparisons$1={hydrate:function(e,t){if(t||(t=function(){throw new Error("can-query-logic doesn't recognize operator: "+JSON.stringify(e))}),Array.isArray(e))return new comparisons_1.In(e);if(e&&"object"==typeof e){var a=Object.keys(e),n=a.every(function(e){return hydrateMap[e]});if(n){var r=a.map(function(a){var n={};n[a]=e[a];var r=hydrateMap[a];return r(n,t)});return 1<r.length?new comparisons_1.And(r):r[0]}return t(e)}return new comparisons_1.In([e])},serializer:serializer$1},schemaHelpers_1=schemaHelpers={isRangedType:function(e){return e&&canReflect_1_17_4_canReflect.isConstructorLike(e)&&!set_1$1.hasComparisons(e)&&!e[canSymbol_1_6_1_canSymbol.for("can.SetType")]&&e.prototype.valueOf&&e.prototype.valueOf!==Object.prototype.valueOf},categorizeOrValues:function(e){var t={primitives:[],valueOfTypes:[],others:[]};return e.forEach(function(e){canReflect_1_17_4_canReflect.isPrimitive(e)?t.primitives.push(e):schemaHelpers.isRangedType(e)?t.valueOfTypes.push(e):t.others.push(e)}),t}},comparisonSetTypeSymbol=canSymbol_1_6_1_canSymbol.for("can.ComparisonSetType"),isMemberSymbol$4=canSymbol_1_6_1_canSymbol.for("can.isMember"),schemaHelpers;function splitByRangeAndEnum(e,t){var a;if(t instanceof comparisons_1.And){var n=t.values.map(function(t){return splitByRangeAndEnum(e,t)});return n.reduce(function(e,t){return{range:set_1$1.intersection(e.range,t.range),enum:set_1$1.intersection(e.enum,t.enum)}},{range:set_1$1.UNIVERSAL,enum:e})}if(t instanceof comparisons_1.In){var r=t.values.filter(function(t){return e.isMember(t)});if(r.length){var o=t.values.slice(0);return canReflect_1_17_4_canReflect.removeValues(o,r),{enum:new comparisons_1.In(r),range:o.length?new comparisons_1.In(o):set_1$1.EMPTY}}return{enum:set_1$1.EMPTY,range:t}}if(t instanceof comparisons_1.NotIn){a=set_1$1.intersection(e,t);var s=t.values.filter(function(t){return!e.isMember(t)});return{range:s.length?new comparisons_1.NotIn(s):set_1$1.UNIVERSAL,enum:a}}return{enum:set_1$1.EMPTY,range:t}}function makeMaybe(e,t){function a(e){var t=splitByRangeAndEnum(n,e.range);if(this.range=t.range||set_1$1.EMPTY,this.enum=e.enum?t.enum===set_1$1.EMPTY?e.enum:set_1$1.union(t.enum,e.enum):t.enum,this.enum===set_1$1.EMPTY&&this.range===set_1$1.EMPTY)return set_1$1.EMPTY}var n=new comparisons_1.In(e);return a.prototype.orValues=function(){var e=[];return this.range!==set_1$1.EMPTY&&e.push(this.range),this.enum!==set_1$1.EMPTY&&e.push(this.enum),e},a.prototype[isMemberSymbol$4]=function(){var e=this.range[isMemberSymbol$4]||this.range.isMember,t=this.enum[isMemberSymbol$4]||this.enum.isMember;return e.apply(this.range,arguments)||t.apply(this.enum,arguments)},set_1$1.defineComparison(a,a,{union:function(e,t){var n=set_1$1.union(e.enum,t.enum),r=set_1$1.union(e.range,t.range);return new a({enum:n,range:r})},difference:function(e,t){var n=set_1$1.difference(e.enum,t.enum),r=set_1$1.difference(e.range,t.range);return new a({enum:n,range:r})},intersection:function(e,t){var n=set_1$1.intersection(e.enum,t.enum),r=set_1$1.intersection(e.range,t.range);return new a({enum:n,range:r})}}),a.inValues=e,set_1$1.defineComparison(set_1$1.UNIVERSAL,a,{difference:function(e,t){var r,o;if(t.range===set_1$1.UNIVERSAL)return new a({range:t.range,enum:set_1$1.difference(n,t.enum)});if(t.enum===set_1$1.EMPTY){var s=set_1$1.difference(set_1$1.UNIVERSAL,t.range),i=set_1$1.difference(n,t.range),l=set_1$1.difference(i,s);return new a({range:s,enum:l})}return r=set_1$1.difference(e,t.range),o=set_1$1.difference(n,t.enum),new a({enum:o,range:r})}}),t=t||function(e){return e},a.hydrate=function(e,n){return new a({range:n(e,t)})},a}makeMaybe.canMakeMaybeSetType=function(e){var t=canReflect_1_17_4_canReflect.getSchema(e);if(t&&"Or"===t.type){var a=schemaHelpers_1.categorizeOrValues(t.values);return 1===a.valueOfTypes.length&&a.valueOfTypes.length+a.primitives.length===t.values.length}return!1},makeMaybe.makeMaybeSetTypes=function(e){var t=canReflect_1_17_4_canReflect.getSchema(e),a=schemaHelpers_1.categorizeOrValues(t.values),n;return e[comparisonSetTypeSymbol]?n=e[comparisonSetTypeSymbol]:(n=function(t){this.value=canReflect_1_17_4_canReflect.new(e,t)},n.prototype.valueOf=function(){return this.value},canReflect_1_17_4_canReflect.assignSymbols(n.prototype,{"can.serialize":function(){return this.value}})),{Maybe:makeMaybe(a.primitives,function(e){return new n(e)}),ComparisonSetType:n}};var makeMaybe_1=makeMaybe,setTypeSymbol=canSymbol_1_6_1_canSymbol.for("can.SetType"),isMemberSymbol$5=canSymbol_1_6_1_canSymbol.for("can.isMember"),newSymbol$2=canSymbol_1_6_1_canSymbol.for("can.new");function makeEnumSetType(e,t){function a(e){var a=Array.isArray(e)?e:[e];this.values=t?a.map(t):a}canReflect_1_17_4_canReflect.assignSymbols(a.prototype,{"can.serialize":function(){return 1===this.values.length?this.values[0]:this.values}}),a.prototype[isMemberSymbol$5]=function(e){return this.values.some(function(t){return set_1$1.isEqual(t,e)})},a.UNIVERSAL=new a(e);var n=function(e,t){var n=arrayUnionIntersectionDifference(e.values,t.values);return n.difference.length?new a(n.difference):set_1$1.EMPTY};return set_1$1.defineComparison(a,a,{union:function(e,t){var n=arrayUnionIntersectionDifference(e.values,t.values);return n.union.length?new a(n.union):set_1$1.EMPTY},intersection:function(e,t){var n=arrayUnionIntersectionDifference(e.values,t.values);return n.intersection.length?new a(n.intersection):set_1$1.EMPTY},difference:n}),set_1$1.defineComparison(a,set_1$1.UNIVERSAL,{difference:function(t){return n(t,{values:e.slice(0)})}}),set_1$1.defineComparison(set_1$1.UNIVERSAL,a,{difference:function(t,a){return n({values:e.slice(0)},a)}}),a}function makeEnum$1(e,t,a){var n=makeEnumSetType(t,a);return e[setTypeSymbol]=n,e[isMemberSymbol$5]=function(e){return t.some(function(t){return set_1$1.isEqual(t,e)})},n}makeEnum$1.canMakeEnumSetType=function(e){var t=canReflect_1_17_4_canReflect.getSchema(e);if(t&&"Or"===t.type){var a=schemaHelpers_1.categorizeOrValues(t.values);return a.primitives.length===t.values.length}return!1},makeEnum$1.makeEnumSetType=function(e){var t=canReflect_1_17_4_canReflect.getSchema(e),a=schemaHelpers_1.categorizeOrValues(t.values),n=e[newSymbol$2]?e[newSymbol$2].bind(e):void 0;return makeEnumSetType(a.primitives,n)};var makeEnum_1=makeEnum$1,setTypeSymbol$1=canSymbol_1_6_1_canSymbol.for("can.SetType"),schemaSymbol=canSymbol_1_6_1_canSymbol.for("can.getSchema"),defaultQuery=new basicQuery({});function getSchemaProperties(e){var t=e.constructor;if(t&&t[schemaSymbol]){var a=t[schemaSymbol]();return a.keys||{}}return{}}function hydrateFilter(e,t,a){return e&&"object"==typeof e&&"$or"in e?hydrateOrs(e.$or,t,a):hydrateAndValues(e,t,a)}var setTypeMap=new WeakMap;function hydrateAndValue(e,t,a,n){if(a){var r=a[setTypeSymbol$1];return r?r.hydrate?r.hydrate(e,comparisons$1.hydrate):set_1$1.hasComparisons(r)?new r(e):comparisons$1.hydrate(e,function(e){return new r(e)}):makeEnum_1.canMakeEnumSetType(a)?(setTypeMap.has(a)||setTypeMap.set(a,makeEnum_1.makeEnumSetType(a)),r=setTypeMap.get(a),new r(e)):makeMaybe_1.canMakeMaybeSetType(a)?(setTypeMap.has(a)||setTypeMap.set(a,makeMaybe_1.makeMaybeSetTypes(a)),r=setTypeMap.get(a).Maybe,r.hydrate(e,comparisons$1.hydrate)):comparisons$1.hydrate(e,n)}return comparisons$1.hydrate(e,n)}function hydrateAndValues(e,t,a){function n(e){if(e){if(Array.isArray(e))return e.map(a);if(canReflect_1_17_4_canReflect.isPlainObject(e))return hydrateAndValues(e,getSchemaProperties(e))}return a?a(e):e}t=t||{};var r={};return canReflect_1_17_4_canReflect.eachKey(e,function(e,a){r[a]=hydrateAndValue(e,a,t[a],n)}),new basicQuery.KeysAnd(r)}function combineAnds(e){var t=Object.keys(e[0].values),a={},n=new comparisons_1.In(t);t.map(function(e){a[e]=[]});var r=e.every(function(e){return!!set_1$1.isEqual(n,new comparisons_1.In(Object.keys(e.values)))&&(canReflect_1_17_4_canReflect.eachKey(e.values,function(e,t){a[t].push(e)}),!0)});if(r){var o=[];if(t.forEach(function(e){var t=a[e].reduce(function(e,t){if(!1===t)return!1;if(void 0===t)return e;var a=set_1$1.isEqual(e,t);return!!a&&e});t||o.push(e)}),1===o.length){var s=o[0],i=a[s].reduce(function(e,t){return set_1$1.union(e,t)},set_1$1.EMPTY),l={};return t.map(function(e){l[e]=a[e][0]}),l[s]=i,new basicQuery.KeysAnd(l)}}}function hydrateOrs(e,t,a){var n=e.map(function(e){return hydrateAndValues(e,t,a)}),r=combineAnds(n);return r?r:new basicQuery.Or(n)}function recursivelyAddOrs(e,t,a,n){t.orValues().forEach(function(t){if("function"==typeof t.orValues)recursivelyAddOrs(e,t,a,n);else{var r={};r[n]=a(t),e.push(r)}})}var basicQuery$1=function(e){var t=e.identity&&e.identity[0],a=e.keys,n=[[basicQuery.Or,function(e,t){return e.values.map(function(e){return t(e)})}],[basicQuery.KeysAnd,function(e,t){var a=[],n={};return canReflect_1_17_4_canReflect.eachKey(e.values,function(e,r){"function"==typeof e.orValues?recursivelyAddOrs(a,e,t,r):n[r]=t(e)}),a.length?1===a.length?a[0]:{$or:a.map(function(e){return canReflect_1_17_4_canReflect.assign(canReflect_1_17_4_canReflect.serialize(n),e)})}:n}],[basicQuery.RecordRange,function(e){return{start:e.start,end:e.end}}],[basicQuery,function(e,a){var n=set_1$1.isEqual(e.filter,set_1$1.UNIVERSAL)?{}:a(e.filter),r={};return 0!==canReflect_1_17_4_canReflect.size(n)&&(r.filter=n),set_1$1.isEqual(e.page,defaultQuery.page)||(r.page={start:e.page.start},e.page.end!==defaultQuery.page.end&&(r.page.end=e.page.end)),e.sort.key!==t&&(r.sort=e.sort.key),r}]],r=basicQuery.makeSort(a,hydrateAndValue),o=new serializer(n);return o.add(comparisons$1.serializer),{hydrate:function(e){var n=canReflect_1_17_4_canReflect.serialize(e.filter),o=hydrateFilter(n,a,helpers_1$1.valueHydrator),s={filter:o};return e.page&&(s.page=new basicQuery.RecordRange(e.page.start,e.page.end)),s.sort=e.sort?new r(e.sort):new r(t),new basicQuery(s)},serializer:o}},schemaSymbol$1=canSymbol_1_6_1_canSymbol.for("can.getSchema"),newSymbol$3=canSymbol_1_6_1_canSymbol.for("can.new");function QueryLogic(e,t){e=e||{};var a=t&&t.toQuery,n=t&&t.toParams,r;r=e[schemaSymbol$1]?e[schemaSymbol$1]():e;var o=r.identity&&r.identity[0];o||(r.identity=["id"]);var s=basicQuery$1(r),i,l;i=a?function(e){return s.hydrate(a(e))}:s.hydrate,l=n?function(e){return n(s.serializer.serialize(e))}:s.serializer.serialize,this.hydrate=i,this.serialize=l,this.schema=r}function makeNewSet(e){return function(t,a){var n=this.hydrate(t),r=this.hydrate(a),o=set_1$1[e](n,r);return this.serialize(o)}}function makeReturnValue(e){return function(t,a){var n=this.hydrate(t),r=this.hydrate(a);return set_1$1[e](n,r)}}for(var prop$2 in canReflect_1_17_4_canReflect.assignSymbols(QueryLogic.prototype,{"can.getSchema":function(){return this.schema}}),canReflect_1_17_4_canReflect.assign(QueryLogic.prototype,{union:makeNewSet("union"),difference:makeNewSet("difference"),intersection:makeNewSet("intersection"),isEqual:makeReturnValue("isEqual"),isProperSubset:makeReturnValue("isProperSubset"),isSubset:makeReturnValue("isSubset"),isSpecial:set_1$1.isSpecial,isDefinedAndHasMembers:set_1$1.isDefinedAndHasMembers,count:function(e){var t=this.hydrate(e);return t.page.end-t.page.start+1},identityKeys:function(){return this.schema.identity},filterMembers:function(e,t,a){var n=this.hydrate(e);if(3<=arguments.length){var r=this.hydrate(t);return n.filterFrom(a,r)}return n.filterFrom(t)},filterMembersAndGetCount:function(e,t,a){var n=this.hydrate(e),r=this.hydrate(t);return n.filterMembersAndGetCount(a,r)},unionMembers:function(e,t,a,n){var r=this.hydrate(e),o=this.hydrate(t),s=this.schema;return r.merge(o,a,n,function(e){return canReflect_1_17_4_canReflect.getIdentity(e,s)})},isMember:function(e,t){return this.hydrate(e).isMember(t)},memberIdentity:function(e){return canReflect_1_17_4_canReflect.getIdentity(e,this.schema)},index:function(e,t,a){return this.hydrate(e).index(a,t)},insert:function(e,t,a){var n=this.index(e,t,a);void 0===n&&(n=t.length);var r=t.slice(0);return r.splice(n,0,a),r},isPaginated:function(e){var t=this.hydrate(e);return!set_1$1.isEqual(t.page,set_1$1.UNIVERSAL)},removePagination:function(e){var t=this.hydrate(e);return t.removePagination(),this.serialize(t)}}),set_1$1)void 0===QueryLogic[prop$2]&&(QueryLogic[prop$2]=set_1$1[prop$2]);QueryLogic.makeEnum=function(e){var t=function(){};return t[newSymbol$3]=function(e){return e},makeEnum_1(t,e),t},QueryLogic.KeysAnd=basicQuery.KeysAnd,QueryLogic.ValuesOr=basicQuery.Or,QueryLogic.In=comparisons_1.In,QueryLogic.NotIn=comparisons_1.NotIn,QueryLogic.GreaterThan=comparisons_1.GreaterThan,QueryLogic.GreaterThanEqual=comparisons_1.GreaterThanEqual,QueryLogic.LessThan=comparisons_1.LessThan,QueryLogic.LessThanEqual=comparisons_1.LessThanEqual,QueryLogic.ValueAnd=comparisons_1.And,QueryLogic.ValueOr=comparisons_1.Or;var canQueryLogic_1_1_0_canQueryLogic=QueryLogic;function deepMatches(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.every(function(e,a){return deepMatches(e,t[a])});if(e&&t&&canReflect_1_17_4_canReflect.isPlainObject(e)&&canReflect_1_17_4_canReflect.isPlainObject(t)){for(var a in e){if(!t.hasOwnProperty(a))return!1;if(!deepMatches(e[a],t[a]))return!1}return!0}return!1}function removeFixtureAndXHR(e){if(e.fixture||e.xhr||e.data){var t=canReflect_1_17_4_canReflect.serialize(e);return delete t.fixture,delete t.xhr,delete t.data,t}return e}function identityIntersection$1(e,t){return e.value===t.value?e:set_1$1.EMPTY}function identityDifference$1(e,t){return e.value===t.value?set_1$1.EMPTY:e}function identityUnion$1(e,t){return e.value===t.value?e:set_1$1.UNDEFINABLE}var identityComparitor$1={intersection:identityIntersection$1,difference:identityDifference$1,union:identityUnion$1};function makeComparatorType(e){var t=function(){},a=function(e){this.value=e};return a.prototype.isMember=function(t,a,n){return e(this.value,t,a,n)},canReflect_1_17_4_canReflect.assignSymbols(t,{"can.SetType":a}),set_1$1.defineComparison(a,a,identityComparitor$1),set_1$1.defineComparison(set_1$1.UNIVERSAL,a,{difference:function(){return set_1$1.UNDEFINABLE}}),t}function quickEqual(e,t){var a=e.data,n=t.data;if(a&&n&&!deepMatches(a,n))return!1;var r=new canQueryLogic_1_1_0_canQueryLogic.KeysAnd(removeFixtureAndXHR(e)),o=new canQueryLogic_1_1_0_canQueryLogic.KeysAnd(removeFixtureAndXHR(t));return set_1$1.isEqual(r,o)}function quickSubset(e,t){return set_1$1.isSubset(new canQueryLogic_1_1_0_canQueryLogic.KeysAnd(e),new canQueryLogic_1_1_0_canQueryLogic.KeysAnd(t))}var types$1={};canReflect_1_17_4_canReflect.eachKey({IsEmptyOrNull:function(e,t){return!(null!=e||0!==canReflect_1_17_4_canReflect.size(t))||null==t&&0===canReflect_1_17_4_canReflect.size(e)||quickEqual(e,t)},isEmptyOrSubset:function(e,t){return!(null!=e||0!==canReflect_1_17_4_canReflect.size(t))||null==t&&0===canReflect_1_17_4_canReflect.size(e)||quickSubset(e,t)},TemplateUrl:function(e,t){return!!canFixture_3_0_0_dataFromUrl(e,t)},StringIgnoreCase:function(e,t){return t&&e?e.toLowerCase()===t.toLowerCase():t===e},Ignore:function(){return!0}},function(e,t){types$1[t]=makeComparatorType(e)});var schema$1={identity:["id"],keys:{url:types$1.TemplateUrl,fixture:types$1.Ignore,xhr:types$1.Ignore,type:types$1.StringIgnoreCase,method:types$1.StringIgnoreCase,helpers:types$1.Ignore,headers:types$1.IsEmptyOrNull,data:types$1.IsEmptyOrSubset}},query=new canQueryLogic_1_1_0_canQueryLogic(schema$1),canFixture_3_0_0_matches={fixture:quickEqual,request:function(e,t){return query.isMember({filter:t},e)},matches:function(e,t,a){return a?this.fixture(e,t):this.request(e,t)},makeComparatorType:makeComparatorType};function getItems(e){return Array.isArray(e)?e:e.data}function indexOf(e,t,a){for(var n=canReflect_1_17_4_canReflect.getSchema(a),r=0;r<e.length;r++)if(t===canReflect_1_17_4_canReflect.getIdentity(e[r],n))return r;return-1}function makeSimpleStore(e){e.constructor=makeSimpleStore;var t=Object.create(e);return canReflect_1_17_4_canReflect.assignMap(t,{getRecordFromParams:function(e){var t=canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema);return this.getRecord(t)},log:function(){this._log=!0},getSets:function(){return this.getQueries()},getQueries:function(){return Promise.resolve(this.getQueriesSync())},getQueriesSync:function(){return this.getQueryDataSync().map(function(e){return e.query})},getListData:function(e){e=e||{};var t=this.getListDataSync(e);return t?Promise.resolve(t):Promise.reject({title:"no data",status:"404",detail:"No data available for this query.\nAvailable queries: "+JSON.stringify(this.getQueriesSync())})},getPaginatedListDataSync:function(e){var t=this.getAllRecords(),a=this.queryLogic.removePagination(e.query),n=this.queryLogic.filterMembersAndGetCount(a,{},t),r=indexOf(n.data,e.startIdentity,this.queryLogic),o=n.data.slice(r,r+this.queryLogic.count(e.query));return{count:n.data.length,data:o}},getListDataSync:function(e){for(var t=this.getQueryDataSync(),a=this.queryLogic.isPaginated(e),n=0,r,o;n<t.length;n++)o=t[n].query,this.queryLogic.isSubset(e,o)&&(r=t[n]);var s=this.getAllRecords();if(a&&this.queryLogic.isPaginated(r.query)){var l=this.getPaginatedListDataSync(r);return this.queryLogic.filterMembersAndGetCount(e,r.query,l.data)}var d=this.queryLogic.filterMembersAndGetCount(e,{},s);return d&&d.count?d:r?{count:0,data:[]}:void 0},updateListData:function(e,t){var a=this.getQueryDataSync();t=t||{};var n=canReflect_1_17_4_canReflect.serialize(e),r=getItems(n);this.updateRecordsSync(r);var o=this.queryLogic.isPaginated(t),s=r.length?canReflect_1_17_4_canReflect.getIdentity(r[0],this.queryLogic.schema):void 0;if(o){for(var l=0;l<a.length;l++){var d=a[l].query,p=this.queryLogic.union(d,t);if(this.queryLogic.isDefinedAndHasMembers(p)){var c=this.getPaginatedListDataSync(a[l]),u=this.queryLogic.unionMembers(d,t,c.data,r);return s=canReflect_1_17_4_canReflect.getIdentity(u[0],this.queryLogic.schema),a[l]={query:p,startIdentity:s},this.updateQueryDataSync(a),Promise.resolve()}}return a.push({query:t,startIdentity:s}),this.updateQueryDataSync(a),Promise.resolve()}var y=this.getAllRecords(),h=this.queryLogic.filterMembers(t,y);if(h.length){var g=new Map;h.forEach(function(e){g.set(canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema),e)},this),r.forEach(function(e){g.delete(canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema))},this),this.destroyRecords(canReflect_1_17_4_canReflect.toArray(g.values()))}var f=this.getQueryDataSync(),m=f.filter(function(e){return!this.queryLogic.isSubset(e.query,t)},this),b=m.filter(function(e){return this.queryLogic.isSubset(t,e.query)},this);return b.length?this.updateQueryDataSync(m):this.updateQueryDataSync(m.concat([{query:t,startIdentity:s}])),Promise.resolve()},getData:function(e){var t=canReflect_1_17_4_canReflect.getIdentity(e,canReflect_1_17_4_canReflect.getSchema(this.queryLogic)),a=this.getRecord(t);return a?Promise.resolve(a):Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+t+")."})},createData:function(e){return this.updateRecordsSync([e]),Promise.resolve(canReflect_1_17_4_canReflect.assignMap({},this.getRecordFromParams(e)))},updateData:function(e){if(this.errorOnMissingRecord&&!this.getRecordFromParams(e)){var t=canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema);return Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+t+")."})}return this.updateRecordsSync([e]),Promise.resolve(canReflect_1_17_4_canReflect.assignMap({},this.getRecordFromParams(e)))},destroyData:function(e){var t=canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema),a=this.getRecordFromParams(e);return this.errorOnMissingRecord&&!a?Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+t+")."}):(this.destroyRecords([e]),Promise.resolve(canReflect_1_17_4_canReflect.assignMap({},a||e)))}})}var canMemoryStore_1_0_0_makeSimpleStore=makeSimpleStore,canMemoryStore_1_0_0_canMemoryStore=canNamespace_1_0_0_canNamespace.memoryStore=function e(t){t.constructor=e;var a=Object.create(canMemoryStore_1_0_0_makeSimpleStore(t));return canReflect_1_17_4_canReflect.assignMap(a,{clear:function(){this._instances={},this._queries=[]},_queryData:[],updateQueryDataSync:function(e){this._queryData=e},getQueryDataSync:function(){return this._queryData},_instances:{},getRecord:function(e){return this._instances[e]},getAllRecords:function(){var e=[];for(var t in this._instances)e.push(this._instances[t]);return e},destroyRecords:function(e){canReflect_1_17_4_canReflect.eachIndex(e,function(e){var t=canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema);delete this._instances[t]},this)},updateRecordsSync:function(e){e.forEach(function(e){var t=canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema);this._instances[t]=e},this)}}),a},connectToConnection=function(e,t){return function(a,n){this.connection[e](t.call(this,a.data)).then(function(e){n(e)},function(e){n(parseInt(e.status,10),e)})}},makeMakeItems=function(e,t){return function(){var a=[],n=0;return e.forEach(function(e){a.push(canReflect_1_17_4_canReflect.serialize(e)),n=Math.max(e[t],n)}),{maxId:n,items:a}}},stringToAny=function(e){switch(e){case"NaN":case"Infinity":return+e;case"null":return null;case"undefined":return;case"true":case"false":return"true"===e;default:var t=+e;return isNaN(t)?e:t;}},Store=function(e,t,a){var n=e.queryLogic.schema,r=n.identity[0],o=n.keys;for(var s in o&&o[r]||console.warn("No type specified for identity key. Going to convert strings to reasonable type."),this.connection=e,this.makeItems=t,this.idProp=a,this.reset(),Store.prototype)this[s]=this[s].bind(this)},doNotConvert=function(e){return e};function typeConvert(e){var t=this.connection.queryLogic.schema,a=t.identity[0],n=t.keys;n&&n[a]||(n={},n[a]=function(e){return"string"==typeof e?stringToAny(e):e});var r={};return canReflect_1_17_4_canReflect.eachKey(e,function(e,t){r[t]=n[t]?canReflect_1_17_4_canReflect.convert(e,n[t]):e}),r}canReflect_1_17_4_canReflect.assignMap(Store.prototype,{getListData:connectToConnection("getListData",doNotConvert),getData:connectToConnection("getData",typeConvert),createData:function(e,t){var a=this.idProp;e.data[a]=++this.maxId,this.connection.createData(typeConvert.call(this,e.data)).then(function(e){t(e)},function(e){t(403,e)})},createInstance:function(e){var t=this.idProp;return t in e||(e[t]=++this.maxId),this.connection.createData(e)},updateData:connectToConnection("updateData",typeConvert),updateInstance:function(e){return this.connection.updateData(e)},destroyInstance:function(e){return this.connection.destroyData(e)},destroyData:connectToConnection("destroyData",typeConvert),reset:function(e){e&&(this.makeItems=makeMakeItems(e,this.idProp));var t=this.makeItems();this.maxId=t.maxId,this.connection.updateListData(t.items,{})},get:function(e){var t=this.connection.queryLogic.memberIdentity(e);return this.connection.getRecord(t)},getList:function(e){return this.connection.getListDataSync(e)}});function looksLikeAQueryLogic(e){return e&&"identityKeys"in e}Store.make=function(e,t,a){var n,r;"number"==typeof e?(a?!looksLikeAQueryLogic(a)&&(a=new canQueryLogic_1_1_0_canQueryLogic(a)):a=new canQueryLogic_1_1_0_canQueryLogic({}),r=a.identityKeys()[0]||"id",n=function(){for(var a=[],n=0,o=0,s;o<e;o++)s=t(o,a),s[r]||(s[r]=o),n=Math.max(s[r],n),a.push(s);return{maxId:n,items:a}}):Array.isArray(e)&&(a=t,a?!looksLikeAQueryLogic(a)&&(a=new canQueryLogic_1_1_0_canQueryLogic(a)):a=new canQueryLogic_1_1_0_canQueryLogic({}),r=a.identityKeys()[0]||"id",n=makeMakeItems(e,r));var o=canMemoryStore_1_0_0_canMemoryStore({queryLogic:a,errorOnMissingRecord:!0});return new Store(o,n,r)};var canFixture_3_0_0_store=Store,canFixture_3_0_0_core=createCommonjsModule(function(e,t){function a(e){return e&&(e.getData||e.getListData)}function n(e){var t=e.match(/(GET|POST|PUT|DELETE|PATCH) (.+)/i);if(!t)return[void 0,e];var a=t[1],n=t[2];return[a,n]}function r(e){var t=/\{(.*)\}/,a=e.match(t),n=a&&2===a.length;if(n)return a[1]}function o(e,t){if(t=t||r(e),!t)return[void 0,e];var a=new RegExp("\\/\\{"+t+"\\}.*"),n=a.test(e),o=n?e.replace(a,""):e,s=n?e:e.trim()+"/{"+t+"}";return[s,o]}function s(e,t){var a={},r=n(e),s=r[0],i=r[1],l=o(i,t.idProp),d=l[0],c=l[1];if(s){var u=["fixture(\""+e+"\", fixture) must use a store method, not a store directly."];if(d){var y=p.item[s];if(y){a[s+" "+d]=t[y];u.push("Replace with fixture(\""+s+" "+d+"\", fixture."+y+") for items.")}}var h=p.list[s];if(h){a[s+" "+c]=t[h];u.push("Replace with fixture(\""+s+" "+c+"\", fixture."+h+") for lists.")}var g=u.join(" ");dev.warn(g)}else{var f=p.item;for(var m in f){var b=f[m];a[m+" "+d]=t[b]}var v=p.list;for(var _ in v){var k=v[_];a[_+" "+c]=t[k]}}return a}function i(e){var t=n(e),a=t[0],r=t[1];return a?{type:a,url:r}:{url:r}}function l(e,a,n){var r=t.index(a,!0);if(-1<r&&d.splice(r,1),null!=n){if("object"==typeof n){var o=n;n=function(){return o}}a.fixture=n,d.unshift(a)}}var d=[];t.fixtures=d;var p={item:{GET:"getData",PUT:"updateData",DELETE:"destroyData"},list:{GET:"getListData",POST:"createData"}};t.add=function(e,n){return void 0===n?void canReflect_1_17_4_canReflect.eachKey(e,function(e,a){t.add(a,e)}):a(n)?(e=s(e,n),void t.add(e)):void("string"==typeof e&&(e=i(e)),l(d,e,n))};var c=t.add;c.on=!0,c.delay=10,t.callDynamicFixture=function(e,a,n){e.data=a.data;var r=function(){var a=t.extractResponse.apply(e,arguments);return n.apply(this,a)},o=function(){var t=a.fixture(e,r,e.headers,a);t!==void 0&&r(200,t)};return e.async?setTimeout(o,c.delay):(o(),null)},t.index=function(e,t){for(var a=0;a<d.length;a++)if(canFixture_3_0_0_matches.matches(e,d[a],t))return a;return-1},t.get=function(e){if(c.on){var a=t.index(e,!0);-1===a&&(a=t.index(e,!1));var n=0<=a?canReflect_1_17_4_canReflect.assignMap({},d[a]):void 0;if(n){var r=n.fixture,o=canFixture_3_0_0_dataFromUrl(n.url,e.url);if("string"==typeof n.fixture)o&&(r=sub(r,o)),n.url=r,n.data=null,n.type="GET",n.error||(n.error=function(e,t,a){throw"fixtures.js Error "+t+" "+a});else if(canReflect_1_17_4_canReflect.isPlainObject(e.data)||null==e.data){var s=canReflect_1_17_4_canReflect.assignMap({},e.data||{});n.data=canReflect_1_17_4_canReflect.assignMap(s,o)}else n.data=e.data}return n}},t.matches=canFixture_3_0_0_matches,t.extractResponse=function(e,t,a,n){return"number"!=typeof e&&(a=t,t=e,e=200),"string"==typeof a&&(n=a,a={}),[e,t,a,n]}}),canFixture_3_0_0_core_1=canFixture_3_0_0_core.fixtures,canFixture_3_0_0_core_2=canFixture_3_0_0_core.add,canFixture_3_0_0_core_3=canFixture_3_0_0_core.callDynamicFixture,canFixture_3_0_0_core_4=canFixture_3_0_0_core.index,canFixture_3_0_0_core_5=canFixture_3_0_0_core.get,canFixture_3_0_0_core_6=canFixture_3_0_0_core.matches,canFixture_3_0_0_core_7=canFixture_3_0_0_core.extractResponse,XHR=XMLHttpRequest,GLOBAL="undefined"==typeof commonjsGlobal?window:commonjsGlobal,props$2=["type","url","async","response","responseText","responseType","responseXML","responseURL","status","statusText","readyState"],events=["abort","error","load","loadend","loadstart","progress","readystatechange"];(function(){var e=new XHR;for(var t in e)0===t.indexOf("on")?-1===events.indexOf(t.substr(2))&&events.push(t.substr(2)):-1===props$2.indexOf(t)&&"function"!=typeof e[t]&&props$2.push(t)})();function callEvents(e,t){for(var a=e.__events[t]||[],n=0,r=a.length,o;n<r;n++)o=a[n],o.call(e)}GLOBAL.XMLHttpRequest=function(){var e=this,t=new XHR;this._xhr=t,this._requestHeaders={},this.__events={},events.forEach(function(a){t["on"+a]=function(){if(callEvents(e,a),e["on"+a])return e["on"+a].apply(e,arguments)}}),this.onload=null},GLOBAL.XMLHttpRequest._XHR=XHR,canReflect_1_17_4_canReflect.assignMap(XMLHttpRequest.prototype,{setRequestHeader:function(e,t){this._requestHeaders[e]=t},open:function(e,t,a){this.type=e,this.url=t,this.async=!1!==a},getAllResponseHeaders:function(){return this._xhr.getAllResponseHeaders.apply(this._xhr,arguments)},addEventListener:function(e,t){var a=this.__events[e]=this.__events[e]||[];a.push(t)},removeEventListener:function(e,t){var a=this.__events[e]=this.__events[e]||[],n=a.indexOf(t);0<=n&&a.splice(n,1)},setDisableHeaderCheck:function(e){this._disableHeaderCheck=!!e},getResponseHeader:function(e){return this._xhr.getResponseHeader(e)},abort:function(){var e=this._xhr;return void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),e.open(this.type,this.url,!1!==this.async),e.send()),e.abort()},send:function(e){var t=this.type.toLowerCase()||"get",a={url:this.url,data:e,headers:this._requestHeaders,type:t,method:t,async:this.async,xhr:this};if((a.data||"get"!==a.type)&&"delete"!==a.type||(a.data=canDeparam_1_2_0_canDeparam(a.url.split("?")[1]),a.url=a.url.split("?")[0]),"string"==typeof a.data)try{a.data=JSON.parse(a.data)}catch(t){a.data=canDeparam_1_2_0_canDeparam(a.data)}var n=canFixture_3_0_0_core.get(a),r=this;if(n&&"function"==typeof n.fixture)return void(this.timeoutId=canFixture_3_0_0_core.callDynamicFixture(a,n,function(e,t,a,n){t="string"==typeof t?t:JSON.stringify(t),r._xhr={open:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},canReflect_1_17_4_canReflect.assignMap(r,{readyState:4,status:e});200<=e&&300>e||304===e?canReflect_1_17_4_canReflect.assignMap(r,{statusText:n||"OK",responseText:t}):canReflect_1_17_4_canReflect.assignMap(r,{statusText:n||"error",responseText:t}),r.getAllResponseHeaders=function(){var e=[];return canReflect_1_17_4_canReflect.eachKey(a||{},function(t,a){Array.prototype.push.apply(e,[a,": ",t,"\r\n"])}),e.join("")},r.onreadystatechange&&r.onreadystatechange({target:r}),callEvents(r,"progress"),r.onprogress&&r.onprogress(),callEvents(r,"load"),r.onload&&r.onload(),callEvents(r,"loadend"),r.onloadend&&r.onloadend()}));var o=function(){return r._xhr.open(r._xhr.type,r._xhr.url,r._xhr.async),r._requestHeaders&&Object.keys(r._requestHeaders).forEach(function(e){r._xhr.setRequestHeader(e,r._requestHeaders[e])}),r._xhr.send(e)};return n&&"number"==typeof n.fixture?(canLog_1_0_0_canLog.log("can-fixture: "+a.url+" => delay "+n.fixture+"ms"),void(this.timeoutId=setTimeout(o,n.fixture))):(n&&(canLog_1_0_0_canLog.log("can-fixture: "+a.url+" => "+n.url),canReflect_1_17_4_canReflect.assignMap(r,n)),o())}}),props$2.forEach(function(e){Object.defineProperty(XMLHttpRequest.prototype,e,{get:function(){return this._xhr[e]},set:function(t){try{this._xhr[e]=t}catch(t){}}})});var fixture=canFixture_3_0_0_core.add,noop$2=function(){};canReflect_1_17_4_canReflect.assignMap(fixture,{rand:function e(t,a,n){var r=Math.floor;if("number"==typeof t)return"number"==typeof a?t+r(Math.random()*(a-t+1)):r(Math.random()*(t+1));var o=t.slice(0);a===void 0?(a=1,n=o.length):n===void 0&&(n=a);for(var s=[],l=a+Math.round(e(n-a)),d=0;d<l;d++){var p=e(o.length-1),c=o.splice(p,1)[0];s.push(c)}return s},xhr:function(e){return canReflect_1_17_4_canReflect.assignMap({},{abort:noop$2,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:noop$2,overrideMimeType:noop$2,readyState:4,responseText:"",responseXML:null,send:noop$2,setRequestHeader:noop$2,status:200,statusText:"OK"},e)},store:canFixture_3_0_0_store.make,fixtures:canFixture_3_0_0_core.fixtures}),"undefined"!=typeof window&&"function"!=typeof commonjsRequire.resolve&&(window.fixture=fixture);var canFixture_3_0_0_fixture=canNamespace_1_0_0_canNamespace.fixture=fixture,behaviorsMap={};function behavior(e,t){"string"!=typeof e&&(t=e,e=void 0);var a=function(a){var n=function(){};Object.defineProperty(n,"name",{value:e,configurable:!0}),n.prototype=a;var r=new n,o="function"==typeof t?t.apply(r,arguments):t;for(var s in o)o.hasOwnProperty(s)?Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(o,s)):r[s]=o[s];return r.__behaviorName=e,r};return e&&(a.behaviorName=e,behaviorsMap[e]=a),a.isBehavior=!0,a}behavior.map=behaviorsMap;var canConnect_3_0_2_behavior=behavior,behavior$1=canConnect_3_0_2_behavior,connect=function(e,t){e=e.map(function(e,t){var a=-1;return"string"==typeof e?(a=connect.order.indexOf(e),e=e.map[e]):e.isBehavior?a=connect.order.indexOf(e.behaviorName):e=connect.behavior(e),{originalIndex:t,sortedIndex:a,behavior:e}}),e.sort(function(e,t){return~e.sortedIndex&&~t.sortedIndex?e.sortedIndex-t.sortedIndex:e.originalIndex-t.originalIndex}),e=e.map(function(e){return e.behavior});var a=connect.base(connect.behavior("options",function(){return t})());return e.forEach(function(e){a=e(a)}),a.init&&a.init(),a};connect.order=["data/localstorage-cache","data/url","data/parse","cache-requests","data/combine-requests","constructor","constructor/store","can/map","can/ref","fall-through-cache","data/worker","real-time","data/callbacks-cache","data/callbacks","constructor/callbacks-once"],connect.behavior=behavior$1;var canConnect_3_0_2_connect=connect,base=canConnect_3_0_2_behavior("base",function(e){var t;return{id:function(e){if(this.queryLogic)return canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema);if(this.idProp)return e[this.idProp];throw new Error("can-connect/base/base - Please add a queryLogic option.")},listQuery:function(e){return e[this.listQueryProp]},listQueryProp:canSymbol_1_6_1_canSymbol.for("can.listQuery"),init:function(){},get queryLogic(){if(t)return t;return e.queryLogic?e.queryLogic:e.algebra?e.algebra:void 0},set queryLogic(e){t=e}}});canConnect_3_0_2_connect.base=base;var canConnect_3_0_2_canConnect=canNamespace_1_0_0_canNamespace.connect=canConnect_3_0_2_connect,assign$2=canReflect_1_17_4_canReflect.assignMap,WeakReferenceMap=function(){this.set={}};assign$2(WeakReferenceMap.prototype,{has:function(e){return!!this.set[e]},addReference:function(e,t,a){if("undefined"==typeof e)throw new Error("can-connect: You must provide a key to store a value in a WeakReferenceMap");var n=this.set[e];n||(n=this.set[e]={item:t,referenceCount:0,key:e}),n.referenceCount+=a||1},referenceCount:function(e){var t=this.set[e];if(t)return t.referenceCount},deleteReference:function(e){var t=this.set[e];t&&(t.referenceCount--,0===t.referenceCount&&delete this.set[e])},get:function(e){var t=this.set[e];if(t)return t.item},forEach:function(e){for(var t in this.set)e(this.set[t].item,t)}});var weakReferenceMap=WeakReferenceMap,updateDeepExceptIdentity=function(e,t,a){if(a||(a=canReflect_1_17_4_canReflect.getSchema(e)),!a)throw new Error("can-diff/update-except-id is unable to update without a schema.");a.identity.forEach(function(a){var n=canReflect_1_17_4_canReflect.getKeyValue(e,a);void 0!==n&&canReflect_1_17_4_canReflect.setKeyValue(t,a,n)}),canReflect_1_17_4_canReflect.updateDeep(e,t)},idMerge=function(e,t,n,a){var r=list(e,t,function(e,t){return n(e)===n(t)});r.forEach(function(t){canReflect_1_17_4_canReflect.splice(e,t.index,t.deleteCount,t.insert.map(a))})},makeArray=canReflect_1_17_4_canReflect.toArray,assign$3=canReflect_1_17_4_canReflect.assignMap,constructor_1=canConnect_3_0_2_behavior("constructor",function(){var e={cidStore:new weakReferenceMap,_cid:0,get:function(e){var t=this;return this.getData(e).then(function(e){return t.hydrateInstance(e)})},getList:function(e){e=e||{};var t=this;return this.getListData(e).then(function(a){return t.hydrateList(a,e)})},hydrateList:function(e,t){Array.isArray(e)&&(e={data:e});for(var a=[],n=0;n<e.data.length;n++)a.push(this.hydrateInstance(e.data[n]));if(e.data=a,this.list)return this.list(e,t);var r=e.data.slice(0);return r[this.listQueryProp||"__listQuery"]=t,copyMetadata(e,r),r},hydrateInstance:function(e){return this.instance?this.instance(e):assign$3({},e)},save:function(e){var t=this.serializeInstance(e),a=this.id(e),n=this;if(void 0===a){var r=this._cid++;return this.cidStore.addReference(r,e),this.createData(t,r).then(function(t){return void 0!==t&&n.createdInstance(e,t),n.cidStore.deleteReference(r,e),e})}return this.updateData(t).then(function(t){return void 0!==t&&n.updatedInstance(e,t),e})},destroy:function(e){var t=this.serializeInstance(e),a=this;return this.destroyData(t).then(function(t){return void 0!==t&&a.destroyedInstance(e,t),e})},createdInstance:function(e,t){assign$3(e,t)},updatedInstance:function(e,t){updateDeepExceptIdentity(e,t,this.queryLogic.schema)},updatedList:function(e,t){for(var a=[],n=0;n<t.data.length;n++)a.push(this.hydrateInstance(t.data[n]));idMerge(e,a,this.id.bind(this),this.hydrateInstance.bind(this)),copyMetadata(t,e)},destroyedInstance:function(e,t){updateDeepExceptIdentity(e,t,this.queryLogic.schema)},serializeInstance:function(e){return assign$3({},e)},serializeList:function(e){var t=this;return makeArray(e).map(function(e){return t.serializeInstance(e)})},isNew:function(e){var t=this.id(e);return!(t||0===t)}};return e});function copyMetadata(e,t){for(var a in e)"data"!=a&&("function"==typeof t.set?t.set(a,e[a]):"function"==typeof t.attr?t.attr(a,e[a]):t[a]=e[a])}var assignDeepExceptIdentity=function(e,t,a){if(a||(a=canReflect_1_17_4_canReflect.getSchema(e)),!a)throw new Error("can-diff/update-except-id is unable to update without a schema.");a.identity.forEach(function(a){var n=canReflect_1_17_4_canReflect.getKeyValue(e,a);void 0!==n&&canReflect_1_17_4_canReflect.setKeyValue(t,a,n)}),canReflect_1_17_4_canReflect.assignDeep(e,t)};function smartMerge(e,t){return t=canReflect_1_17_4_canReflect.serialize(t),canReflect_1_17_4_canReflect.isMoreListLikeThanMapLike(e)?mergeList(e,t):mergeMap(e,t),e}function mergeMap(e,t){canReflect_1_17_4_canReflect.eachKey(e,function(a,n){if(!canReflect_1_17_4_canReflect.hasKey(t,n))return void canReflect_1_17_4_canReflect.deleteKeyValue(e,n);var r=canReflect_1_17_4_canReflect.getKeyValue(t,n);if(canReflect_1_17_4_canReflect.deleteKeyValue(t,n),canReflect_1_17_4_canReflect.isPrimitive(a))return void canReflect_1_17_4_canReflect.setKeyValue(e,n,r);var o=Array.isArray(r),s=canReflect_1_17_4_canReflect.isMoreListLikeThanMapLike(a);if(s&&o)mergeList(a,r);else if(!o&&!s&&canReflect_1_17_4_canReflect.isMapLike(a)&&canReflect_1_17_4_canReflect.isPlainObject(r)){var i=canReflect_1_17_4_canReflect.getSchema(a);if(i&&i.identity&&i.identity.length){var l=canReflect_1_17_4_canReflect.getIdentity(a,i);if(null!=l&&l===canReflect_1_17_4_canReflect.getIdentity(r,i))return void mergeMap(a,r)}canReflect_1_17_4_canReflect.setKeyValue(e,n,canReflect_1_17_4_canReflect.new(a.constructor,r))}else canReflect_1_17_4_canReflect.setKeyValue(e,n,r)}),canReflect_1_17_4_canReflect.eachKey(t,function(t,a){canReflect_1_17_4_canReflect.setKeyValue(e,a,t)})}function mergeList(e,t){var a=canReflect_1_17_4_canReflect.getSchema(e),n,r;a&&(n=a.values),n&&(r=canReflect_1_17_4_canReflect.getSchema(n)),!r&&0<canReflect_1_17_4_canReflect.size(e)&&(r=canReflect_1_17_4_canReflect.getSchema(canReflect_1_17_4_canReflect.getKeyValue(e,0)));var o=r&&r.identity&&r.identity.length?function(e,t){var a=canReflect_1_17_4_canReflect.getIdentity(e,r),n=canReflect_1_17_4_canReflect.getIdentity(t,r),o=a===n;return o&&mergeMap(e,t),o}:function(e,t){var a=e===t;return a&&mergeMap(e,t),a};var s=list(e,t,o),i=n?canReflect_1_17_4_canReflect.new.bind(canReflect_1_17_4_canReflect,n):function(e){return e};return s.length?void s.forEach(function(t){applyPatch(e,t,i)}):e}function applyPatch(e,t,a){var n=a&&t.insert.map(function(e){return a(e)})||t.insert,r=[t.index,t.deleteCount].concat(n);return e.splice.apply(e,r),e}smartMerge.applyPatch=applyPatch;var mergeDeep=smartMerge,each$1=canReflect_1_17_4_canReflect.each,isPlainObject$1=canReflect_1_17_4_canReflect.isPlainObject,getNameSymbol$1=canSymbol_1_6_1_canSymbol.for("can.getName");function smartMergeExceptIdentity(e,t,a){if(a||(a=canReflect_1_17_4_canReflect.getSchema(e)),!a)throw new Error("can-connect/can/map/ is unable to update without a schema.");a.identity.forEach(function(a){var n=canReflect_1_17_4_canReflect.getKeyValue(e,a);void 0!==n&&canReflect_1_17_4_canReflect.setKeyValue(t,a,n)}),mergeDeep(e,t)}var canMapBehavior=canConnect_3_0_2_behavior("can/map",function(e){var t={init:function(){if(!this.Map)throw new Error("can-connect/can/map/map must be configured with a Map type");if(this[getNameSymbol$1]||(this[getNameSymbol$1]=function(){return this.name?"Connection{"+this.name+"}":this.Map?"Connection{"+canReflect_1_17_4_canReflect.getName(this.Map)+"}":"string"==typeof this.url?"Connection{"+this.url+"}":"Connection{}"}),this.List=this.List||this.Map.List,!this.List)throw new Error("can-connect/can/map/map - "+canReflect_1_17_4_canReflect.getName(this)+" must be configured with a List type.");overwrite(this,this.Map,mapOverwrites),overwrite(this,this.List,listOverwrites),this.queryLogic||(this.queryLogic=new canQueryLogic_1_1_0_canQueryLogic(this.Map));var t=this;if(this.Map[canSymbol_1_6_1_canSymbol.for("can.onInstanceBoundChange")]){var a=function(e,a){var n=a?"addInstanceReference":"deleteInstanceReference";t[n]&&t[n](e)};this.Map[canSymbol_1_6_1_canSymbol.for("can.onInstanceBoundChange")](a)}else console.warn("can-connect/can/map is unable to listen to onInstanceBoundChange on the Map type");if(this.List[canSymbol_1_6_1_canSymbol.for("can.onInstanceBoundChange")]){var n=function(e,a){var n=a?"addListReference":"deleteListReference";t[n]&&t[n](e)};this.List[canSymbol_1_6_1_canSymbol.for("can.onInstanceBoundChange")](n)}else console.warn("can-connect/can/map is unable to listen to onInstanceBoundChange on the List type");this.Map[canSymbol_1_6_1_canSymbol.for("can.onInstancePatches")]?this.Map[canSymbol_1_6_1_canSymbol.for("can.onInstancePatches")](function(e,a){a.forEach(function(a){("add"===a.type||"set"===a.type)&&a.key===t.idProp&&e[canSymbol_1_6_1_canSymbol.for("can.isBound")]()&&t.addInstanceReference(e)})}):console.warn("can-connect/can/map is unable to listen to onInstancePatches on the Map type"),e.init.apply(this,arguments)},serializeInstance:function(e){return canReflect_1_17_4_canReflect.serialize(e)},serializeList:function(e){return canReflect_1_17_4_canReflect.serialize(e)},instance:function(e){var t=this.Map;return new t(e)},list:function(e,t){var a=this.List||this.Map&&this.Map.List,n=new a(e.data);return canReflect_1_17_4_canReflect.eachKey(e,function(e,t){"data"!==t&&canReflect_1_17_4_canReflect.setKeyValue(n,t,e)}),n[this.listQueryProp]=t,n},updatedList:function(){canQueues_1_1_3_canQueues.batch.start();canQueues_1_1_3_canQueues.mutateQueue.enqueue(e.updatedList,this,arguments,{}),canQueues_1_1_3_canQueues.batch.stop()},save:function(t){canReflect_1_17_4_canReflect.setKeyValue(t,"_saving",!0);var a=function(){canReflect_1_17_4_canReflect.setKeyValue(t,"_saving",!1)},n=e.save.apply(this,arguments);return n.then(a,a),n},destroy:function(t){canReflect_1_17_4_canReflect.setKeyValue(t,"_destroying",!0);var a=function(){canReflect_1_17_4_canReflect.setKeyValue(t,"_destroying",!1)},n=e.destroy.apply(this,arguments);return n.then(a,a),n}};return each$1(["created","updated","destroyed"],function(e){t[e+"Instance"]=function(t,a){a&&"object"==typeof a&&("destroyed"===e&&0===canReflect_1_17_4_canReflect.size(a)||(this.constructor.removeAttr?updateDeepExceptIdentity(t,a,this.queryLogic.schema):this.updateInstanceWithAssignDeep?assignDeepExceptIdentity(t,a,this.queryLogic.schema):smartMergeExceptIdentity(t,a,this.queryLogic.schema))),"created"===e&&this.moveCreatedInstanceToInstanceStore&&this.moveCreatedInstanceToInstanceStore(t),canMapBehavior.callbackInstanceEvents(e,t)}}),t});canMapBehavior.callbackInstanceEvents=function(e,t){var a=t.constructor;canQueues_1_1_3_canQueues.batch.start(),map$1.dispatch.call(t,{type:e,target:t}),map$1.dispatch.call(a,e,[t]),canQueues_1_1_3_canQueues.batch.stop()};var mapOverwrites={static:{getList:function(e,t){return function(e){return t.getList(e)}},findAll:function(e,t){return function(e){return t.getList(e)}},get:function(e,t){return function(e){return t.get(e)}},findOne:function(e,t){return function(e){return t.get(e)}}},prototype:{isNew:function(e,t){return function(){return t.isNew(this)}},isSaving:function(){return function(){return!!canReflect_1_17_4_canReflect.getKeyValue(this,"_saving")}},isDestroying:function(){return function(){return!!canReflect_1_17_4_canReflect.getKeyValue(this,"_destroying")}},save:function(e,t){return function(e,a){var n=t.save(this);return n.then(e,a),n}},destroy:function(e,t){return function(e,a){var n;return this.isNew()?(n=Promise.resolve(this),t.destroyedInstance(this,{})):n=t.destroy(this),n.then(e,a),n}}},properties:{_saving:{enumerable:!1,value:!1,configurable:!0,writable:!0},_destroying:{enumerable:!1,value:!1,configurable:!0,writable:!0}}},listOverwrites={static:{_bubbleRule:function(e){return function(t,a){var n=e(t,a);return n.push("destroyed"),n}}},prototype:{setup:function(e,t){return function(a){isPlainObject$1(a)&&!Array.isArray(a)?(this[t.listQueryProp]=a,e.apply(this),this.replace(canReflect_1_17_4_canReflect.isPromise(a)?a:t.getList(a))):e.apply(this,arguments)}}},properties:{}},overwrite=function(e,t,a){for(var n in a.properties)canReflect_1_17_4_canReflect.defineInstanceKey(t,n,a.properties[n]);for(n in a.prototype)t.prototype[n]=a.prototype[n](t.prototype[n],e);if(a.static)for(n in a.static)t[n]=a.static[n](t[n],e)},map$5=canMapBehavior,assign$4=canReflect_1_17_4_canReflect.assignMap,WeakReferenceSet=function(){this.set=[]};assign$4(WeakReferenceSet.prototype,{has:function(e){return-1!==this._getIndex(e)},addReference:function(e,t){var a=this._getIndex(e),n=this.set[a];n||(n={item:e,referenceCount:0},this.set.push(n)),n.referenceCount+=t||1},deleteReference:function(e){var t=this._getIndex(e),a=this.set[t];a&&(a.referenceCount--,0===a.referenceCount&&this.set.splice(t,1))},delete:function(e){var t=this._getIndex(e);-1!==t&&this.set.splice(t,1)},get:function(e){var t=this.set[this._getIndex(e)];if(t)return t.item},referenceCount:function(e){var t=this.set[this._getIndex(e)];if(t)return t.referenceCount},_getIndex:function(e){var t;return this.set.every(function(a,n){if(a.item===e)return t=n,!1}),void 0===t?-1:t},forEach:function(e){return this.set.forEach(e)}});var weakReferenceSet=WeakReferenceSet,sortedSetJson=function(e){return null==e?e:JSON.stringify(canReflect_1_17_4_canReflect.cloneKeySort(e))},store=createCommonjsModule(function(e){var t=0,a=null,n={increment:function(){t++,clearTimeout(a)},decrement:function(){t--,0==t&&(a=setTimeout(function(){n.dispatch("end")},e.exports.requestCleanupDelay)),0>t&&(t=0)},count:function(){return t}};map$1(n);var r=canConnect_3_0_2_canConnect.behavior("constructor/store",function(e){var t={instanceStore:new weakReferenceMap,newInstanceStore:new weakReferenceSet,listStore:new weakReferenceMap,init:function(){e.init&&e.init.apply(this,arguments),this.hasOwnProperty("_requestInstances")||(this._requestInstances={}),this.hasOwnProperty("_requestLists")||(this._requestLists={}),n.on("end",function(){for(var e in this._requestInstances)this.instanceStore.deleteReference(e);for(e in this._requestInstances={},this._requestLists)this.listStore.deleteReference(e),this._requestLists[e].forEach(this.deleteInstanceReference.bind(this));this._requestLists={}}.bind(this))},_finishedRequest:function(){n.decrement(this)},addInstanceReference:function(e,t){var a=t||this.id(e);a===void 0?this.newInstanceStore.addReference(e):this.instanceStore.addReference(a,e)},createdInstance:function(t){e.createdInstance.apply(this,arguments),this.moveCreatedInstanceToInstanceStore(t)},moveCreatedInstanceToInstanceStore:function(e){var t=this.id(e);if(this.newInstanceStore.has(e)&&t!==void 0){var a=this.newInstanceStore.referenceCount(e);this.newInstanceStore.delete(e),this.instanceStore.addReference(t,e,a)}},addInstanceMetaData:function(e,t,a){var n=this.instanceStore.set[this.id(e)];n&&(n[t]=a)},getInstanceMetaData:function(e,t){var a=this.instanceStore.set[this.id(e)];if(a)return a[t]},deleteInstanceMetaData:function(e,t){var a=this.instanceStore.set[this.id(e)];delete a[t]},deleteInstanceReference:function(e){var t=this.id(e);t===void 0?this.newInstanceStore.deleteReference(e):this.instanceStore.deleteReference(this.id(e),e)},addListReference:function(e,t){var a=sortedSetJson(t||this.listQuery(e));a&&(this.listStore.addReference(a,e),e.forEach(function(e){this.addInstanceReference(e)}.bind(this)))},deleteListReference:function(e,t){var a=sortedSetJson(t||this.listQuery(e));a&&(this.listStore.deleteReference(a,e),e.forEach(this.deleteInstanceReference.bind(this)))},hydratedInstance:function(e){if(0<n.count()){var t=this.id(e);this._requestInstances[t]||(this.addInstanceReference(e),this._requestInstances[t]=e)}},hydrateInstance:function(t){var a=this.id(t);if((a||0===a)&&this.instanceStore.has(a)){var n=this.instanceStore.get(a);return this.updatedInstance(n,t),n}var r=e.hydrateInstance.call(this,t);return this.hydratedInstance(r),r},hydratedList:function(e,t){if(0<n.count()){var a=sortedSetJson(t||this.listQuery(e));a&&!this._requestLists[a]&&(this.addListReference(e,t),this._requestLists[a]=e)}},hydrateList:function(t,a){a=a||this.listQuery(t);var n=sortedSetJson(a);if(n&&this.listStore.has(n)){var r=this.listStore.get(n);return this.updatedList(r,t,a),r}var o=e.hydrateList.call(this,t,a);return this.hydratedList(o,a),o},getList:function(t){var a=this;n.increment(this);var r=e.getList.call(this,t);return r.then(function(){a._finishedRequest()},function(){a._finishedRequest()}),r},get:function(t){var a=this;n.increment(this);var r=e.get.call(this,t);return r.then(function(){a._finishedRequest()},function(){a._finishedRequest()}),r},save:function(t){var a=this;n.increment(this);var r=!this.isNew(t);r&&this.addInstanceReference(t);var o=e.save.call(this,t);return o.then(function(){r&&a.deleteInstanceReference(t),a._finishedRequest()},function(){a._finishedRequest()}),o},destroy:function(t){var a=this;this.addInstanceReference(t),n.increment(this);var r=e.destroy.call(this,t);return r.then(function(e){a._finishedRequest(),a.deleteInstanceReference(e)},function(){a._finishedRequest()}),r},updatedList:function(t,a,n){var r=t.slice(0);a.data||"number"!=typeof a.length||(a={data:a}),e.updatedList?(e.updatedList.call(this,t,a,n),t.forEach(function(e){this.addInstanceReference(e)}.bind(this))):a.data&&a.data.forEach(function(e){this.addInstanceReference(e)}.bind(this)),r.forEach(this.deleteInstanceReference.bind(this))}};return t});r.requests=n,r.requestCleanupDelay=10,e.exports=r}),each$2=canReflect_1_17_4_canReflect.each,pairs={getListData:"gotListData",createData:"createdData",updateData:"updatedData",destroyData:"destroyedData"},dataCallbackBehavior=canConnect_3_0_2_canConnect.behavior("data/callbacks",function(e){var t={};return each$2(pairs,function(a,n){t[n]=function(t,r){var o=this;return e[n].call(this,t).then(function(e){return o[a]?o[a].call(o,e,t,r):e})}}),t}),callbacks=dataCallbackBehavior,each$3=canReflect_1_17_4_canReflect.each,parse$1=canConnect_3_0_2_behavior("data/parse",function(e){var t={parseListData:function(t){e.parseListData&&(t=e.parseListData.apply(this,arguments));var a;if(Array.isArray(t))a={data:t};else{var n=this.parseListProp||"data";if(t.data=get_1(t,n),a=t,"data"!==n&&delete t[n],!Array.isArray(a.data))throw new Error("Could not get any raw data while converting using .parseListData")}for(var r=[],o=0;o<a.data.length;o++)r.push(this.parseInstanceData(a.data[o]));return a.data=r,a},parseInstanceData:function(t){return e.parseInstanceData&&(t=e.parseInstanceData.apply(this,arguments)||t),this.parseInstanceProp?get_1(t,this.parseInstanceProp)||t:t}};return each$3(pairs$1,function(a,n){t[n]=function(t){var r=this;return e[n].call(this,t).then(function(){return r[a].apply(r,arguments)})}}),t}),pairs$1={getListData:"parseListData",getData:"parseInstanceData",createData:"parseInstanceData",updateData:"parseInstanceData",destroyData:"parseInstanceData"},xhrs=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")}],_xhrf=null,originUrl=canParseUri_1_2_0_canParseUri(global_1().location.href),globalSettings={},makeXhr=function(){if(null!=_xhrf)return _xhrf();for(var e=0,t=xhrs.length;e<t;e++)try{var a=xhrs[e],n=a();if(null!=n)return _xhrf=a,n}catch(t){continue}return function(){}},contentTypes={json:"application/json",form:"application/x-www-form-urlencoded"},_xhrResp=function(e,t){var a=t.dataType||e.getResponseHeader("Content-Type").split(";")[0];return a&&(e.responseText||e.responseXML)?"text/xml"===a||"xml"===a?e.responseXML:"text/json"===a||"application/json"===a||"text/javascript"===a||"application/javascript"===a||"application/x-javascript"===a||"json"===a?e.responseText&&JSON.parse(e.responseText):e.responseText:e};function ajax(t){var e=makeXhr(),a=0,r={},s=new Promise(function(e,t){r.resolve=e,r.reject=t}),i,l,d;if(s.abort=function(){e.abort()},t=[{userAgent:"XMLHttpRequest",lang:"en",type:"GET",data:null,dataType:"json"},globalSettings,t].reduce(function(e,t){return canReflect_1_17_4_canReflect.assignDeep(e,t)}),t.contentType||(t.contentType="GET"===t.type.toUpperCase()?contentTypes.form:contentTypes.json),null==t.crossDomain)try{d=canParseUri_1_2_0_canParseUri(t.url),t.crossDomain=!!(d.protocol&&d.protocol!==originUrl.protocol||d.host&&d.host!==originUrl.host)}catch(a){t.crossDomain=!0}t.timeout&&(i=setTimeout(function(){e.abort(),t.timeoutFn&&t.timeoutFn(t.url)},t.timeout)),e.onreadystatechange=function(){try{4===e.readyState?(i&&clearTimeout(i),300>e.status?t.success&&t.success(_xhrResp(e,t)):t.error&&t.error(e,e.status,e.statusText),t.complete&&t.complete(e,e.statusText),200<=e.status&&300>e.status?r.resolve(_xhrResp(e,t)):r.reject(_xhrResp(e,t))):t.progress&&t.progress(++a)}catch(t){r.reject(t)}};var p=t.url,c=null,u=t.type.toUpperCase(),y=t.contentType===contentTypes.json,h="POST"===u||"PUT"===u;!h&&t.data&&(p+="?"+(y?JSON.stringify(t.data):canParam_1_1_0_canParam(t.data))),e.open(u,p);var g=t.crossDomain&&-1!==["GET","POST","HEAD"].indexOf(u);if(l="undefined"!=typeof FormData&&t.data instanceof FormData,h){c=l?t.data:y&&!g?"object"==typeof t.data?JSON.stringify(t.data):t.data:canParam_1_1_0_canParam(t.data);var m=y&&!g?"application/json":"application/x-www-form-urlencoded";e.setRequestHeader("Content-Type",m)}else e.setRequestHeader("Content-Type",t.contentType);if(g||e.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.beforeSend&&t.beforeSend.call(t,e,t),t.xhrFields)for(var b in t.xhrFields)e[b]=t.xhrFields[b];return e.send(c),s}var canAjax_2_1_0_canAjax=canNamespace_1_0_0_canNamespace.ajax=ajax,ajaxSetup=function(e){globalSettings=e||{}};canAjax_2_1_0_canAjax.ajaxSetup=ajaxSetup;function isArrayLike(e){var t=typeof e;if("string"==t)return!0;if("number"==t)return!1;var a=e&&"boolean"!=t&&"number"!=typeof e&&"length"in e&&e.length;return"function"!=typeof e&&(0===a||"number"==typeof a&&0<a&&a-1 in e)}var isArrayLike_1=canNamespace_1_0_0_canNamespace.isArrayLike=isArrayLike,isIterable=function(e){return e&&!!e[canSymbol_1_6_1_canSymbol.iterator||canSymbol_1_6_1_canSymbol.for("iterator")]},has=Object.prototype.hasOwnProperty;function each$4(e,t,a){var n=0,r,o,s;if(e)if(isArrayLike_1(e))for(o=e.length;n<o&&(s=e[n],!1!==t.call(a||s,s,n,e));n++);else if(isIterable(e))for(var l=e[canSymbol_1_6_1_canSymbol.iterator||canSymbol_1_6_1_canSymbol.for("iterator")](),d,p;!(d=l.next()).done;)p=d.value,t.call(a||e,Array.isArray(p)?p[1]:p,p[0]);else if("object"==typeof e)for(r in e)if(has.call(e,r)&&!1===t.call(a||e[r],e[r],r,e))break;return e}var each_1=canNamespace_1_0_0_canNamespace.each=each$4,methodMapping={item:{GET:"getData",PUT:"updateData",DELETE:"destroyData"},list:{GET:"getListData",POST:"createData"}};function inferIdProp(e){var t=/\{(.*)\}/,a=e.match(t),n=a&&2===a.length;if(n)return a[1]}function getItemAndListUrls(e,t){t=t||inferIdProp(e)||"id";var a=new RegExp("\\/\\{"+t+"\\}.*"),n=a.test(e),r=n?e.replace(a,""):e,o=n?e:e.trim()+"/{"+t+"}";return{item:o,list:r}}var canMakeRest_0_1_3_canMakeRest=function(e,t){var a={};return each_1(getItemAndListUrls(e,t),function(e,t){each_1(methodMapping[t],function(t,n){a[t]={method:n,url:e}})}),a},makePromise=function(e){return e&&"function"==typeof e.then&&!canReflect_1_17_4_canReflect.isPromise(e)?new Promise(function(t,a){e.then(t,a)}):e},defaultRest=canMakeRest_0_1_3_canMakeRest("/resource/{id}"),urlBehavior=canConnect_3_0_2_behavior("data/url",function(e){var t={};return canReflect_1_17_4_canReflect.eachKey(defaultRest,function(a,n){t[n]=function(t){var r=methodMetaData[n];if("object"==typeof this.url){if("function"==typeof this.url[n])return makePromise(this.url[n](t));if(this.url[n]){var o=makeAjax(this.url[n],t,a.method,this.ajax||canAjax_2_1_0_canAjax,findContentType(this.url,a.method),r);return makePromise(o)}}var s="string"==typeof this.url?this.url:this.url.resource;if(s){var i=canReflect_1_17_4_canReflect.getSchema(this.queryLogic).identity,l=s.replace(/\/+$/,""),d=canMakeRest_0_1_3_canMakeRest(l,i[0])[n];return makePromise(makeAjax(d.url,t,d.method,this.ajax||canAjax_2_1_0_canAjax,findContentType(this.url,d.method),r))}return e[name].call(this,t)}}),t}),methodMetaData={getListData:{},getData:{},createData:{},updateData:{},destroyData:{includeData:!1}},findContentType=function(e,t){if("object"==typeof e&&e.contentType){var a="application/x-www-form-urlencoded"===e.contentType||"application/json"===e.contentType;if(a)return e.contentType}return"GET"===t?"application/x-www-form-urlencoded":"application/json"};function urlParamEncoder(e,t){return encodeURIComponent(t)}var makeAjax=function(e,t,a,n,r,o){var s={};if("string"==typeof e){var i=e.split(/\s+/);s.url=i.pop(),i.length&&(s.type=i.pop())}else canReflect_1_17_4_canReflect.assignMap(s,e);return s.data="object"!=typeof t||Array.isArray(t)?t:canReflect_1_17_4_canReflect.assignMap(s.data||{},t),s.url=replaceWith(s.url,s.data,urlParamEncoder,!0),s.contentType=r,!1===o.includeData&&delete s.data,n(canReflect_1_17_4_canReflect.assignMap({type:a||"post",dataType:"json"},s))},url=urlBehavior,indexByIdentity=function(e,t,a){var n=canReflect_1_17_4_canReflect.size(e);if(!a&&0<n&&(a=canReflect_1_17_4_canReflect.getSchema(e[0])),a||(a=canReflect_1_17_4_canReflect.getSchema(t)),!a)throw new Error("No schema to use to get identity.");for(var r=canReflect_1_17_4_canReflect.getIdentity(t,a),o=0,s;o<n;o++)if(s=canReflect_1_17_4_canReflect.getIdentity(e[o],a),r===s)return o;return-1},spliceSymbol=canSymbol_1_6_1_canSymbol.for("can.splice");function updateList(e,t,a,n){-1===a?-1!==n&&canReflect_1_17_4_canReflect.splice(e,n,0,[t()]):-1===n?canReflect_1_17_4_canReflect.splice(e,a,1,[]):n!==a&&(a<n?(canReflect_1_17_4_canReflect.splice(e,n,0,[t()]),canReflect_1_17_4_canReflect.splice(e,a,1,[])):(canReflect_1_17_4_canReflect.splice(e,a,1,[]),canReflect_1_17_4_canReflect.splice(e,n,0,[t()])))}function updateListWithItem(e,t,a,n,r,o){if(-1===a||n!==a+1&&n!==a)if(void 0!==e[spliceSymbol])updateList(e,function(){return r.hydrateInstance(t)},a,n);else{var s=r.serializeList(e);updateList(s,function(){return t},a,n),r.updatedList(e,{data:s},o)}}var realTime=canConnect_3_0_2_canConnect.behavior("real-time",function(e){var t=Promise.resolve(),a;return a={createData:function(){var a=e.createData.apply(this,arguments),n=a.catch(function(){return""});return t=Promise.all([t,n]),a},createInstance:function(e){var a=this;return new Promise(function(n){t.then(function(){setTimeout(function(){var t=a.id(e),r=a.instanceStore.get(t),o;r?n(a.updateInstance(e)):(r=a.hydrateInstance(e),o=a.serializeInstance(r),a.addInstanceReference(r),Promise.resolve(a.createdData(e,o)).then(function(){a.deleteInstanceReference(r),n(r)}))},1)})})},createdData:function(e,t,a){var n;return n=void 0===a?this.instanceStore.get(this.id(e)):this.cidStore.get(a),this.addInstanceReference(n,this.id(e)),this.createdInstance(n,e),create.call(this,this.serializeInstance(n)),void this.deleteInstanceReference(n)},updatedData:function(e,t){var a=this.instanceStore.get(this.id(t));return this.updatedInstance(a,e),void update$1.call(this,this.serializeInstance(a))},updateInstance:function(e){var t=this.id(e),a=this.instanceStore.get(t);a||(a=this.hydrateInstance(e)),this.addInstanceReference(a);var n=this.serializeInstance(a),r=this;return Promise.resolve(this.updatedData(e,n)).then(function(){return r.deleteInstanceReference(a),a})},destroyedData:function(e,t){var a=this.id(t||e),n=this.instanceStore.get(a);n||(n=this.hydrateInstance(e));var r=this.serializeInstance(n);return this.destroyedInstance(n,e),void destroy.call(this,r)},destroyInstance:function(e){var t=this.id(e),a=this.instanceStore.get(t);a||(a=this.hydrateInstance(e)),this.addInstanceReference(a);var n=this.serializeInstance(a),r=this;return Promise.resolve(this.destroyedData(e,n)).then(function(){return r.deleteInstanceReference(a),a})}},a}),create=function(e){var t=this;this.listStore.forEach(function(a,n){var r=JSON.parse(n),o=indexByIdentity(a,e,t.queryLogic.schema);if(t.queryLogic.isMember(r,e)){var s=t.queryLogic.index(r,a,e);updateListWithItem(a,e,o,s,t,r)}})},update$1=function(e){var t=this;this.listStore.forEach(function(a,n){var r=JSON.parse(n),o=indexByIdentity(a,e,t.queryLogic.schema);if(t.queryLogic.isMember(r,e)){var s=t.queryLogic.index(r,a,e);updateListWithItem(a,e,o,s,t,r)}else-1!==o&&updateListWithItem(a,e,o,-1,t,r)})},destroy=function(e){var t=this;this.listStore.forEach(function(a,n){var r=JSON.parse(n),o=indexByIdentity(a,e,t.queryLogic.schema);-1!==o&&updateListWithItem(a,e,o,-1,t,r)})},forEach=[].forEach,callbacks$1=["createdInstance","updatedInstance","destroyedInstance"],callbacksOnceBehavior=canConnect_3_0_2_canConnect.behavior("constructor/callbacks-once",function(e){var t={};return forEach.call(callbacks$1,function(a){t[a]=function(t,n){var r=this.getInstanceMetaData(t,"last-data-"+a),o=sortedSetJson(n);if(r!==o){var s=e[a].apply(this,arguments);return this.addInstanceMetaData(t,"last-data-"+a,o),s}}}),t}),callbacksOnce=callbacksOnceBehavior;function realtimeRestModel(e){var t=[constructor_1,map$5,store,callbacks,parse$1,url,realTime,callbacksOnce];return canConnect_3_0_2_canConnect(t,e)}var canRealtimeRestModel_1_0_0_canRealtimeRestModel=canNamespace_1_0_0_canNamespace.realtimeRestModel=realtimeRestModel;function restModel(e){var t=[base,url,parse$1,constructor_1,map$5].reduce(function(e,t){return t(e)},e);return t.init(),t}var canRestModel_1_0_0_canRestModel=canNamespace_1_0_0_canNamespace.restModel=restModel,getItems$1=function(e){return Array.isArray(e)?e:e.data},forEach$1=Array.prototype.forEach,cacheRequestsBehaviour=canConnect_3_0_2_canConnect.behavior("cache-requests",function(e){return{getDiff:function(e,t){var a=this,n;return forEach$1.call(t,function(t){var r=a.queryLogic.difference(e,t),o;if(a.queryLogic.isDefinedAndHasMembers(r)){var s=a.queryLogic.intersection(e,t);o={needed:r,cached:!!a.queryLogic.isDefinedAndHasMembers(s)&&s,count:a.queryLogic.count(r)}}else a.queryLogic.isSubset(e,t)&&(o={cached:e,count:0});o&&(!n||o.count<n.count)&&(n=o)}),n?{needed:n.needed,cached:n.cached}:{needed:e}},unionMembers:function(e,t,a,n){return{data:this.queryLogic.unionMembers(t.needed,t.cached,getItems$1(a),getItems$1(n))}},getListData:function(t){t=t||{};var a=this;return this.cacheConnection.getSets(t).then(function(n){var r=a.getDiff(t,n);if(!r.needed)return a.cacheConnection.getListData(r.cached);if(!r.cached)return e.getListData(r.needed).then(function(e){return a.cacheConnection.updateListData(getItems$1(e),r.needed).then(function(){return e})});var o=a.cacheConnection.getListData(r.cached),s=e.getListData(r.needed),i=s.then(function(e){return a.cacheConnection.updateListData(getItems$1(e),r.needed).then(function(){return e})}),l=Promise.all([o,s]).then(function(e){var n=e[0],o=e[1];return a.unionMembers(t,r,o,n)});return Promise.all([l,i]).then(function(e){return e[0]})})}}}),cacheRequests=cacheRequestsBehaviour,assign$5=canReflect_1_17_4_canReflect.assignMap,each$5=canReflect_1_17_4_canReflect.each,pairs$2={createdData:"createData",updatedData:"updateData",destroyedData:"destroyData"},callbackCache=canConnect_3_0_2_canConnect.behavior("data/callbacks-cache",function(e){var t={};return each$5(pairs$2,function(a,n){t[n]=function(t,r,o){return this.cacheConnection[a](assign$5(assign$5({},r),t)),e[n]?e[n].call(this,t,r,o):t}}),t}),callbacksCache=callbackCache,deferred=function(){var e={};return e.promise=new Promise(function(t,a){e.resolve=t,e.reject=a}),e},forEach$2=[].forEach,combineRequests=canConnect_3_0_2_canConnect.behavior("data/combine-requests",function(e){var t;return{unionPendingRequests:function(e){var t=this;e.sort(function(e,a){return t.queryLogic.isSubset(e.set,a.set)?1:t.queryLogic.isSubset(a.set,e.set)?-1:0});var a=[],n;return doubleLoop(e,{start:function(e){n={set:e.set,pendingRequests:[e]},a.push(n)},iterate:function(e){var a=t.queryLogic.union(n.set,e.set);if(t.queryLogic.isDefinedAndHasMembers(a))return n.set=a,n.pendingRequests.push(e),!0}}),Promise.resolve(a)},time:1,getListData:function(a){a=a||{};var n=this;t||(t=[],setTimeout(function(){var a=n.unionPendingRequests(t);t=null,a.then(function(t){forEach$2.call(t,function(t){var a=canReflect_1_17_4_canReflect.serialize(t.set);e.getListData(a).then(function(e){1===t.pendingRequests.length?t.pendingRequests[0].deferred.resolve(e):forEach$2.call(t.pendingRequests,function(a){a.deferred.resolve({data:n.queryLogic.filterMembers(a.set,t.set,getItems$1(e))})})},function(e){1===t.pendingRequests.length?t.pendingRequests[0].deferred.reject(e):forEach$2.call(t.pendingRequests,function(t){t.deferred.reject(e)})})})})},this.time||1));var r=deferred();return t.push({deferred:r,set:a}),r.promise}}}),combineRequests_1=combineRequests,doubleLoop=function(e,t){for(var a=0;a<e.length;){t.start(e[a]);for(var n=a+1;n<e.length;)!0===t.iterate(e[n])?e.splice(n,1):n++;a++}},canLocalStore_1_0_0_canLocalStore=canNamespace_1_0_0_canNamespace.localStore=function e(t){t.constructor=e;var a=Object.create(canMemoryStore_1_0_0_makeSimpleStore(t));return canReflect_1_17_4_canReflect.assignMap(a,{clear:function(){return localStorage.removeItem(this.name+"/queries"),localStorage.removeItem(this.name+"/records"),this._recordsMap=null,Promise.resolve()},updateQueryDataSync:function(e){localStorage.setItem(this.name+"/queries",JSON.stringify(e))},getQueryDataSync:function(){return JSON.parse(localStorage.getItem(this.name+"/queries"))||[]},getRecord:function(e){return this._recordsMap||this.getAllRecords(),this._recordsMap[e]},getAllRecords:function(){if(!this.cacheLocalStorageReads||!this._recordsMap){var e=JSON.parse(localStorage.getItem(this.name+"/records"))||{};this._recordsMap=e}var t=[];for(var a in this._recordsMap)t.push(this._recordsMap[a]);return t},destroyRecords:function(e){this._recordsMap||this.getAllRecords(),canReflect_1_17_4_canReflect.eachIndex(e,function(e){var t=canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema);delete this._recordsMap[t]},this),localStorage.setItem(this.name+"/records",JSON.stringify(this._recordsMap))},updateRecordsSync:function(e){this._recordsMap||this.getAllRecords(),e.forEach(function(e){var t=canReflect_1_17_4_canReflect.getIdentity(e,this.queryLogic.schema);this._recordsMap[t]=e},this),localStorage.setItem(this.name+"/records",JSON.stringify(this._recordsMap))}}),a},localstorageCache=canLocalStore_1_0_0_canLocalStore,memoryCache=canMemoryStore_1_0_0_canMemoryStore,fallThroughCache=canConnect_3_0_2_canConnect.behavior("fall-through-cache",function(e){return{hydrateList:function(t,a){a=a||this.listQuery(t);var n=sortedSetJson(a),r=e.hydrateList.call(this,t,a);return this._getHydrateListCallbacks[n]&&(this._getHydrateListCallbacks[n].shift()(r),!this._getHydrateListCallbacks[n].length&&delete this._getHydrateListCallbacks[n]),r},_getHydrateListCallbacks:{},_getHydrateList:function(e,t){var a=sortedSetJson(e);this._getHydrateListCallbacks[a]||(this._getHydrateListCallbacks[a]=[]),this._getHydrateListCallbacks[a].push(t)},getListData:function(t){t=t||{};var a=this;return this.cacheConnection.getListData(t).then(function(n){return a._getHydrateList(t,function(n){a.addListReference(n,t),setTimeout(function(){e.getListData.call(a,t).then(function(e){a.cacheConnection.updateListData(e,t),a.updatedList(n,e,t),a.deleteListReference(n,t)},function(t){canLog_1_0_0_canLog.log("REJECTED",t)})},1)}),n},function(){var n=e.getListData.call(a,t);return n.then(function(e){a.cacheConnection.updateListData(e,t)}),n})},hydrateInstance:function(t){var a=this.id(t),n=e.hydrateInstance.apply(this,arguments);return this._getMakeInstanceCallbacks[a]&&(this._getMakeInstanceCallbacks[a].shift()(n),!this._getMakeInstanceCallbacks[a].length&&delete this._getMakeInstanceCallbacks[a]),n},_getMakeInstanceCallbacks:{},_getMakeInstance:function(e,t){this._getMakeInstanceCallbacks[e]||(this._getMakeInstanceCallbacks[e]=[]),this._getMakeInstanceCallbacks[e].push(t)},getData:function(t){var a=this;return this.cacheConnection.getData(t).then(function(n){return a._getMakeInstance(a.id(n)||a.id(t),function(n){a.addInstanceReference(n),setTimeout(function(){e.getData.call(a,t).then(function(e){a.cacheConnection.updateData(e),a.updatedInstance(n,e),a.deleteInstanceReference(n)},function(t){canLog_1_0_0_canLog.log("REJECTED",t)})},1)}),n},function(){var n=e.getData.call(a,t);return n.then(function(e){a.cacheConnection.updateData(e)}),n})}}}),fallThroughCache_1=fallThroughCache,makeRef=function(e){var t=canReflect_1_17_4_canReflect.getSchema(e.queryLogic).identity[0],a=function(){return function(n,r){"object"==typeof n&&(r=n,n=r[t]);var o=a.store.get(n);return o?(r&&!o._value&&(r instanceof e.Map?o._value=r:o._value=e.hydrateInstance(r)),o):void(this[t]=n,r&&(r instanceof e.Map?this._value=r:this._value=e.hydrateInstance(r)),0<store.requests.count()&&!a._requestInstances[n]&&(a.store.addReference(n,this),a._requestInstances[n]=this))}}();a.store=new weakReferenceMap,a._requestInstances={},a.type=function(e){return e&&"object"!=typeof e?new a(e):new a(e[t],e)};var n={promise:{get:function(){if(this._value)return Promise.resolve(this._value);var a={};return a[t]=this[t],e.Map.get(a)}},_state:{get:function(e,t){return t&&this.promise.then(function(){t("resolved")},function(){t("rejected")}),"pending"}},value:{get:function(e,t){return this._value?this._value:void(t&&this.promise.then(function(e){t(e)}))}},reason:{get:function(e,t){this._value||this.promise.catch(function(e){t(e)})}}};n[t]={type:"*",set:function(){this._value=void 0}},canDefine_2_5_8_canDefine(a.prototype,n),a.prototype.unobservedId=canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(){return this[t]}),a.prototype.isResolved=function(){return!!this._value||"resolved"===this._state},a.prototype.isRejected=function(){return"rejected"===this._state},a.prototype.isPending=function(){return!this._value&&("resolved"!==this._state||"rejected"!==this._state)},a.prototype.serialize=function(){return this[t]},canReflect_1_17_4_canReflect.assignSymbols(a.prototype,{"can.serialize":a.prototype.serialize,"can.getName":function(){return canReflect_1_17_4_canReflect.getName(this.constructor)+"{"+this[t]+"}"}});var r=a.prototype._eventSetup;a.prototype._eventSetup=function(){return a.store.addReference(this.unobservedId(),this),r.apply(this,arguments)};var o=a.prototype._eventTeardown;return a.prototype._eventTeardown=function(){return a.store.deleteReference(this.unobservedId(),this),o.apply(this,arguments)},store.requests.on("end",function(){for(var e in a._requestInstances)a.store.deleteReference(e);a._requestInstances={}}),a},ref=canConnect_3_0_2_canConnect.behavior("can/ref",function(e){return{init:function(){e.init.apply(this,arguments),this.Map.Ref=makeRef(this)}}}),$=global_1().$;canConnect_3_0_2_canConnect.superMap=function(e){var t=[constructor_1,map$5,ref,store,callbacks,combineRequests_1,parse$1,url,realTime,callbacksOnce];return"undefined"!=typeof localStorage&&(!e.cacheConnection&&(e.cacheConnection=canConnect_3_0_2_canConnect([localstorageCache],{name:e.name+"Cache",idProp:e.idProp,queryLogic:e.queryLogic})),t.push(callbacksCache,fallThroughCache_1)),$&&$.ajax&&(e.ajax=$.ajax),canConnect_3_0_2_canConnect(t,e)};var superMap=canConnect_3_0_2_canConnect.superMap,$$1=global_1().$;canConnect_3_0_2_canConnect.baseMap=function(e){var t=[constructor_1,map$5,ref,store,callbacks,parse$1,url,realTime,callbacksOnce];return $$1&&$$1.ajax&&(e.ajax=$$1.ajax),canConnect_3_0_2_canConnect(t,e)};var baseMap=canConnect_3_0_2_canConnect.baseMap;canConnect_3_0_2_canConnect.cacheRequests=cacheRequests,canConnect_3_0_2_canConnect.constructor=constructor_1,canConnect_3_0_2_canConnect.constructorCallbacksOnce=callbacksOnce,canConnect_3_0_2_canConnect.constructorStore=store,canConnect_3_0_2_canConnect.dataCallbacks=callbacks,canConnect_3_0_2_canConnect.dataCallbacksCache=callbacksCache,canConnect_3_0_2_canConnect.dataCombineRequests=combineRequests_1,canConnect_3_0_2_canConnect.dataLocalStorageCache=localstorageCache,canConnect_3_0_2_canConnect.dataMemoryCache=memoryCache,canConnect_3_0_2_canConnect.dataParse=parse$1,canConnect_3_0_2_canConnect.dataUrl=url,canConnect_3_0_2_canConnect.fallThroughCache=fallThroughCache_1,canConnect_3_0_2_canConnect.realTime=realTime,canConnect_3_0_2_canConnect.superMap=superMap,canConnect_3_0_2_canConnect.baseMap=baseMap;var canConnect_3_0_2_all=canConnect_3_0_2_canConnect,methodsToOverwrite=["pushState","replaceState"],cleanRoot=function(){var e=location(),t=e.protocol+"//"+e.host,a=bindingProxy_1.call("root"),n=a.indexOf(t);return 0===n?a.substr(t.length):a};function getCurrentUrl(){var e=cleanRoot(),t=location(),a=t.pathname+t.search,n=a.indexOf(e);return a.substr(n+e.length)}function PushstateObservable(){this.options={replaceStateOnceKeys:[],replaceStateKeys:[]},this.dispatchHandlers=this.dispatchHandlers.bind(this);var e=this;this.anchorClickHandler=function(t){PushstateObservable.prototype.anchorClickHandler.call(e,this,t)},this.handlers=new canKeyTree_1_2_0_canKeyTree([Object,Array],{onFirst:this.setup.bind(this),onEmpty:this.teardown.bind(this)}),this.keepHash=!0}PushstateObservable.prototype=Object.create(canSimpleObservable_2_2_0_canSimpleObservable.prototype),PushstateObservable.constructor=PushstateObservable,canReflect_1_17_4_canReflect.assign(PushstateObservable.prototype,{root:"/",matchSlashes:!1,paramsMatcher:/^\?(?:[^=]+=[^&]*&)*[^=]+=[^&]*/,querySeparator:"?",dispatchHandlers:function(){var e=this.value,t=[];this.value=getCurrentUrl(),e!==this.value&&(t=[this.handlers.getNode([]),this,[this.value,e]],canQueues_1_1_3_canQueues.enqueueByQueue.apply(canQueues_1_1_3_canQueues,t))},anchorClickHandler:function(t,a){if(a.isDefaultPrevented?!a.isDefaultPrevented():!0!==a.defaultPrevented){var e=t.host||window.location.host;if("javascript://"===t.href)return;if("_blank"===t.target)return;if(a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)return;if(window.location.host===e){var n=cleanRoot();if(0===t.pathname.indexOf(n)){var r=t.pathname+t.search,o=r.substr(n.length);if(void 0!==canRoute_4_3_12_canRoute.rule(o)){0<=t.href.indexOf("#")&&(this.keepHash=!0);var s=window.location.pathname+window.location.search,i=r!==s||t.hash===window.location.hash;window.history.pushState(null,null,t.href),i&&a.preventDefault&&a.preventDefault()}}}}},setup:function(){if(!isNode()){this.value=getCurrentUrl(),canDomEvents_1_3_0_canDomEvents.addDelegateListener(document.documentElement,"click","a",this.anchorClickHandler);var e=this.originalMethods={},t=this.dispatchHandlers;canReflect_1_17_4_canReflect.eachKey(methodsToOverwrite,function(a){this.originalMethods[a]=window.history[a],window.history[a]=function(n,r,o){var s=0===o.indexOf("http"),i=location(),l=i.search+i.hash;(!s&&o!==i.pathname+l||s&&o!==i.href+l)&&(e[a].apply(window.history,arguments),t())}},this),canDomEvents_1_3_0_canDomEvents.addEventListener(window,"popstate",this.dispatchHandlers)}},teardown:function(){canDomEvents_1_3_0_canDomEvents.removeDelegateListener(document.documentElement,"click","a",this.anchorClickHandler),canReflect_1_17_4_canReflect.eachKey(methodsToOverwrite,function(e){window.history[e]=this.originalMethods[e]},this),canDomEvents_1_3_0_canDomEvents.removeEventListener(window,"popstate",this.dispatchHandlers)},get:function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(this),getCurrentUrl()},set:function(e){var t=canRoute_4_3_12_canRoute.deparam(e),a=canRoute_4_3_12_canRoute.deparam(getCurrentUrl()),n="pushState",r;if(this.keepHash&&-1===e.indexOf("#")&&window.location.hash&&(e+=window.location.hash),r={},map$3(a,t).forEach(function(e){return r[e.key]=!0}),this.options.replaceStateKeys.length&&this.options.replaceStateKeys.forEach(function(e){r[e]&&(n="replaceState")}),this.options.replaceStateOnceKeys.length)for(var o=this.options.replaceStateOnceKeys.length-1,s;0<=o;o--)s=this.options.replaceStateOnceKeys[o],r[s]&&(n="replaceState",this.options.replaceStateOnceKeys.splice(o,1));window.history[n](null,null,bindingProxy_1.call("root")+e)},replaceStateOn:function(){canReflect_1_17_4_canReflect.addValues(this.options.replaceStateKeys,canReflect_1_17_4_canReflect.toArray(arguments))},replaceStateOnce:function(){canReflect_1_17_4_canReflect.addValues(this.options.replaceStateOnceKeys,canReflect_1_17_4_canReflect.toArray(arguments))},replaceStateOff:function(){canReflect_1_17_4_canReflect.removeValues(this.options.replaceStateKeys,canReflect_1_17_4_canReflect.toArray(arguments)),canReflect_1_17_4_canReflect.removeValues(this.options.replaceStateOnceKeys,canReflect_1_17_4_canReflect.toArray(arguments))}});var pushstateObservableProto={"can.getValue":PushstateObservable.prototype.get,"can.setValue":PushstateObservable.prototype.set,"can.onValue":PushstateObservable.prototype.on,"can.offValue":PushstateObservable.prototype.off,"can.isMapLike":!1,"can.valueHasDependencies":function(){return!0}};canReflect_1_17_4_canReflect.assignSymbols(PushstateObservable.prototype,pushstateObservableProto);var canRoutePushstate_5_0_2_canRoutePushstate=PushstateObservable;function shouldCheckSet(e,t,a){return"set"===e.type&&t&&a&&"object"==typeof t&&"object"==typeof a}function makeIdentityFromMapSchema$1(e){if(e.identity&&e.identity.length)return function(t,a){var n=canReflect_1_17_4_canReflect.getIdentity(t,e),r=canReflect_1_17_4_canReflect.getIdentity(a,e);return n===r}}function makeDiffListIdentityComparison(e,t,n,r){var a=canReflect_1_17_4_canReflect.getSchema(e),o=canReflect_1_17_4_canReflect.size(e),s,i;return null!=a&&null!=a.values&&(s=canReflect_1_17_4_canReflect.getSchema(a.values)),null==s&&0<o&&(s=canReflect_1_17_4_canReflect.getSchema(canReflect_1_17_4_canReflect.getKeyValue(e,0))),s&&(i=makeIdentityFromMapSchema$1(s)),function(e,t,a){if(canReflect_1_17_4_canReflect.isPrimitive(e))return e===t;if(canReflect_1_17_4_canReflect.isPrimitive(t))return e===t;if(i&&i(e,t)){var o=diffDeep(e,t,n?n+"."+a:""+a);return r.push.apply(r,o),!0}return 0===diffDeep(e,t).length}}function diffDeep(e,t,a){if(e&&canReflect_1_17_4_canReflect.isMoreListLikeThanMapLike(e)){var n=[],r=makeDiffListIdentityComparison(e,t,a,n),o=list(e,t,r).map(function(e){return a&&(e.key=a),e});return n.concat(o)}a=a?a+".":"";var s=map$3(e,t),i=[];return s.forEach(function(n){var r=n.key;n.key=a+n.key;var o=e&&canReflect_1_17_4_canReflect.getKeyValue(e,r),s=t&&canReflect_1_17_4_canReflect.getKeyValue(t,r);if(shouldCheckSet(n,o,s)){var l=diffDeep(o,s,n.key);i.push.apply(i,l)}else i.push(n)}),i}var deep=diffDeep,diff={deep:deep,list:list,map:map$3,mergeDeep:mergeDeep,Patcher:patcher},canDiff_1_4_1_canDiff=canNamespace_1_0_0_canNamespace.diff=diff;function makeMap$2(e){var t={},a=e.split(",");return a.forEach(function(e){t[e]=!0}),t}var canMakeMap_1_2_0_canMakeMap=makeMap$2;function makeMutationEvent(e,t,a){var n=new Map;return{_subscriptions:n,defaultEventType:e,addEventListener:function(e,r,o){var s=this.dispatch,i=n.get(e);i||(i={removeListener:null,listeners:new Set},n.set(e,i)),0===i.listeners.size&&(i.removeListener=t(e,function(t){var n={type:r};for(var o in t)n[o]=t[o];s(e,n,!1!==a)})),i.listeners.add(o),e.addEventListener(r,o)},removeEventListener:function(e,t,a){e.removeEventListener(t,a);var r=n.get(e);r&&(r.listeners["delete"](a),0===r.listeners.size&&(r.removeListener(),n["delete"](e)))}}}var canDomMutate_1_2_1_domEvents=canNamespace_1_0_0_canNamespace.domMutateDomEvents={attributes:makeMutationEvent("attributes",canDomMutate_1_2_1_canDomMutate.onNodeAttributeChange),inserted:makeMutationEvent("inserted",canDomMutate_1_2_1_canDomMutate.onNodeInsertion,!1),removed:makeMutationEvent("removed",canDomMutate_1_2_1_canDomMutate.onNodeRemoval)};function flatten(e){return e.reduce(function(e,t){return e.concat(t)},[])}function makeInterfaceValidator(e){var t=flatten(e);return function(e){var a=t.reduce(function(t,a){return a in e?t:t.concat(a)},[]);return a.length?{message:"missing expected properties",related:a}:void 0}}var canValidateInterface_1_0_2_index=makeInterfaceValidator,warned=!1,proxyNamespace=function(e){return new Proxy(e,{get:function(e,t){return warned||(console.warn("Warning: use of 'can' global should be for debugging purposes only."),warned=!0),e[t]}})},onValueSymbol$4=canSymbol_1_6_1_canSymbol.for("can.onValue"),offValueSymbol$2=canSymbol_1_6_1_canSymbol.for("can.offValue"),onKeyValueSymbol$3=canSymbol_1_6_1_canSymbol.for("can.onKeyValue"),offKeyValueSymbol$2=canSymbol_1_6_1_canSymbol.for("can.offKeyValue"),noop$3=function(){};function isFunction$2(e){return"function"==typeof e}function withKey(e,t,a){var n;return isFunction$2(e[onKeyValueSymbol$3])&&canReflect_1_17_4_canReflect.onKeyValue(e,t,noop$3),n=a(e,t),isFunction$2(e[offKeyValueSymbol$2])&&canReflect_1_17_4_canReflect.offKeyValue(e,t,noop$3),n}function withoutKey(e,t){var a;return isFunction$2(e[onValueSymbol$4])&&canReflect_1_17_4_canReflect.onValue(e,noop$3),a=t(e),isFunction$2(e[offValueSymbol$2])&&canReflect_1_17_4_canReflect.offValue(e,noop$3),a}var temporarilyBind$1=function(e){return function(t,a){var n=2===arguments.length;return n?withKey(t,a,e):withoutKey(t,e)}};function Graph(){this.nodes=[],this.arrows=new Map,this.arrowsMeta=new Map}Graph.prototype.addNode=function(e){this.nodes.push(e),this.arrows.set(e,new Set)},Graph.prototype.addArrow=function(e,t,a){var n=this;n.arrows.get(e).add(t),a&&addArrowMeta(n,e,t,a)},Graph.prototype.hasArrow=function(e,t){return this.getNeighbors(e).has(t)},Graph.prototype.getArrowMeta=function(e,t){return this.arrowsMeta.get(e)&&this.arrowsMeta.get(e).get(t)},Graph.prototype.setArrowMeta=function(e,t,a){addArrowMeta(this,e,t,a)},Graph.prototype.getNeighbors=function(e){return this.arrows.get(e)},Graph.prototype.findNode=function(e){var t=null,a=this;for(var n of a.nodes)if(e(n)){t=n;break}return t},Graph.prototype.bfs=function(e){for(var t=this,a=t.nodes[0],n=[a],r=new Map([[a,!0]]);n.length;)a=n.shift(),e(a),t.arrows.get(a).forEach(function(e){r.has(e)||(n.push(e),r.set(e,!0))})},Graph.prototype.dfs=function(e){for(var t=this,a=t.nodes[0],n=[a],r=new Map;n.length;)a=n.pop(),e(a),r.has(a)||(r.set(a,!0),t.arrows.get(a).forEach(function(e){n.push(e)}))},Graph.prototype.reverse=function(){var e=this,t=new Graph;return e.nodes.forEach(t.addNode.bind(t)),e.nodes.forEach(function(a){e.getNeighbors(a).forEach(function(n){var r=e.getArrowMeta(a,n);t.addArrow(n,a,r)})}),t};function addArrowMeta(e,t,a,n){var r=e.arrowsMeta.get(t);if(r){var o=r.get(a);o||(o={}),r.set(a,Object.assign(o,n))}else r=new Map([[a,n]]),e.arrowsMeta.set(t,r)}var graph=Graph,makeNode=function(e,t){var a=2===arguments.length,n={obj:e,name:canReflect_1_17_4_canReflect.getName(e),value:a?canReflect_1_17_4_canReflect.getKeyValue(e,t):canReflect_1_17_4_canReflect.getValue(e)};return a&&(n.key=t),n},getGraph=function(e,t){var a=0,n=new graph,r=2===arguments.length,o=function(e,t,a,r){switch(e){case"whatIChange":n.addArrow(t,a,r);break;case"whatChangesMe":n.addArrow(a,t,r);break;default:throw new Error("Unknown direction value: ",r.direction);}},s=function(e,t,a){canReflect_1_17_4_canReflect.eachKey(e.keyDependencies||{},function(e,n){canReflect_1_17_4_canReflect.each(e,function(e){a(n,t,e)})})},i=function(e,t,a){canReflect_1_17_4_canReflect.eachIndex(e.valueDependencies||[],function(e){a(e,t)})},l=function e(t,r,l){var d=3===arguments.length,p=n.findNode(function(e){return d?e.obj===t&&e.key===l:e.obj===t});if(p)return r.parent&&o(r.direction,r.parent,p,{kind:r.kind,direction:r.direction}),n;a+=1,p=d?makeNode(t,l):makeNode(t),p.order=a,n.addNode(p),r.parent&&o(r.direction,r.parent,p,{kind:r.kind,direction:r.direction});var c=d?canReflectDependencies_1_1_0_canReflectDependencies.getDependencyDataOf(t,l):canReflectDependencies_1_1_0_canReflectDependencies.getDependencyDataOf(t),u;return c&&c.whatIChange&&(u={direction:"whatIChange",parent:p},canReflect_1_17_4_canReflect.eachKey(c.whatIChange,function(t,a){u.kind=a,s(t,u,e),i(t,u,e)})),c&&c.whatChangesMe&&(u={direction:"whatChangesMe",parent:p},canReflect_1_17_4_canReflect.eachKey(c.whatChangesMe,function(t,a){u.kind=a,s(t,u,e),i(t,u,e)})),n};return r?l(e,{},t):l(e,{})},formatGraph=function(e){var t=new Map(e.nodes.map(function(e,t){return[e,t+1]})),a=e.nodes.map(function(e){return{shape:"box",id:t.get(e),label:canReflect_1_17_4_canReflect.getName(e.obj)+(e.key?"."+e.key:"")}}),n=function(e){return{derive:{arrows:"to"},mutate:{arrows:"to",dashes:!0}}[e.kind]},r=new Map,o=[];return e.nodes.forEach(function(a){var s=function(a){if(!r.has(a)){r.set(a,!0);var i=e.arrows.get(a),l=t.get(a);i.forEach(function(r){var i=t.get(r),d=e.arrowsMeta.get(a).get(r);o.push(Object.assign({from:l,to:i},n(d))),s(r)})}};s(a)}),{nodes:a,edges:o}},quoteString$1=function(e){return"string"==typeof e?JSON.stringify(e):e},logData=function e(t){var a=t.node,n=[a.name,"key"in a?"."+a.key:""];console.group(n.join("")),console.log("value  ",quoteString$1(a.value)),console.log("object ",a.obj),t.derive.length&&(console.group("DERIVED FROM"),canReflect_1_17_4_canReflect.eachIndex(t.derive,e),console.groupEnd()),t.mutations.length&&(console.group("MUTATED BY"),canReflect_1_17_4_canReflect.eachIndex(t.mutations,e),console.groupEnd()),t.twoWay.length&&(console.group("TWO WAY"),canReflect_1_17_4_canReflect.eachIndex(t.twoWay,e),console.groupEnd()),console.groupEnd()},labelCycles=function(e){var t=new Map,a=new graph;e.nodes.forEach(function(e){a.addNode(e)});return function n(r){t.set(r,!0),e.getNeighbors(r).forEach(function(o){if(t.has(o)){var s=e.hasArrow(r,o);s&&a.addArrow(o,r,{kind:"twoWay"})}else a.addArrow(r,o,e.getArrowMeta(r,o)),n(o)})}(e.nodes[0]),a},isDisconnected=function(e){return!e.derive.length&&!e.mutations.length&&!e.twoWay.length},getData=function(e,t){var a=new Map,n=labelCycles("whatChangesMe"===t?e.reverse():e),r=function e(t){var r={node:t,derive:[],mutations:[],twoWay:[]};return a.set(t,!0),n.getNeighbors(t).forEach(function(o){var s=n.getArrowMeta(t,o);if(!a.has(o))switch(s.kind){case"twoWay":r.twoWay.push(e(o));break;case"derive":r.derive.push(e(o));break;case"mutate":r.mutations.push(e(o));break;default:throw new Error("Unknow meta.kind value: ",s.kind);}}),r}(n.nodes[0]);return isDisconnected(r)?null:r},whatIChange=function(e,t){var a=2===arguments.length,n=getData(a?getGraph(e,t):getGraph(e),"whatIChange");n&&logData(n)},whatChangesMe=function(e,t){var a=2===arguments.length,n=getData(a?getGraph(e,t):getGraph(e),"whatChangesMe");n&&logData(n)},getWhatIChange$1=function(e,t){var a=2===arguments.length;return getData(a?getGraph(e,t):getGraph(e),"whatIChange")},getWhatChangesMe$1=function(e,t){var a=2===arguments.length;return getData(a?getGraph(e,t):getGraph(e),"whatChangesMe")},global$2=canGlobals_1_2_0_canGlobals.getKeyValue("global"),devtoolsRegistrationComplete=!1;function registerWithDevtools(){if(!devtoolsRegistrationComplete){var e={Symbol:canSymbol_1_6_1_canSymbol,Reflect:canReflect_1_17_4_canReflect,queues:canQueues_1_1_3_canQueues,getGraph:canNamespace_1_0_0_canNamespace.debug.getGraph,formatGraph:canNamespace_1_0_0_canNamespace.debug.formatGraph,mergeDeep:mergeDeep};global$2.__CANJS_DEVTOOLS__?global$2.__CANJS_DEVTOOLS__.register(e):Object.defineProperty(global$2,"__CANJS_DEVTOOLS__",{set:function(t){Object.defineProperty(global$2,"__CANJS_DEVTOOLS__",{value:t}),t.register(e)},configurable:!0}),devtoolsRegistrationComplete=!0}}var canDebug_2_0_1_canDebug=function(){return canNamespace_1_0_0_canNamespace.debug={getGraph:temporarilyBind$1(getGraph),formatGraph:temporarilyBind$1(formatGraph),getWhatIChange:temporarilyBind$1(getWhatIChange$1),getWhatChangesMe:temporarilyBind$1(getWhatChangesMe$1),logWhatIChange:temporarilyBind$1(whatIChange),logWhatChangesMe:temporarilyBind$1(whatChangesMe)},registerWithDevtools(),global$2.can="undefined"==typeof Proxy?canNamespace_1_0_0_canNamespace:proxyNamespace(canNamespace_1_0_0_canNamespace),canNamespace_1_0_0_canNamespace.debug},canDefineBackup_2_0_0_canDefineBackup=createCommonjsModule(function(e,t){function a(e){var t=r.get(e);return t||(t=new canSimpleObservable_2_2_0_canSimpleObservable,r.set(e,t)),t}var n=function(e,t){var a={};for(var n in e)a[n]="object"!=typeof e[n]||null===e[n]||e[n]instanceof Date?e[n]:t[n];return a},r=new WeakMap;e.exports=t=function(e){canAssign_1_3_1_canAssign(e.prototype,{backup:function(){var e=a(this);return canReflect_1_17_4_canReflect.setValue(e,this.serialize()),this},isDirty:function(e){var t=a(this),n=canReflect_1_17_4_canReflect.getValue(t);if(!n)return!1;var r=this.serialize(),o;return o=e?deep(r,n):map$3(r,n).filter(function(e){if("set"!==e.type)return!0;var t=r[e.key],a=n[e.key];return!(t&&a&&"object"==typeof t&&"object"==typeof a)}),o.length},restore:function(e){var t=a(this),r=canReflect_1_17_4_canReflect.getValue(t),o=e?r:n(r,this);if(this.isDirty(e))for(var s in o)this[s]=o[s];return this}})}}),canDefineStream_1_1_0_canDefineStream=function(e){return function(t){["toStream","toStreamFromProperty","toStreamFromEvent"].forEach(function(a){t.prototype[a]=function(){return e[a].apply(e,[this].concat([].slice.call(arguments)))}}),t.prototype.stream=t.prototype.toStream;var a=t.prototype._define.definitions,n=t.prototype._define.dataInitializers,r=t.prototype._define.computedInitializers;canReflect_1_17_4_canReflect.eachKey(a,function(a,o){var s=a.stream;if(s){var i=canAssign_1_3_1_canAssign({default:function(){return e.toCompute(s,this)}},canDefine_2_5_8_canDefine.types.compute);canDefine_2_5_8_canDefine.property(t.prototype,o,i,n,r)}})}},kefir=createCommonjsModule(function(e,t){var a=Math.max;(function(e,a){a(t)})(commonjsGlobal,function(e){function n(e){var t=function(){};return t.prototype=e,new t}function r(e){var t=arguments.length,a,n;for(a=1;a<t;a++)for(n in arguments[a])e[n]=arguments[a][n];return e}function o(e,t){var a=arguments.length,o;for(e.prototype=n(t.prototype),e.prototype.constructor=e,o=2;o<a;o++)r(e.prototype,arguments[o]);return e}function s(e,t){var a,n,r,o;if(0===e.length)return t;if(0===t.length)return e;for(o=0,a=Array(e.length+t.length),n=e.length,r=0;r<n;r++,o++)a[o]=e[r];for(n=t.length,r=0;r<n;r++,o++)a[o]=t[r];return a}function i(e,t){var a=e.length,n;for(n=0;n<a;n++)if(e[n]===t)return n;return-1}function l(e,t){var a=e.length,n;for(n=0;n<a;n++)if(t(e[n]))return n;return-1}function d(e){var t=e.length,a=Array(t),n;for(n=0;n<t;n++)a[n]=e[n];return a}function p(e,t){var a=e.length,n,r,o;if(0<=t&&t<a){if(1===a)return[];for(n=Array(a-1),r=0,o=0;r<a;r++)r!==t&&(n[o]=e[r],o++);return n}return e}function c(e,t){var a=e.length,n=Array(a),r;for(r=0;r<a;r++)n[r]=t(e[r]);return n}function u(e,t){var a=e.length,n;for(n=0;n<a;n++)t(e[n])}function y(e,t){var a=e.length,n;for(n=0;n<a;n++)e[n]=t}function h(e,t){return-1!==i(e,t)}function g(e,t,a){var n=Math.min(a,e.length+1),r=e.length-n+1,o=Array(n),s;for(s=r;s<n;s++)o[s-r]=e[s];return o[n-1]=t,o}function m(e,t,a){e==="any"?t(a):e===a.type&&(e==="value"||e==="error"?t(a.value):t())}function b(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function v(){this._dispatcher=new b,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function _(){v.call(this)}function k(){v.call(this),this._currentEvent=null}function E(){return ut}function L(e){function t(e,t){var a=this;_.call(this),this._wait=e,this._intervalId=null,this._$onTick=function(){return a._onTick()},this._init(t)}return o(t,_,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){_.prototype._clear.call(this),this._$onTick=null,this._free()}},e),t}function V(e,t){return new yt(e,{x:t})}function C(e,t){return new S(e,{x:t})}function x(e,t){return 0===t.length?E():new ht(e,{xs:t})}function D(e,t){return new gt(e,{fn:t})}function I(t){function e(e){return t._emitValue(e),t._active}function a(a){return t._emit(a.type,a.value),t._active}return{value:e,error:function(e){return t._emitError(e),t._active},end:function(){return t._emitEnd(),t._active},event:a,emit:e,emitEvent:a}}function T(e,t){return new ft(e,{fn:t})}function w(e){_.call(this),this._fn=e,this._unsubscribe=null}function A(e){return new w(e)}function M(e){var t=!1;return A(function(a){t||(e(function(e){a.emit(e),a.end()}),t=!0)}).setName("fromCallback")}function N(e){var t=!1;return A(function(a){t||(e(function(e,t){e?a.error(e):a.emit(t),a.end()}),t=!0)}).setName("fromNodeCallback")}function O(e,t){return 0===t?function(){return e()}:1===t?function(t){return e(t[0])}:2===t?function(t){return e(t[0],t[1])}:3===t?function(t){return e(t[0],t[1],t[2])}:4===t?function(t){return e(t[0],t[1],t[2],t[3])}:function(t){return e.apply(null,t)}}function K(e,t,n){var a=n?n.length:0;return null==t?0===a?e():1===a?e(n[0]):2===a?e(n[0],n[1]):3===a?e(n[0],n[1],n[2]):4===a?e(n[0],n[1],n[2],n[3]):e.apply(null,n):0===a?e.call(t):e.apply(t,n)}function R(e,t,a){return A(function(n){var r=a?function(){n.emit(K(a,this,arguments))}:function(e){n.emit(e)};return e(r),function(){return t(r)}}).setName("fromSubUnsub")}function q(e,t,a){for(var n=void 0,r=void 0,o=0;o<mt.length;o++)if("function"==typeof e[mt[o][0]]&&"function"==typeof e[mt[o][1]]){n=mt[o][0],r=mt[o][1];break}if(n===void 0)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return R(function(a){return e[n](t,a)},function(a){return e[r](t,a)},a).setName("fromEvents")}function B(e){this._currentEvent={type:"value",value:e,current:!0}}function P(e){return new B(e)}function F(e){this._currentEvent={type:"error",value:e,current:!0}}function H(e){return new F(e)}function j(e,t){return function(a,n){var r=this;e.call(this),this._source=a,this._name=a._name+"."+t,this._init(n),this._$handleAny=function(e){return r._handleAny(e)}}}function U(e){return{_init:function(){},_free:function(){},_handleValue:function(e){this._emitValue(e)},_handleError:function(e){this._emitError(e)},_handleEnd:function(){this._emitEnd()},_handleAny:function(e){switch(e.type){case"value":return this._handleValue(e.value);case"error":return this._handleError(e.value);case"end":return this._handleEnd();}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){e.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function z(e,t){var a=j(_,e);return o(a,_,U(_),t),a}function $(e,t){var a=j(k,e);return o(a,k,U(k),t),a}function G(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;if(null!==t&&"function"!=typeof t)throw new Error("You should call toProperty() with a function or no arguments.");return new bt(e,{fn:t})}function Y(e){return new vt(e)}function W(e){var t=!1,a=A(function(a){if(!t){var n=function(e){a.emit(e),a.end()},r=function(e){a.error(e),a.end()},o=e.then(n,r);o&&"function"==typeof o.done&&o.done(),t=!0}});return G(a,null).setName("fromPromise")}function Q(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}function X(e,t){return t={exports:{}},e(t,t.exports),t.exports}function J(e){var t=e[Vt]?e[Vt]():e;return A(function(e){var a=t.subscribe({error:function(t){e.error(t),e.end()},next:function(t){e.emit(t)},complete:function(){e.end()}});return a.unsubscribe?function(){a.unsubscribe()}:a}).setName("fromESObservable")}function Z(e){this._observable=e.takeErrors(1)}function ee(){return new Z(this)}function te(e,t,a){for(var n in e)e.hasOwnProperty(n)&&(t.push(n),a.push(e[n]))}function ae(e){for(var t=void 0,a=0;a<e.length;a++)void 0!==e[a]&&(void 0===t||t.index<e[a].index)&&(t=e[a]);return t.error}function ne(e,t,a){var n=this;_.call(this),this._activeCount=e.length,this._sources=s(e,t),this._combinator=a,this._aliveCount=0,this._latestValues=Array(this._sources.length),this._latestErrors=Array(this._sources.length),y(this._latestValues,it),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var r=function(e){n._$handlers.push(function(t){return n._handleAny(e,t)})},o=0;o<this._sources.length;o++)r(o)}function re(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2];if(!Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");return a=a?O(a,e.length+t.length):function(e){return e},0===e.length?E():new ne(e,t,a)}function oe(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];if("object"!=typeof t||Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");var n=[],r=[],o=[];te(e,n,r),te(t,n,o);return 0===r.length?E():new ne(r,o,function(e){for(var t={},r=e.length-1;0<=r;r--)t[n[r]]=e[r];return a?a(t):t})}function se(e,t,a){return"function"==typeof t&&(a=t,t=void 0),Array.isArray(e)?re(e,t,a):oe(e,t,a)}function ie(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Tt;return new(e._ofSameType(Dt,It))(e,{fn:t})}function le(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Pt;return new(e._ofSameType(At,Mt))(e,{fn:t})}function de(e,t){return new(e._ofSameType(Ot,Kt))(e,{n:t})}function pe(e,t){return new(e._ofSameType(qt,Bt))(e,{n:t})}function ce(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Ut;return new(e._ofSameType(Ht,jt))(e,{fn:t})}function ue(e){return new(e._ofSameType($t,Gt))(e)}function ye(e,t){return new(e._ofSameType(Wt,Qt))(e,{n:t})}function he(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:ea;return new(e._ofSameType(Jt,Zt))(e,{fn:t})}function ge(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:ra;return new(e._ofSameType(aa,na))(e,{fn:t})}function fe(e,t){return[e,t]}function me(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:it;return new(e._ofSameType(sa,ia))(e,{fn:t||fe,seed:a})}function be(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:it;return new la(e,{fn:t,seed:a})}function ve(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:pa;return new da(e,{fn:t})}function _e(e,t){return new(e._ofSameType(ya,ha))(e,{wait:t})}function ke(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},n=a.leading,r=a.trailing;return new(e._ofSameType(ma,ba))(e,{wait:t,leading:!(n!==void 0)||n,trailing:!(r!==void 0)||r})}function Ee(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},n=a.immediate;return new(e._ofSameType(_a,ka))(e,{wait:t,immediate:n!==void 0&&n})}function Le(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Va;return new(e._ofSameType(La,Sa))(e,{fn:t})}function Se(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Ia;return new(e._ofSameType(xa,Da))(e,{fn:t})}function Ve(e){return new(e._ofSameType(wa,Aa))(e)}function Ce(e){return new(e._ofSameType(Pa,Na))(e)}function xe(e){return new(e._ofSameType(Ka,Ra))(e)}function De(e,t){return new(e._ofSameType(Ba,Fa))(e,{fn:t})}function Ie(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return new(e._ofSameType(ja,Ua))(e,{min:a,max:t})}function Te(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},n=a.flushOnEnd;return new(e._ofSameType($a,Ga))(e,{fn:t||Ya,flushOnEnd:!(n!==void 0)||n})}function we(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},n=a.flushOnEnd;return new(e._ofSameType(Qa,Xa))(e,{count:t,flushOnEnd:!(n!==void 0)||n})}function Ae(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},r=n.flushOnEnd;return new(e._ofSameType(Za,en))(e,{wait:t,count:a,flushOnEnd:!(r!==void 0)||r})}function Me(e){return{"@@transducer/step":function(t,a){return e._emitValue(a),null},"@@transducer/result":function(){return e._emitEnd(),null}}}function Pe(e,t){return new(e._ofSameType(an,nn))(e,{transducer:t})}function Ne(e,t){return new(e._ofSameType(on,sn))(e,{fn:t})}function Oe(e,t){var a=this;_.call(this),this._buffers=c(e,function(e){return ln(e)?d(e):[]}),this._sources=c(e,function(e){return ln(e)?E():e}),this._combinator=t?O(t,this._sources.length):function(e){return e},this._aliveCount=0,this._$handlers=[];for(var n=function(e){a._$handlers.push(function(t){return a._handleAny(e,t)})},r=0;r<this._sources.length;r++)n(r)}function Ke(e,t){return 0===e.length?E():new Oe(e,t)}function Re(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},a=t.queueLim,n=a===void 0?0:a,r=t.concurLim,o=r===void 0?-1:r,s=t.drop,i=s===void 0?"new":s;_.call(this),this._queueLim=0>n?-1:n,this._concurLim=0>o?-1:o,this._drop=i,this._queue=[],this._curSources=[],this._$handleSubAny=function(t){return e._handleSubAny(t)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function qe(e){Re.call(this),this._addAll(e),this._initialised=!0}function Be(e){return 0===e.length?E():new qe(e)}function Fe(e){var t=this;_.call(this),this._generator=e,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(e){return t._handleAny(e)}}function He(e){return pn(function(t){return!!(e.length>t)&&e[t]}).setName("concat")}function je(){Re.call(this)}function Ue(e,t,a){var n=this;Re.call(this,a),this._source=e,this._fn=t,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(e){return n._handleMain(e)}}function ze(e,t){Ue.call(this,e,t)}function $e(e,t){return function(a,n,r){var o=this;e.call(this),this._primary=a,this._secondary=n,this._name=a._name+"."+t,this._lastSecondary=it,this._$handleSecondaryAny=function(e){return o._handleSecondaryAny(e)},this._$handlePrimaryAny=function(e){return o._handlePrimaryAny(e)},this._init(r)}}function Ge(e){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(e){this._emitValue(e)},_handlePrimaryError:function(e){this._emitError(e)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(e){this._lastSecondary=e},_handleSecondaryError:function(e){this._emitError(e)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(e){switch(e.type){case"value":return this._handlePrimaryValue(e.value);case"error":return this._handlePrimaryError(e.value);case"end":return this._handlePrimaryEnd(e.value);}},_handleSecondaryAny:function(e){switch(e.type){case"value":return this._handleSecondaryValue(e.value);case"error":return this._handleSecondaryError(e.value);case"end":this._handleSecondaryEnd(e.value),this._removeSecondary();}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){e.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Ye(e,t){var a=$e(_,e);return o(a,_,Ge(_),t),a}function We(e,t){var a=$e(k,e);return o(a,k,Ge(k),t),a}function Qe(e,t){return new(e._ofSameType(un,yn))(e,t)}function Xe(e,t,n){var a=n?function(e,t){return n(t,e)}:hn;return se([t],[e],a).setName(e,"sampledBy")}function Je(e,t){return new(e._ofSameType(fn,mn))(e,t)}function Ze(e,t){return new(e._ofSameType(vn,_n))(e,t)}function et(e,t,a){return new(e._ofSameType(En,Ln))(e,t,a)}function tt(e,t,a){return new(e._ofSameType(Vn,Cn))(e,t,a)}function at(e,t){var a=Be([ie(e,f),ie(t,xn)]);return a=ge(a),a=G(a,xn),a.setName(e,"awaiting")}function nt(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Tn;return new(e._ofSameType(Dn,In))(e,{fn:t})}function rt(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Pn;return new(e._ofSameType(An,Mn))(e,{fn:t})}function ot(e){return new(e._ofSameType(On,Kn))(e)}function st(e){if(qn&&console&&"function"==typeof console.warn){console.warn(e,"\nHere is an Error object for you containing the call stack:",new Error)}}var it=["<nothing>"],lt="end",dt="value",pt="error",ct="any";r(b.prototype,{add:function(e,t){return this._items=s(this._items,[{type:e,fn:t}]),this._items.length},remove:function(e,t){var a=l(this._items,function(a){return a.type===e&&a.fn===t});return 0!==this._inLoop&&-1!==a&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[a])),this._items=p(this._items,a),this._items.length},addSpy:function(e){return this._spies=s(this._spies,[e]),this._spies.length},removeSpy:function(e){return this._spies=p(this._spies,this._spies.indexOf(e)),this._spies.length},dispatch:function(e){this._inLoop++;for(var t=0,a=this._spies;null!==this._spies&&t<a.length;t++)a[t](e);for(var n=0,r=this._items;n<r.length&&!(null===this._items);n++)if(!(null!==this._removedItems&&h(this._removedItems,r[n]))){m(r[n].type,r[n].fn,e)}this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),r(v.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(e){this._active!==e&&(this._active=e,e?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(e,t){return e===dt?this._emitValue(t):e===pt?this._emitError(t):e===lt?this._emitEnd():void 0},_emitValue:function(e){this._alive&&this._dispatcher.dispatch({type:dt,value:e})},_emitError:function(e){this._alive&&this._dispatcher.dispatch({type:pt,value:e})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:lt}),this._clear())},_on:function(e,t){return this._alive?(this._dispatcher.add(e,t),this._setActive(!0)):m(e,t,{type:lt}),this},_off:function(e,t){if(this._alive){var a=this._dispatcher.remove(e,t);0===a&&this._setActive(!1)}return this},onValue:function(e){return this._on(dt,e)},onError:function(e){return this._on(pt,e)},onEnd:function(e){return this._on(lt,e)},onAny:function(e){return this._on(ct,e)},offValue:function(e){return this._off(dt,e)},offError:function(e){return this._off(pt,e)},offEnd:function(e){return this._off(lt,e)},offAny:function(e){return this._off(ct,e)},observe:function(e,t,a){var n=this,r=!1,o=e&&"function"!=typeof e?e:{value:e,error:t,end:a},s=function(e){e.type===lt&&(r=!0),e.type===dt&&o.value?o.value(e.value):e.type===pt&&o.error?o.error(e.value):e.type===lt&&o.end&&o.end(e.value)};return this.onAny(s),{unsubscribe:function(){r||(n.offAny(s),r=!0)},get closed(){return r}}},_ofSameType:function(e,t){return e.prototype.getType()===this.getType()?e:t},setName:function(e,t){return this._name=t?e._name+"."+t:e,this},log:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.toString(),t=void 0,a=function(a){var n="<"+a.type+(t?":current":"")+">";a.type===lt?console.log(e,n):console.log(e,n,a.value)};return this._alive&&(!this._logHandlers&&(this._logHandlers=[]),this._logHandlers.push({name:e,handler:a})),t=!0,this.onAny(a),t=!1,this},offLog:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._logHandlers){var t=l(this._logHandlers,function(t){return t.name===e});-1!==t&&(this.offAny(this._logHandlers[t].handler),this._logHandlers.splice(t,1))}return this},spy:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.toString(),t=function(t){var a="<"+t.type+">";t.type===lt?console.log(e,a):console.log(e,a,t.value)};return this._alive&&(!this._spyHandlers&&(this._spyHandlers=[]),this._spyHandlers.push({name:e,handler:t}),this._dispatcher.addSpy(t)),this},offSpy:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._spyHandlers){var t=l(this._spyHandlers,function(t){return t.name===e});-1!==t&&(this._dispatcher.removeSpy(this._spyHandlers[t].handler),this._spyHandlers.splice(t,1))}return this}}),v.prototype.toString=function(){return"["+this._name+"]"},o(_,v,{_name:"stream",getType:function(){return"stream"}}),o(k,v,{_name:"property",_emitValue:function(e){this._alive&&(this._currentEvent={type:dt,value:e},!this._activating&&this._dispatcher.dispatch({type:dt,value:e}))},_emitError:function(e){this._alive&&(this._currentEvent={type:pt,value:e},!this._activating&&this._dispatcher.dispatch({type:pt,value:e}))},_emitEnd:function(){this._alive&&(this._alive=!1,!this._activating&&this._dispatcher.dispatch({type:lt}),this._clear())},_on:function(e,t){return this._alive&&(this._dispatcher.add(e,t),this._setActive(!0)),null!==this._currentEvent&&m(e,t,this._currentEvent),this._alive||m(e,t,{type:lt}),this},getType:function(){return"property"}});var ut=new _;ut._emitEnd(),ut._name="never";var yt=L({_name:"later",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),S=L({_name:"interval",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),ht=L({_name:"sequentially",_init:function(e){var t=e.xs;this._xs=d(t)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),gt=L({_name:"fromPoll",_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_onTick:function(){var e=this._fn;this._emitValue(e())}}),ft=L({_name:"withInterval",_init:function(e){var t=e.fn;this._fn=t,this._emitter=I(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var e=this._fn;e(this._emitter)}});o(w,_,{_name:"stream",_onActivation:function(){var e=this._fn,t=e(I(this));this._unsubscribe="function"==typeof t?t:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){_.prototype._clear.call(this),this._fn=null}});var mt=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];o(B,k,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),o(F,k,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var bt=$("toProperty",{_init:function(e){var t=e.fn;this._getInitialCurrent=t},_onActivation:function(){if(null!==this._getInitialCurrent){var e=this._getInitialCurrent;this._emitValue(e())}this._source.onAny(this._$handleAny)}}),vt=z("changes",{_handleValue:function(e){this._activating||this._emitValue(e)},_handleError:function(e){this._activating||this._emitError(e)}}),_t=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Q(),a=null;return new t(function(t,n){e.onAny(function(e){e.type===lt&&null!==a?((a.type===dt?t:n)(a.value),a=null):a=e})})},kt="undefined"==typeof window?"undefined"==typeof commonjsGlobal?"undefined"==typeof self?{}:self:commonjsGlobal:window,Et=X(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.Symbol,a;return"function"==typeof t?t.observable?a=t.observable:(a=t("observable"),t.observable=a):a="@@observable",a}}),Lt=X(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(Et),n;n="undefined"==typeof self?"undefined"==typeof window?"undefined"==typeof kt?e:kt:window:self;var r=(0,a["default"])(n);t["default"]=r}),St=Lt,Vt=St.default?St.default:St;r(Z.prototype,{subscribe:function(e,t,a){var n=this,r="function"==typeof e?{next:e,error:t,complete:a}:e,o=function(e){e.type===lt&&(s=!0),e.type===dt&&r.next?r.next(e.value):e.type===pt&&r.error?r.error(e.value):e.type===lt&&r.complete&&r.complete(e.value)};this._observable.onAny(o);var s=!1,i={unsubscribe:function(){s=!0,n._observable.offAny(o)},get closed(){return s}};return i}}),Z.prototype[Vt]=function(){return this},o(ne,_,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var e=this._activeCount;e<this._sources.length;e++)this._sources[e].onAny(this._$handlers[e]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var e=this._sources.length,t;for(t=0;t<e;t++)this._sources[t].offAny(this._$handlers[t])},_emitIfFull:function(){for(var e=!0,t=!1,a=this._latestValues.length,n=Array(a),r=Array(a),o=0;o<a;o++)n[o]=this._latestValues[o],r[o]=this._latestErrors[o],n[o]===it&&(e=!1),void 0!==r[o]&&(t=!0);if(e){var s=this._combinator;this._emitValue(s(n))}t&&this._emitError(ae(r))},_handleAny:function(e,t){t.type===dt||t.type===pt?(t.type===dt&&(this._latestValues[e]=t.value,this._latestErrors[e]=void 0),t.type===pt&&(this._latestValues[e]=it,this._latestErrors[e]={index:this._latestErrorIndex++,error:t.value}),e<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):e<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){_.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var Ct=Object.freeze({Observable:{empty:function(){return E()},concat:function(e,t){return e.merge(t)},of:function(e){return P(e)},map:function(e,t){return t.map(e)},bimap:function(e,t,a){return a.mapErrors(e).map(t)},ap:function(e,t){return se([e,t],function(e,t){return e(t)})},chain:function(e,t){return t.flatMap(e)}}}),xt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;this._emitValue(t(e))}},Dt=z("map",xt),It=$("map",xt),Tt=function(e){return e},wt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;t(e)&&this._emitValue(e)}},At=z("filter",wt),Mt=$("filter",wt),Pt=function(e){return e},Nt={_init:function(e){var t=e.n;this._n=t,0>=t&&this._emitEnd()},_handleValue:function(e){0===this._n||(this._n--,this._emitValue(e),0===this._n&&this._emitEnd())}},Ot=z("take",Nt),Kt=$("take",Nt),Rt={_init:function(e){var t=e.n;this._n=t,0>=t&&this._emitEnd()},_handleError:function(e){0===this._n||(this._n--,this._emitError(e),0===this._n&&this._emitEnd())}},qt=z("takeErrors",Rt),Bt=$("takeErrors",Rt),Ft={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;t(e)?this._emitValue(e):this._emitEnd()}},Ht=z("takeWhile",Ft),jt=$("takeWhile",Ft),Ut=function(e){return e},zt={_init:function(){this._lastValue=it},_free:function(){this._lastValue=null},_handleValue:function(e){this._lastValue=e},_handleEnd:function(){this._lastValue!==it&&this._emitValue(this._lastValue),this._emitEnd()}},$t=z("last",zt),Gt=$("last",zt),Yt={_init:function(e){var t=e.n;this._n=a(0,t)},_handleValue:function(e){0===this._n?this._emitValue(e):this._n--}},Wt=z("skip",Yt),Qt=$("skip",Yt),Xt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;null===this._fn||t(e)||(this._fn=null),null===this._fn&&this._emitValue(e)}},Jt=z("skipWhile",Xt),Zt=$("skipWhile",Xt),ea=function(e){return e},ta={_init:function(e){var t=e.fn;this._fn=t,this._prev=it},_free:function(){this._fn=null,this._prev=null},_handleValue:function(e){var t=this._fn;this._prev!==it&&t(this._prev,e)||(this._prev=e,this._emitValue(e))}},aa=z("skipDuplicates",ta),na=$("skipDuplicates",ta),ra=function(e,t){return e===t},oa={_init:function(e){var t=e.fn,a=e.seed;this._fn=t,this._prev=a},_free:function(){this._prev=null,this._fn=null},_handleValue:function(e){if(this._prev!==it){var t=this._fn;this._emitValue(t(this._prev,e))}this._prev=e}},sa=z("diff",oa),ia=$("diff",oa),la=$("scan",{_init:function(e){var t=e.fn,a=e.seed;this._fn=t,this._seed=a,a!==it&&this._emitValue(a)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(e){var t=this._fn;null===this._currentEvent||this._currentEvent.type===pt?this._emitValue(this._seed===it?e:t(this._seed,e)):this._emitValue(t(this._currentEvent.value,e))}}),da=z("flatten",{_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){for(var t=this._fn,a=t(e),n=0;n<a.length;n++)this._emitValue(a[n])}}),pa=function(e){return e},ca={},ua={_init:function(e){var t=this,n=e.wait;this._wait=a(0,n),this._buff=[],this._$shiftBuff=function(){var e=t._buff.shift();e===ca?t._emitEnd():t._emitValue(e)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._buff.push(e),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(ca),setTimeout(this._$shiftBuff,this._wait))}},ya=z("delay",ua),ha=$("delay",ua),ga=Date.now?function(){return Date.now()}:function(){return new Date().getTime()},fa={_init:function(e){var t=this,n=e.wait,r=e.leading,o=e.trailing;this._wait=a(0,n),this._leading=r,this._trailing=o,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return t._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(e){if(this._activating)this._emitValue(e);else{var t=ga();0!==this._lastCallTime||this._leading||(this._lastCallTime=t);var a=this._wait-(t-this._lastCallTime);0>=a?(this._cancelTrailing(),this._lastCallTime=t,this._emitValue(e)):this._trailing&&(this._cancelTrailing(),this._trailingValue=e,this._timeoutId=setTimeout(this._$trailingCall,a))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?ga():0,this._endLater&&this._emitEnd()}},ma=z("throttle",fa),ba=$("throttle",fa),va={_init:function(e){var t=this,n=e.wait,r=e.immediate;this._wait=a(0,n),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return t._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._lastAttempt=ga(),this._immediate&&!this._timeoutId&&this._emitValue(e),!this._timeoutId&&(this._timeoutId=setTimeout(this._$later,this._wait)),!this._immediate&&(this._laterValue=e))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var e=ga()-this._lastAttempt;e<this._wait&&0<=e?this._timeoutId=setTimeout(this._$later,this._wait-e):(this._timeoutId=null,!this._immediate&&(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},_a=z("debounce",va),ka=$("debounce",va),Ea={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;this._emitError(t(e))}},La=z("mapErrors",Ea),Sa=$("mapErrors",Ea),Va=function(e){return e},Ca={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;t(e)&&this._emitError(e)}},xa=z("filterErrors",Ca),Da=$("filterErrors",Ca),Ia=function(e){return e},Ta={_handleValue:function(){}},wa=z("ignoreValues",Ta),Aa=$("ignoreValues",Ta),Ma={_handleError:function(){}},Pa=z("ignoreErrors",Ma),Na=$("ignoreErrors",Ma),Oa={_handleEnd:function(){}},Ka=z("ignoreEnd",Oa),Ra=$("ignoreEnd",Oa),qa={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleEnd:function(){var e=this._fn;this._emitValue(e()),this._emitEnd()}},Ba=z("beforeEnd",qa),Fa=$("beforeEnd",qa),Ha={_init:function(e){var t=e.min,a=e.max;this._max=a,this._min=t,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(e){this._buff=g(this._buff,e,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},ja=z("slidingWindow",Ha),Ua=$("slidingWindow",Ha),za={_init:function(e){var t=e.fn,a=e.flushOnEnd;this._fn=t,this._flushOnEnd=a,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e);var t=this._fn;t(e)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},$a=z("bufferWhile",za),Ga=$("bufferWhile",za),Ya=function(e){return e},Wa={_init:function(e){var t=e.count,a=e.flushOnEnd;this._count=t,this._flushOnEnd=a,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Qa=z("bufferWithCount",Wa),Xa=$("bufferWithCount",Wa),Ja={_init:function(e){var t=this,a=e.wait,n=e.count,r=e.flushOnEnd;this._wait=a,this._count=n,this._flushOnEnd=r,this._intervalId=null,this._$onTick=function(){return t._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},Za=z("bufferWithTimeOrCount",Ja),en=$("bufferWithTimeOrCount",Ja),tn={_init:function(e){var t=e.transducer;this._xform=t(Me(this))},_free:function(){this._xform=null},_handleValue:function(e){null!==this._xform["@@transducer/step"](null,e)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},an=z("transduce",tn),nn=$("transduce",tn),rn={_init:function(e){var t=e.fn;this._handler=t,this._emitter=I(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(e){this._handler(this._emitter,e)}},on=z("withHandler",rn),sn=$("withHandler",rn),ln=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};o(Oe,_,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var e=this._sources.length;this._aliveCount=e;for(var t=0;t<e&&this._active;t++)this._sources[t].onAny(this._$handlers[t])},_onDeactivation:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].offAny(this._$handlers[e])},_emit:function(){for(var e=Array(this._buffers.length),t=0;t<this._buffers.length;t++)e[t]=this._buffers[t].shift();var a=this._combinator;this._emitValue(a(e))},_isFull:function(){for(var e=0;e<this._buffers.length;e++)if(0===this._buffers[e].length)return!1;return!0},_handleAny:function(e,t){t.type===dt&&(this._buffers[e].push(t.value),this._isFull()&&this._emit()),t.type===pt&&this._emitError(t.value),t.type===lt&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){_.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var dn=function(e){return e};o(Re,_,{_name:"abstractPool",_add:function(e,t){t=t||dn,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(t(e)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(t(e)):"old"===this._drop&&(this._removeOldest(),this._add(e,t))},_addAll:function(e){var t=this;u(e,function(e){return t._add(e)})},_remove:function(e){-1===this._removeCur(e)&&this._removeQueue(e)},_addToQueue:function(e){this._queue=s(this._queue,[e])},_addToCur:function(e){if(this._active){if(!e._alive)return e._currentEvent&&this._emit(e._currentEvent.type,e._currentEvent.value),void(0===this._queue.length?0===this._curSources.length&&this._onEmpty():this._pullQueue());this._currentlyAdding=e,e.onAny(this._$handleSubAny),this._currentlyAdding=null,e._alive&&(this._curSources=s(this._curSources,[e]),this._active&&this._subToEnd(e))}else this._curSources=s(this._curSources,[e])},_subToEnd:function(e){var t=this,a=function(){return t._removeCur(e)};this._$endHandlers.push({obs:e,handler:a}),e.onEnd(a)},_subscribe:function(e){e.onAny(this._$handleSubAny),this._active&&this._subToEnd(e)},_unsubscribe:function(e){e.offAny(this._$handleSubAny);var t=l(this._$endHandlers,function(t){return t.obs===e});-1!==t&&(e.offEnd(this._$endHandlers[t].handler),this._$endHandlers.splice(t,1))},_handleSubAny:function(e){e.type===dt?this._emitValue(e.value):e.type===pt&&this._emitError(e.value)},_removeQueue:function(e){var t=i(this._queue,e);return this._queue=p(this._queue,t),t},_removeCur:function(e){this._active&&this._unsubscribe(e);var t=i(this._curSources,e);return this._curSources=p(this._curSources,t),-1!==t&&(0===this._queue.length?0===this._curSources.length&&this._onEmpty():this._pullQueue()),t},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=d(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var e=0,t=this._curSources;e<t.length&&this._active;e++)this._subscribe(t[e])},_onDeactivation:function(){for(var e=0,t=this._curSources;e<t.length;e++)this._unsubscribe(t[e]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){_.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),o(qe,Re,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),o(Fe,_,{_name:"repeat",_handleAny:function(e){e.type===lt?(this._source=null,this._getSource()):this._emit(e.type,e.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var e=this._generator;null===this._source&&this._alive&&this._active;)this._source=e(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){_.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var pn=function(e){return new Fe(e)};o(je,Re,{_name:"pool",plug:function(e){return this._add(e),this},unplug:function(e){return this._remove(e),this}}),o(Ue,Re,{_onActivation:function(){Re.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Re.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(e){if(e.type===dt){var t=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value;t||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1}e.type===pt&&this._emitError(e.value),e.type===lt&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Re.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),o(ze,Ue,{_handleMain:function(e){if(e.type===pt){var t=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value;t||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1}e.type===dt&&this._emitValue(e.value),e.type===lt&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var cn={_handlePrimaryValue:function(e){this._lastSecondary!==it&&this._lastSecondary&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary!==it&&this._lastSecondary||this._emitEnd()}},un=Ye("filterBy",cn),yn=We("filterBy",cn),hn=function(e,t){return t},gn={_handlePrimaryValue:function(e){this._lastSecondary!==it&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary===it&&this._emitEnd()}},fn=Ye("skipUntilBy",gn),mn=We("skipUntilBy",gn),bn={_handleSecondaryValue:function(){this._emitEnd()}},vn=Ye("takeUntilBy",bn),_n=We("takeUntilBy",bn),kn={_init:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.flushOnEnd;this._buff=[],this._flushOnEnd=!(t!==void 0)||t},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(e){this._buff.push(e)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},En=Ye("bufferBy",kn),Ln=We("bufferBy",kn),Sn={_init:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.flushOnEnd,a=e.flushOnChange;this._buff=[],this._flushOnEnd=!(t!==void 0)||t,this._flushOnChange=a!==void 0&&a},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(e){this._buff.push(e),this._lastSecondary===it||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){!this._flushOnEnd&&(this._lastSecondary===it||this._lastSecondary)&&this._emitEnd()},_handleSecondaryValue:function(e){this._flushOnChange&&!e&&this._flush(),this._lastSecondary=e}},Vn=Ye("bufferWhileBy",Sn),Cn=We("bufferWhileBy",Sn),xn=function(){return!1},f=function(){return!0},t={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn,a=t(e);a.convert?this._emitError(a.error):this._emitValue(e)}},Dn=z("valuesToErrors",t),In=$("valuesToErrors",t),Tn=function(e){return{convert:!0,error:e}},wn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn,a=t(e);a.convert?this._emitValue(a.value):this._emitError(e)}},An=z("errorsToValues",wn),Mn=$("errorsToValues",wn),Pn=function(e){return{convert:!0,value:e}},Nn={_handleError:function(e){this._emitError(e),this._emitEnd()}},On=z("endOnError",Nn),Kn=$("endOnError",Nn);v.prototype.toProperty=function(e){return G(this,e)},v.prototype.changes=function(){return Y(this)},v.prototype.toPromise=function(e){return _t(this,e)},v.prototype.toESObservable=ee,v.prototype[Vt]=ee,v.prototype.map=function(e){return ie(this,e)},v.prototype.filter=function(e){return le(this,e)},v.prototype.take=function(e){return de(this,e)},v.prototype.takeErrors=function(e){return pe(this,e)},v.prototype.takeWhile=function(e){return ce(this,e)},v.prototype.last=function(){return ue(this)},v.prototype.skip=function(e){return ye(this,e)},v.prototype.skipWhile=function(e){return he(this,e)},v.prototype.skipDuplicates=function(e){return ge(this,e)},v.prototype.diff=function(e,t){return me(this,e,t)},v.prototype.scan=function(e,t){return be(this,e,t)},v.prototype.flatten=function(e){return ve(this,e)},v.prototype.delay=function(e){return _e(this,e)},v.prototype.throttle=function(e,t){return ke(this,e,t)},v.prototype.debounce=function(e,t){return Ee(this,e,t)},v.prototype.mapErrors=function(e){return Le(this,e)},v.prototype.filterErrors=function(e){return Se(this,e)},v.prototype.ignoreValues=function(){return Ve(this)},v.prototype.ignoreErrors=function(){return Ce(this)},v.prototype.ignoreEnd=function(){return xe(this)},v.prototype.beforeEnd=function(e){return De(this,e)},v.prototype.slidingWindow=function(e,t){return Ie(this,e,t)},v.prototype.bufferWhile=function(e,t){return Te(this,e,t)},v.prototype.bufferWithCount=function(e,t){return we(this,e,t)},v.prototype.bufferWithTimeOrCount=function(e,t,a){return Ae(this,e,t,a)},v.prototype.transduce=function(e){return Pe(this,e)},v.prototype.withHandler=function(e){return Ne(this,e)},v.prototype.thru=function(e){return e(this)},v.prototype.combine=function(e,t){return se([this,e],t)},v.prototype.zip=function(e,t){return Ke([this,e],t)},v.prototype.merge=function(e){return Be([this,e])},v.prototype.concat=function(e){return He([this,e])};var Rn=function(){return new je};v.prototype.flatMap=function(e){return new Ue(this,e).setName(this,"flatMap")},v.prototype.flatMapLatest=function(e){return new Ue(this,e,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},v.prototype.flatMapFirst=function(e){return new Ue(this,e,{concurLim:1}).setName(this,"flatMapFirst")},v.prototype.flatMapConcat=function(e){return new Ue(this,e,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},v.prototype.flatMapConcurLimit=function(e,t){return new Ue(this,e,{queueLim:-1,concurLim:t}).setName(this,"flatMapConcurLimit")},v.prototype.flatMapErrors=function(e){return new ze(this,e).setName(this,"flatMapErrors")},v.prototype.filterBy=function(e){return Qe(this,e)},v.prototype.sampledBy=function(e,t){return Xe(this,e,t)},v.prototype.skipUntilBy=function(e){return Je(this,e)},v.prototype.takeUntilBy=function(e){return Ze(this,e)},v.prototype.bufferBy=function(e,t){return et(this,e,t)},v.prototype.bufferWhileBy=function(e,t){return tt(this,e,t)};var qn=!0;v.prototype.awaiting=function(e){return st("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),at(this,e)},v.prototype.valuesToErrors=function(e){return st("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),nt(this,e)},v.prototype.errorsToValues=function(e){return st("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),rt(this,e)},v.prototype.endOnError=function(){return st("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),ot(this)};var Bn={Observable:v,Stream:_,Property:k,never:E,later:V,interval:C,sequentially:x,fromPoll:D,withInterval:T,fromCallback:M,fromNodeCallback:N,fromEvents:q,stream:A,constant:P,constantError:H,fromPromise:W,fromESObservable:J,combine:se,zip:Ke,merge:Be,concat:He,Pool:je,pool:Rn,repeat:pn,staticLand:Ct};Bn.Kefir=Bn,e.dissableDeprecationWarnings=function(){qn=!1},e.Kefir=Bn,e.Observable=v,e.Stream=_,e.Property=k,e.never=E,e.later=V,e.interval=C,e.sequentially=x,e.fromPoll=D,e.withInterval=T,e.fromCallback=M,e.fromNodeCallback=N,e.fromEvents=q,e.stream=A,e.constant=P,e.constantError=H,e.fromPromise=W,e.fromESObservable=J,e.combine=se,e.zip=Ke,e.merge=Be,e.concat=He,e.Pool=je,e.pool=Rn,e.repeat=pn,e.staticLand=Ct,e["default"]=Bn,Object.defineProperty(e,"__esModule",{value:!0})})}),Kefir=unwrapExports(kefir),metaSymbol$2=canSymbol_1_6_1_canSymbol.for("can.meta"),onKeyValueSymbol$4=canSymbol_1_6_1_canSymbol.for("can.onKeyValue"),offKeyValueSymbol$3=canSymbol_1_6_1_canSymbol.for("can.offKeyValue"),keyNames={value:{on:"onValue",off:"offValue",handler:"onValueHandler",handlers:"onValueHandlers"},error:{on:"onError",off:"offError",handler:"onErrorHandler",handlers:"onErrorHandlers"}};function ensureMeta$3(e){var t=e[metaSymbol$2];return t||(t={},canReflect_1_17_4_canReflect.setKeyValue(e,metaSymbol$2,t)),t}function getCurrentValue(e,t){if(e._currentEvent&&e._currentEvent.type===t)return e._currentEvent.value;var a=keyNames[t];if(!a)return e[t];var n=function(e){r=e},r;return e[a.on](n),e[a.off](n),r}Kefir&&(Kefir.Observable.prototype._eventSetup=function(){var e=this,t=ensureMeta$3(e);t.bound=!0,t.onValueHandler=function(a){var n=t.value;t.value=a,a!==n&&map$1.dispatch.call(e,{type:"value"},[a,n])},t.onErrorHandler=function(a){var n=t.error;t.error=a,map$1.dispatch.call(e,{type:"error"},[a,n])},e.onValue(t.onValueHandler),e.onError(t.onErrorHandler)},Kefir.Observable.prototype._eventTeardown=function(){var e=this,t=ensureMeta$3(e);t.bound=!1,e.offValue(t.onValueHandler),e.offError(t.onErrorHandler)},canReflect_1_17_4_canReflect.assignSymbols(Kefir.Observable.prototype,{"can.onKeyValue":function(){return map$1[onKeyValueSymbol$4].apply(this,arguments)},"can.offKeyValue":function(){return map$1[offKeyValueSymbol$3].apply(this,arguments)},"can.getKeyValue":function(e){var t=this,a=ensureMeta$3(t);if(!keyNames[e])return t[e];if(canObservationRecorder_1_2_0_canObservationRecorder.add(t,e),a.bound)return a[e];var n=getCurrentValue(t,e);return a[e]=n,n},"can.getValueDependencies":function(){var e=this,t;if(null==e._source?null!=e._sources&&(t=e._sources):t=[e._source],null!=t)return{valueDependencies:new Set(t)}}}),Kefir.emitterProperty=function(){var e=!1,t=Kefir.stream(function(t){return n=t,e&&n.value(r),function(){n=void 0}}),a=t.toProperty(function(){return r}),n,r;return a.emitter={value:function(t){return n?n.emit(t):void(e=!0,r=t)},error:function(e){if(n)return n.error(e)}},a.emitter.emit=a.emitter.value,canReflect_1_17_4_canReflect.assignSymbols(a,{"can.setKeyValue":function(e,t){this.emitter[e](t)}}),a});var canKefir_1_1_0_canKefir=Kefir,canCompute_4_1_0_protoCompute=createCommonjsModule(function(e,t){var a=function(){for(var e=[],t=0,a=arguments.length;t<a;t++)e[t]=arguments[t];var n=typeof e[1];if("function"==typeof e[0])this._setupGetterSetterFn(e[0],e[1],e[2],e[3]);else if(!(e[1]!==void 0))this._setupSimpleValue(e[0]);else if("string"==n||"number"==n){var r=canReflect_1_17_4_canReflect.isObservableLike(e[0])&&canReflect_1_17_4_canReflect.isListLike(e[0]),o=canReflect_1_17_4_canReflect.isObservableLike(e[0])&&canReflect_1_17_4_canReflect.isMapLike(e[0]);if(o||r){var s=e[0],l=e[1],d=function(e){return arguments.length?void canStacheKey_1_4_0_canStacheKey.set(s,l,e):(r&&canStacheKey_1_4_0_canStacheKey.get(s,"length"),canStacheKey_1_4_0_canStacheKey.get(s,""+l))};this._setupGetterSetterFn(d,e[1],e[2],e[3])}else this._setupProperty(e[0],e[1],e[2])}else"function"==n?this._setupSetter(e[0],e[1],e[2]):e[1]&&e[1].fn?this._setupAsyncCompute(e[0],e[1]):this._setupSettings(e[0],e[1]);this._args=e,this._primaryDepth=0,this.isComputed=!0},n=function(e,t,a,n){t!==a&&(t===t||a===a)&&e.dispatch({type:"change",batchNum:n},[t,a])},r=function(e,t,a){var n=new canObservation_4_1_0_canObservation(t,a,e),r=e.updater.bind(e);return e.observation=n,{_on:function(){canReflect_1_17_4_canReflect.onValue(n,r,"notify"),e.value=n.hasOwnProperty("_value")?n._value:n.value},_off:function(){canReflect_1_17_4_canReflect.offValue(n,r,"notify")},getDepth:function(){return n.getDepth()}}};map$1(a.prototype),canAssign_1_3_1_canAssign(a.prototype,{setPrimaryDepth:function(e){this._primaryDepth=e},_setupGetterSetterFn:function(e,t,a){this._set=t?e.bind(t):e,this._get=t?e.bind(t):e,this._canObserve=!1!==a;var n=r(this,e,t||this);canAssign_1_3_1_canAssign(this,n)},_setupProperty:function(e,t,a){var n=this,r;r=function(){n.updater(n._get(),n.value)},this._get=function(){return get_1(e,t)},this._set=function(a){var n=t.split("."),r=n.pop();if(n.length){var o=get_1(e,n.join("."));o[r]=a}else e[t]=a},this._on=function(){map$1.on.call(e,a||t,r),this.value=this._get()},this._off=function(){return map$1.off.call(e,a||t,r)}},_setupSetter:function(e,t,a){this.value=e,this._set=t,canAssign_1_3_1_canAssign(this,a)},_setupSettings:function(e,t){if(this.value=e,this._set=t.set||this._set,this._get=t.get||this._get,!t.__selfUpdater){var a=this,n=this.updater;this.updater=function(){n.call(a,a._get(),a.value)}}this._on=t.on?t.on:this._on,this._off=t.off?t.off:this._off},_setupAsyncCompute:function(e,t){var n=this,o=t.fn,s;if(this.value=e,this._setUpdates=!0,this.lastSetValue=new a(e),this._set=function(e){return e===n.lastSetValue.get()?this.value:n.lastSetValue.set(e)},this._get=function(){return o.call(t.context,n.lastSetValue.get())},0===o.length)s=r(this,o,t.context);else if(1===o.length)s=r(this,function(){return o.call(t.context,n.lastSetValue.get())},t);else{var i=this.updater,l=canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(e){i.call(n,e,n.value)});this.updater=function(e){i.call(n,e,n.value)},s=r(this,function(){var e=o.call(t.context,n.lastSetValue.get(),l);return void 0===e?this.value:e},this)}canAssign_1_3_1_canAssign(this,s)},_setupSimpleValue:function(e){this.value=e},_eventSetup:canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(){this.bound=!0,this._on(this.updater)}),_eventTeardown:function(){this._off(this.updater),this.bound=!1},clone:function(e){return e&&"function"==typeof this._args[0]?this._args[1]=e:e&&(this._args[2]=e),new a(this._args[0],this._args[1],this._args[2],this._args[3])},_on:function(){},_off:function(){},get:function(){var e=canObservationRecorder_1_2_0_canObservationRecorder.isRecording();return e&&!1!==this._canObserve&&(canObservationRecorder_1_2_0_canObservationRecorder.add(this,"change"),!this.bound&&a.temporarilyBind(this)),this.bound?this.observation?this.observation.get():this.value:this._get()},_get:function(){return this.value},set:function(e){var t=this.value,a=this._set(e,t);return this._setUpdates?this.value:this.hasDependencies?this._get():(this.updater(void 0===a?this._get():a,t),this.value)},_set:function(e){return this.value=e},updater:function(e,t,a){this.value=e;var r=this.observation;r&&(r.hasOwnProperty("_value")?r._value=e:r.value=e),n(this,e,t,a)},toFunction:function(){return this._computeFn.bind(this)},_computeFn:function(e){return arguments.length?this.set(e):this.get()}}),a.prototype.on=a.prototype.bind=a.prototype.addEventListener,a.prototype.off=a.prototype.unbind=a.prototype.removeEventListener;var o=function(){return this.observation&&this.observation.hasDependencies()};Object.defineProperty(a.prototype,"hasDependencies",{get:o}),a.temporarilyBind=canObservation_4_1_0_canObservation.temporarilyBind,a.async=function(e,t,n){return new a(e,{fn:t,context:n})},a.truthy=function(e){return new a(function(){var t=e.get();return"function"==typeof t&&(t=t.get()),!!t})},canReflect_1_17_4_canReflect.assignSymbols(a.prototype,{"can.isValueLike":!0,"can.isMapLike":!1,"can.isListLike":!1,"can.setValue":a.prototype.set,"can.getValue":a.prototype.get,"can.valueHasDependencies":o,"can.onValue":function(e,t){function a(t,a,n){e(a,n)}canSingleReference_1_2_0_canSingleReference.set(e,this,a),this.addEventListener("change",a,t)},"can.offValue":function(e,t){this.removeEventListener("change",canSingleReference_1_2_0_canSingleReference.getAndDelete(e,this),t)},"can.getValueDependencies":function(){var e;return this.observation&&(e={valueDependencies:new Set([this.observation])}),e}}),e.exports=t=a}),canOnValueSymbol=canSymbol_1_6_1_canSymbol.for("can.onValue"),canOffValueSymbol=canSymbol_1_6_1_canSymbol.for("can.offValue"),canGetValue=canSymbol_1_6_1_canSymbol.for("can.getValue"),canSetValue=canSymbol_1_6_1_canSymbol.for("can.setValue"),isValueLike$1=canSymbol_1_6_1_canSymbol.for("can.isValueLike"),isMapLike$1=canSymbol_1_6_1_canSymbol.for("can.isMapLike"),isListLike$1=canSymbol_1_6_1_canSymbol.for("can.isListLike"),isFunctionLike$1=canSymbol_1_6_1_canSymbol.for("can.isFunctionLike"),canValueHasDependencies=canSymbol_1_6_1_canSymbol.for("can.valueHasDependencies"),canGetValueDependencies=canSymbol_1_6_1_canSymbol.for("can.getValueDependencies"),addEventListener=function(e,t){var a=this,n;return t&&(n=function(){t.apply(a,arguments)},canSingleReference_1_2_0_canSingleReference.set(t,this,n)),a.computeInstance.addEventListener(e,n)},removeEventListener=function(e,t){var a=[];return"undefined"!=typeof e&&(a.push(e),"undefined"!=typeof t&&a.push(canSingleReference_1_2_0_canSingleReference.getAndDelete(t,this))),this.computeInstance.removeEventListener.apply(this.computeInstance,a)},onValue=function(e,t){return this.computeInstance[canOnValueSymbol](e,t)},offValue=function(e,t){return this.computeInstance[canOffValueSymbol](e,t)},getValue$1=function(){return this.computeInstance.get()},setValue=function(e){return this.computeInstance.set(e)},hasDependencies=function(){return this.computeInstance.hasDependencies},getDependencies=function(){return this.computeInstance[canGetValueDependencies]()},COMPUTE=function(e,t,a,n){function r(e){return arguments.length?r.computeInstance.set(e):r.computeInstance.get()}return r.computeInstance=new canCompute_4_1_0_protoCompute(e,t,a,n),r.on=r.bind=r.addEventListener=addEventListener,r.off=r.unbind=r.removeEventListener=removeEventListener,r.isComputed=r.computeInstance.isComputed,r.clone=function(a){return"function"==typeof e&&(t=a),COMPUTE(e,t,a,n)},getSet.set(r,canOnValueSymbol,onValue),getSet.set(r,canOffValueSymbol,offValue),getSet.set(r,canGetValue,getValue$1),getSet.set(r,canSetValue,setValue),getSet.set(r,isValueLike$1,!0),getSet.set(r,isMapLike$1,!1),getSet.set(r,isListLike$1,!1),getSet.set(r,isFunctionLike$1,!1),getSet.set(r,canValueHasDependencies,hasDependencies),getSet.set(r,canGetValueDependencies,getDependencies),r};COMPUTE.truthy=function(e){return COMPUTE(function(){var t=e();return!!t})},COMPUTE.async=function(e,t,a){return COMPUTE(e,{fn:t,context:a})},COMPUTE.temporarilyBind=canCompute_4_1_0_protoCompute.temporarilyBind;var canCompute_4_1_0_canCompute=canNamespace_1_0_0_canNamespace.compute=COMPUTE,toComputeFromEvent=function(e,t){var a,n;return canCompute_4_1_0_canCompute(void 0,{on:function(r){a=function(e){n=canAssign_1_3_1_canAssign({args:[].slice.call(arguments,1)},e),r()},e.on(t,a)},off:function(){e.off(t,a),n=void 0},get:function(){return n}})},STREAM=function(e){var t=function(){if(1===arguments.length)return e.toStream(arguments[0]);if(1<arguments.length){var t=arguments[0],n=arguments[1].trim();if(-1===n.indexOf(" "))return 0===n.indexOf(".")?a.toStreamFromProperty(t,n.slice(1)):a.toStreamFromEvent(t,n);var r=n.split(" ");return a.toStreamFromEvent(t,r[0].slice(1),r[1])}},a;return a=t,a.toStream=a,a.toStreamFromProperty=function(t,a){return e.toStream(canCompute_4_1_0_canCompute(t,a))},a.toStreamFromEvent=function(){var t=arguments[0],a,n,r,o;if(2===arguments.length)return o=toComputeFromEvent(t,arguments[1]),e.toStream(o);n=arguments[1],a=arguments[2],r=t[n];var s=canCompute_4_1_0_canCompute(t,n),i,l;o=canCompute_4_1_0_canCompute(void 0,{on:function(e){i=function(t,a){r=a,e(r)},l=function(e,t,n){n.off(a,i),t.on(a,i)},s.on("change",l),s().on(a,i)},off:function(){s().off(a,i),s.off("change",l)},get:function(){return r},set:function(){throw new Error("can-stream: you can't set this type of compute")}});var d=e.toStream(o);return d},a.toCompute=function(){var t=canReflect_1_17_4_canReflect.toArray(arguments);return e.toCompute.apply(this,t)},a};STREAM.toComputeFromEvent=toComputeFromEvent;var canStream_1_1_0_canStream=canNamespace_1_0_0_canNamespace.stream=STREAM,canStreamKefir_1_2_0_canStreamKefir=createCommonjsModule(function(e){var t=canSymbol_1_6_1_canSymbol.for("can.getValueDependencies"),a=canSymbol_1_6_1_canSymbol.for("can.getKeyDependencies"),n={};n.toStream=function(e){var a=canKefir_1_1_0_canKefir.stream(function(t){var a=function(e,a){t.emit(a)};e.on("change",a);var n=e();return void 0!==n&&t.emit(n),function(){e.off("change",a)}});return a[t]=function(){return{valueDependencies:new Set([e])}},a},n.toCompute=function(e,t){var n=canKefir_1_1_0_canKefir.stream(function(t){i=t,void 0!==p&&i.emit(p)}),r=e.call(t,n),o=canCompute_4_1_0_canCompute(void 0,{get:function(){return l},set:function(e){return i?i.emit(e):p=e,e},on:function(e){d=function(t){l=t,e()},r.onValue(d)},off:function(){r.offValue(d)}}),s=o.computeInstance,i,l,d,p;return s[a]=function(e){if("change"===e)return{valueDependencies:new Set([r])}},o},canNamespace_1_0_0_canNamespace.streamKefir||(e.exports=canNamespace_1_0_0_canNamespace.streamKefir=canStream_1_1_0_canStream(n))}),canDefineStreamKefir_1_1_0_canDefineStreamKefir=canNamespace_1_0_0_canNamespace.defineStreamKefir=canDefineStream_1_1_0_canDefineStream(canStreamKefir_1_2_0_canStreamKefir),Symbols={metaSymbol:canSymbol_1_6_1_canSymbol.for("can.meta"),patchesSymbol:"can.patches",keysSymbol:"can.keys"},ObservableStore={proxiedObjects:new WeakMap,proxies:new WeakSet},metaSymbol$3=canSymbol_1_6_1_canSymbol.for("can.meta"),classTest=/^\s*class\s+/,helpers$2={assignEverything:function(e,t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}),e},isBuiltInButNotArrayOrPlainObject:function(e){if(Array.isArray(e))return!1;if("function"==typeof e){var t=e.toString();return!!(0<t.indexOf("[native code]"))}var a=Object.prototype.toString.call(e);return"[object Object]"!==a&&-1!==a.indexOf("[object ")},inheritsFromArray:function(e){var t=e;do{if(Array.isArray(t))return!0;t=Object.getPrototypeOf(t)}while(t);return!1},isClass:function(e){return"function"==typeof e&&classTest.test(e.toString())},supportsClass:function(){try{return eval("\"use strict\"; class A{};"),!0}catch(t){return!1}}(),makeSimpleExtender:function(e){return function(t,a,n){var r=function(){var t=this,a=e.apply(this,arguments);return t.init&&(a[metaSymbol$3].preventSideEffects++,t.init.apply(a,arguments),a[metaSymbol$3].preventSideEffects--),a};return helpers$2.assignEverything(r,e),helpers$2.assignEverything(r,a||{}),r.extend=helpers$2.makeSimpleExtender(r),r.prototype=Object.create(e.prototype),helpers$2.assignEverything(r.prototype,n||{}),r.prototype.constructor=r,r}},assignNonEnumerable:function(e,t,a){return Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:a})}},Helpers=helpers$2,ComputedHelpers=createCommonjsModule(function(e){function t(e,t,a){this.instance=e,this.prop=t,this.observation=a,this.forward=this.forward.bind(this)}function a(e,a){var o=e[n],s=o.target,i=s[r];if(void 0!==i){var l=i[a];if(void 0!==l)return void 0===o.computedKeys[a]&&(o.computedKeys[a]=new t(e,a,l(e,a))),o.computedKeys[a]}}var n=canSymbol_1_6_1_canSymbol.for("can.meta"),r=canSymbol_1_6_1_canSymbol.for("can.computedPropertyDefinitions"),o=canSymbol_1_6_1_canSymbol.for("can.onKeyValue"),s=canSymbol_1_6_1_canSymbol.for("can.offKeyValue");t.prototype.bind=function(){this.bindingCount++,1===this.bindingCount&&this.observation.on(this.forward,"notify")},t.prototype.unbind=function(){this.bindingCount--,0===this.bindingCount&&this.observation.off(this.forward,"notify")},t.prototype.forward=function(e,t){map$1.dispatch.call(this.instance,{type:this.prop,target:this.instance},[e,t])},t.prototype.bindingCount=0;var i=e.exports={get:function(e,t){var n=a(e,t);if(void 0!==n)return canObservationRecorder_1_2_0_canObservationRecorder.add(e,t.toString()),0===n.bindingCount&&canObservationRecorder_1_2_0_canObservationRecorder.isRecording()&&canObservation_4_1_0_canObservation.temporarilyBind(n.observation),{value:canReflect_1_17_4_canReflect.getValue(n.observation)}},set:function(e,t,n){var r=a(e,t);return void 0!==r&&(canReflect_1_17_4_canReflect.setValue(r.observation,n),!0)},bind:function(e,t){var n=a(e,t);void 0===n||n.bind()},unbind:function(e,t){var n=a(e,t);void 0===n||n.unbind()},addKeyDependencies:function(e){var t=e[o],n=e[s];canReflect_1_17_4_canReflect.assignSymbols(e,{"can.onKeyValue":function(e){return i.bind(this,e),t.apply(this,arguments)},"can.offKeyValue":function(e){return i.unbind(this,e),n.apply(this,arguments)},"can.getKeyDependencies":function(e){var t=a(this,e);return void 0===t?void 0:{valueDependencies:new Set([t.observation])}}})},addMethodsAndSymbols:function(e){e.prototype.addEventListener=function(e,t,a){return i.bind(this,e),map$1.addEventListener.call(this,e,t,a)},e.prototype.removeEventListener=function(e,t,a){return i.unbind(this,e),map$1.removeEventListener.call(this,e,t,a)}},ensureDefinition:function(e){if(!e.hasOwnProperty(r)){var t=e[r],a=e[r]=Object.create(t||null);Object.getOwnPropertyNames(e).forEach(function(t){if("constructor"!==t){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0!==n.get){var r=n.get;a[t]=function(e){return new canObservation_4_1_0_canObservation(r,e)}}}})}return e[r]}}}),ComputedHelpers_1=ComputedHelpers.get,ComputedHelpers_2=ComputedHelpers.set,ComputedHelpers_3=ComputedHelpers.bind,ComputedHelpers_4=ComputedHelpers.unbind,ComputedHelpers_5=ComputedHelpers.addKeyDependencies,ComputedHelpers_6=ComputedHelpers.addMethodsAndSymbols,ComputedHelpers_7=ComputedHelpers.ensureDefinition,hasOwn=Object.prototype.hasOwnProperty,isSymbolLike$1=canReflect_1_17_4_canReflect.isSymbolLike,proxyKeys=Object.create(null);Object.getOwnPropertySymbols(map$1).forEach(function(e){Helpers.assignNonEnumerable(proxyKeys,e,map$1[e])}),ComputedHelpers.addKeyDependencies(proxyKeys);var makeObject={observable:function(e,t){void 0===t.shouldRecordObservation&&(t.shouldRecordObservation=makeObject.shouldRecordObservationOnOwnAndMissingKeys);var a={target:e,proxyKeys:void 0===t.proxyKeys?Object.create(makeObject.proxyKeys()):t.proxyKeys,computedKeys:Object.create(null),options:t,preventSideEffects:0};Helpers.assignNonEnumerable(a.proxyKeys,Symbols.metaSymbol,a);var n={get:makeObject.get.bind(a),set:makeObject.set.bind(a),ownKeys:makeObject.ownKeys.bind(a),deleteProperty:makeObject.deleteProperty.bind(a),getOwnPropertyDescriptor:makeObject.getOwnPropertyDescriptor.bind(a),meta:a};return t.getPrototypeOf&&(n.getPrototypeOf=t.getPrototypeOf),a.proxy=new Proxy(e,n),map$1.addHandlers(a.proxy,a),a.proxy},proxyKeys:function(){return proxyKeys},get:function(e,t,a){var n=this.proxyKeys[t];if(void 0!==n)return n;if(isSymbolLike$1(t))return e[t];var r=ComputedHelpers.get(a,t);if(void 0!==r)return r.value;var o=makeObject.getKeyInfo(e,t,a,this),s=o.targetValue;return o.valueIsInvariant||(s=makeObject.getValueFromStore(t,s,this)),this.options.shouldRecordObservation(o,this)&&canObservationRecorder_1_2_0_canObservationRecorder.add(this.proxy,t.toString()),o.parentObservableGetCalledOn&&canObservationRecorder_1_2_0_canObservationRecorder.add(o.parentObservableGetCalledOn,t.toString()),s},set:function(e,t,a,n){if(n!==this.proxy)return makeObject.setKey(n,t,a,this);var r=ComputedHelpers.set(n,t,a);return!(!0!==r)||(a=makeObject.getValueToSet(t,a,this),makeObject.setValueAndOnChange(t,a,this,function(e,t,a,n,r){var o={type:e,patches:[{key:e,type:n?"set":"add",value:t}],keyChanged:n?void 0:e};map$1.dispatch.call(a.proxy,o,[t,r])}),!0)},deleteProperty:function(e,t){var a=this.target[t],n=delete this.target[t];if(n&&0===this.preventSideEffects&&a!==void 0){map$1.dispatch.call(this.proxy,{type:t,patches:[{key:t,type:"delete"}],keyChanged:t},[void 0,a])}return n},ownKeys:function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(this.proxy,Symbols.keysSymbol),Object.getOwnPropertyNames(this.target).concat(Object.getOwnPropertySymbols(this.target)).concat(Object.getOwnPropertySymbols(this.proxyKeys))},getOwnPropertyDescriptor:function(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return!a&&t in this.proxyKeys?Object.getOwnPropertyDescriptor(this.proxyKeys,t):a},getKeyInfo:function(e,t,a,n){var r=Object.getOwnPropertyDescriptor(e,t),o={key:t,descriptor:r,targetHasOwnKey:!!r,getCalledOnParent:a!==n.proxy,protoHasKey:!1,valueIsInvariant:!1,targetValue:void 0,isAccessor:!1};return!0===o.getCalledOnParent&&(o.parentObservableGetCalledOn=ObservableStore.proxiedObjects.get(a)),void 0===r?(o.targetValue=n.target[t],o.protoHasKey=void 0!==o.targetValue||t in e):(o.valueIsInvariant=!1===r.writable,void 0===r.get?o.targetValue=r.value:(o.targetValue=r.get.call(o.parentObservableGetCalledOn||a),o.isAccessor=!0)),o},shouldRecordObservationOnOwnAndMissingKeys:function(e,t){return 0===t.preventSideEffects&&!e.isAccessor&&(e.targetHasOwnKey||!e.protoHasKey&&!Object.isSealed(t.target))},setKey:function(e,t,a){return Object.defineProperty(e,t,{value:a,configurable:!0,enumerable:!0,writable:!0}),!0},getValueToSet:function(e,t,a){return!canReflect_1_17_4_canReflect.isSymbolLike(e)&&a.handlers.getNode([e])?makeObject.getValueFromStore(e,t,a):t},getValueFromStore:function(e,t,a){return canReflect_1_17_4_canReflect.isPrimitive(t)||canReflect_1_17_4_canReflect.isObservableLike(t)||ObservableStore.proxies.has(t)||(ObservableStore.proxiedObjects.has(t)?t=ObservableStore.proxiedObjects.get(t):!Helpers.isBuiltInButNotArrayOrPlainObject(t)&&(t=a.options.observe(t))),t},setValueAndOnChange:function(e,t,a,n){var r=hasOwn.call(a.target,e),o=Object.getOwnPropertyDescriptor(a.target,e),s,i;o&&o.set?o.set.call(a.proxy,t):(s=a.target[e],i=s!==t,i&&(a.target[e]=t,0===a.preventSideEffects&&n(e,t,a,r,s)))}},MakeObject=makeObject,isSymbolLike$2=canReflect_1_17_4_canReflect.isSymbolLike,isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function didLengthChangeCauseDeletions(e,t,a){return"length"===e&&t<a}var mutateMethods={push:function(e,t){return[{index:e.length-t.length,deleteCount:0,insert:t,type:"splice"}]},pop:function(e){return[{index:e.length,deleteCount:1,insert:[],type:"splice"}]},shift:function(){return[{index:0,deleteCount:1,insert:[],type:"splice"}]},unshift:function(e,t){return[{index:0,deleteCount:0,insert:t,type:"splice"}]},splice:function(e,t){return[{index:t[0],deleteCount:t[1],insert:t.slice(2),type:"splice"}]},sort:function(e){return[{index:0,deleteCount:e.length,insert:e,type:"splice"}]},reverse:function(e){return[{index:0,deleteCount:e.length,insert:e,type:"splice"}]}};canReflect_1_17_4_canReflect.eachKey(mutateMethods,function(e,t){var a=Array.prototype[t],n=function(){var t=this[Symbols.metaSymbol],n=0===t.preventSideEffects,r=t.target.length;t.preventSideEffects++;var o=a.apply(t.target,arguments),s=e(t.target,Array.from(arguments),r);if(!0==n){map$1.dispatch.call(t.proxy,{type:"length",patches:s},[t.target.length,r])}return t.preventSideEffects--,o};ObservableStore.proxiedObjects.set(a,n),ObservableStore.proxies.add(n)}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){var t=Array.prototype[e];if(!ObservableStore.proxiedObjects.has(t)&&"constructor"!==e&&"function"==typeof t){var a=function(){canObservationRecorder_1_2_0_canObservationRecorder.add(this,Symbols.patchesSymbol);var e=this[Symbols.metaSymbol];e.preventSideEffects++;var a=t.apply(this,arguments);return e.preventSideEffects--,e.options.observe(a)};ObservableStore.proxiedObjects.set(t,a),ObservableStore.proxies.add(a)}});var proxyKeys$1=Helpers.assignEverything(Object.create(null),MakeObject.proxyKeys()),makeArray$1={observable:function(e,t){void 0===t.shouldRecordObservation&&(t.shouldRecordObservation=MakeObject.shouldRecordObservationOnOwnAndMissingKeys);var a={target:e,proxyKeys:void 0===t.proxyKeys?Object.create(makeArray$1.proxyKeys()):t.proxyKeys,computedKeys:Object.create(null),options:t,preventSideEffects:0};return a.proxyKeys[Symbols.metaSymbol]=a,a.proxy=new Proxy(e,{get:MakeObject.get.bind(a),set:makeArray$1.set.bind(a),ownKeys:MakeObject.ownKeys.bind(a),deleteProperty:MakeObject.deleteProperty.bind(a),meta:a}),map$1.addHandlers(a.proxy,a),a.proxy},proxyKeys:function(){return proxyKeys$1},set:function(e,t,a,n){if(n!==this.proxy)return MakeObject.setKey(n,t,a,this);var r=ComputedHelpers.set(n,t,a);if(!0===r)return!0;a=MakeObject.getValueToSet(t,a,this);var o=e.length;return MakeObject.setValueAndOnChange(t,a,this,function(t,a,n,r,s){var i=[{key:t,type:r?"set":"add",value:a}],l=!isSymbolLike$2(t)&&+t;isInteger(l)&&(!r&&l>o?i.push({index:o,deleteCount:0,insert:e.slice(o),type:"splice"}):i.push.apply(i,mutateMethods.splice(e,[l,1,a]))),didLengthChangeCauseDeletions(t,a,s,n)&&i.push({index:a,deleteCount:s-a,insert:[],type:"splice"});var d={type:t,patches:i,keyChanged:r?void 0:t};map$1.dispatch.call(n.proxy,d,[a,s])}),!0}},MakeArray=makeArray$1,makeObserve={observe:function(e){if(canReflect_1_17_4_canReflect.isPrimitive(e))return e;var t=ObservableStore.proxiedObjects.get(e);return t?t:ObservableStore.proxies.has(e)?e:Helpers.isBuiltInButNotArrayOrPlainObject(e)?e:(t="function"==typeof e?makeObserve.function(e):Helpers.inheritsFromArray(e)?makeObserve.array(e):makeObserve.object(e),ObservableStore.proxiedObjects.set(e,t),ObservableStore.proxies.add(t),t)},object:null,array:null,function:null},MakeObserve=makeObserve,proxyKeys$2=Helpers.assignEverything(Object.create(null),MakeObject.proxyKeys());type$1(proxyKeys$2),canReflect_1_17_4_canReflect.assignSymbols(proxyKeys$2,{"can.defineInstanceKey":function(e,t){this[Symbols.metaSymbol].definitions[e]=t}});var makeFunction={observable:function(e,t){void 0===t.shouldRecordObservation&&(t.shouldRecordObservation=MakeObject.shouldRecordObservationOnOwnAndMissingKeys);var a=Object.create(makeFunction.proxyKeys()),n={target:e,proxyKeys:a,computedKeys:Object.create(null),options:t,definitions:{},isClass:Helpers.isClass(e),preventSideEffects:0};if(a[Symbols.metaSymbol]=n,n.proxy=new Proxy(e,{get:MakeObject.get.bind(n),set:MakeObject.set.bind(n),ownKeys:MakeObject.ownKeys.bind(n),deleteProperty:MakeObject.deleteProperty.bind(n),construct:makeFunction.construct.bind(n),apply:makeFunction.apply.bind(n),meta:n}),map$1.addHandlers(n.proxy,n),type$1.addHandlers(n.proxy,n),ObservableStore.proxiedObjects.set(e,n.proxy),ObservableStore.proxies.add(n.proxy),n.target.prototype&&n.target.prototype.constructor===n.target){var r=MakeObject.observable(n.target.prototype,{getPrototypeOf:function(){return n.target.prototype},observe:MakeObserve.observe});ObservableStore.proxiedObjects.set(n.target.prototype,r),ObservableStore.proxies.add(r);var o=n.proxy.prototype;o.constructor=n.proxy}return n.proxy},construct:function(e,t,a){var n,r;if(this.isClass){for(r in n=Reflect.construct(e,t,a),this.definitions)Object.defineProperty(n,r,this.definitions[r]);return this.options.observe(n)}for(r in n=Object.create(this.proxy.prototype),this.definitions)Object.defineProperty(n,r,this.definitions[r]);var o=this.options.observe(n);o[Symbols.metaSymbol].preventSideEffects++;var s=e.apply(o,t);return o[Symbols.metaSymbol].preventSideEffects--,s?s:o},apply:function(e,t,a){var n=this.target.apply(t,a);return this.options.observe(n)},proxyKeys:function(){return proxyKeys$2}},MakeFunction=makeFunction,TypeHelpers=createCommonjsModule(function(e){var t=canSymbol_1_6_1_canSymbol.for("can.meta"),a=canSymbol_1_6_1_canSymbol.for("can.typeDefinitions"),n=e.exports={ensureDefinition:function(e){var t=e[a];if(!t){var n=e[a];t=e[a]=Object.create(n||null)}return t},addMethodsAndSymbols:function(e){canReflect_1_17_4_canReflect.assignSymbols(e,{"can.defineInstanceKey":function(e,t){n.ensureDefinition(this.prototype)[e]=t},"can.dispatchInstanceBoundChange":function(e,a){var n=this[t];if(n){var r=n.lifecycleHandlers;r&&canQueues_1_1_3_canQueues.enqueueByQueue(r.getNode([]),this,[e,a])}}})},shouldRecordObservationOnAllKeysExceptFunctionsOnProto:function(e,t){return 0===t.preventSideEffects&&!e.isAccessor&&(e.targetHasOwnKey||!e.protoHasKey&&!Object.isSealed(t.target)||e.protoHasKey&&"function"!=typeof targetValue)}}}),TypeHelpers_1=TypeHelpers.ensureDefinition,TypeHelpers_2=TypeHelpers.addMethodsAndSymbols,TypeHelpers_3=TypeHelpers.shouldRecordObservationOnAllKeysExceptFunctionsOnProto,definitionsSymbol=canSymbol_1_6_1_canSymbol.for("can.typeDefinitions"),proxyKeys$3=Helpers.assignEverything({},MakeObject.proxyKeys());ComputedHelpers.addKeyDependencies(proxyKeys$3);var ObserveObject=function(e){var t=Object.getPrototypeOf(this);ComputedHelpers.ensureDefinition(t),TypeHelpers.ensureDefinition(t);var a=this,n=t[definitionsSymbol]||{};for(var r in n)Object.defineProperty(a,r,n[r]);void 0!==e&&canReflect_1_17_4_canReflect.assign(a,e);var o=Object.create(proxyKeys$3);o.constructor=this.constructor;var s=MakeObject.observable(a,{observe:MakeObserve.observe,proxyKeys:o,shouldRecordObservation:TypeHelpers.shouldRecordObservationOnAllKeysExceptFunctionsOnProto});return ObservableStore.proxiedObjects.set(a,s),ObservableStore.proxies.add(s),s};map$1(ObserveObject.prototype),type$1(ObserveObject),ComputedHelpers.addMethodsAndSymbols(ObserveObject),TypeHelpers.addMethodsAndSymbols(ObserveObject),ObserveObject.extend=Helpers.makeSimpleExtender(ObserveObject);var object=ObserveObject,definitionsSymbol$1=canSymbol_1_6_1_canSymbol.for("can.typeDefinitions"),proxyKeys$4=Helpers.assignEverything({},MakeArray.proxyKeys()),ObserveArray;{var ObserveArray=function(e){var t=Object.getPrototypeOf(this);ComputedHelpers.ensureDefinition(t),TypeHelpers.ensureDefinition(t);var a=this,n=t[definitionsSymbol$1]||{};for(var r in n)Object.defineProperty(a,r,n[r]);this.push.apply(this,e||[]);var o=Object.create(proxyKeys$4);o.constructor=this.constructor;var s=MakeArray.observable(a,{observe:MakeObserve.observe,proxyKeys:o,shouldRecordObservation:TypeHelpers.shouldRecordObservationOnAllKeysExceptFunctionsOnProto});return ObservableStore.proxiedObjects.set(a,s),ObservableStore.proxies.add(s),s};ObserveArray.prototype=Object.create(Array.prototype)}map$1(ObserveArray.prototype),type$1(ObserveArray),ComputedHelpers.addMethodsAndSymbols(ObserveArray),TypeHelpers.addMethodsAndSymbols(ObserveArray),ObserveArray.extend=Helpers.makeSimpleExtender(ObserveArray);var array=ObserveArray;function defineProperty(e,t,a){ComputedHelpers.ensureDefinition(e)[t]=a}function asyncBase(e){return function(t,a,n){if(n.get!==void 0){var r=n.get;return defineProperty(t,a,function(t){return new async(function(t,a){if(!a)return e.default;var n=r.call(this,!0);if(canReflect_1_17_4_canReflect.isPromise(n))return n.then(a),e.default},t,e.default)})}if(void 0!==n.value){var o=n.value;return defineProperty(t,a,function(t){return new async(function(e,t){return o.call(this,t)},t,e.default)})}}}function resolverBase(){return function(e,t,a){if(a.value!==void 0){var n=a.value;return defineProperty(e,t,function(e){return new resolver(n,e)})}}}function optionalConfig(e){return function(t){return 3===arguments.length?e({}).apply(null,arguments):e(t)}}var decorators={async:optionalConfig(asyncBase),resolver:optionalConfig(resolverBase)},canObserve_2_2_0_canObserve=createCommonjsModule(function(e){for(var t in MakeObserve.object=function(e){return MakeObject.observable(e,MakeObserve)},MakeObserve.array=function(e){return MakeArray.observable(e,MakeObserve)},MakeObserve.function=function(e){return MakeFunction.observable(e,MakeObserve)},MakeObserve.observe.Object=object,MakeObserve.observe.Array=array,e.exports=MakeObserve.observe,e.exports.defineProperty=function(e,t,a){ComputedHelpers.ensureDefinition(e)[t]=a},decorators)e.exports[t]=decorators[t]}),canObserve_2_2_0_canObserve_1=canObserve_2_2_0_canObserve.defineProperty,canMapCompat_1_1_0_canMapCompat=createCommonjsModule(function(e,t){function a(e,t){var a=e.prototype,n="function"==typeof a.attr;if(n)return e;return a.attr=function(e,a){!0===t&&canLog_1_0_0_canLog.warn("can-map-compat is intended for migrating away from can-map. Remove all uses of .attr() to remove this warning.");var n=typeof e,r=arguments.length;return 0===r?canReflect_1_17_4_canReflect.unwrap(this):"string"!=n&&"number"!=n?(!0===a?canReflect_1_17_4_canReflect.updateDeep(this,e):canReflect_1_17_4_canReflect.assignDeep(this,e),this):1===r?canKey_1_2_0_canKey.get(this,e):(canKey_1_2_0_canKey.set(this,e,a),this)},a.removeAttr=function(e){var t=canReflect_1_17_4_canReflect.getKeyValue(this,e);return canReflect_1_17_4_canReflect.deleteKeyValue(this,e),t},e}t=e.exports=function(e){return a(e,!0)},t.makeCompat=a}),canMapCompat_1_1_0_canMapCompat_1=canMapCompat_1_1_0_canMapCompat.makeCompat,shouldPop=!1;canStache_4_10_5_canStache("{{echo(args(1))}}")({echo:function(){},args:function(){shouldPop=1<arguments.length}}),canStache_4_10_5_canStache.registerConverter("boolean-to-inList",{get:function(e,t){return!!t&&-1!==t.indexOf(e)},set:function(e,t,a){if(a)if(!e){var n=a.indexOf(t);-1!==n&&a.splice(n,1)}else a.push(t)}});var converters={"string-to-any":{get:function(e){return""+canReflect_1_17_4_canReflect.getValue(e)},set:function(e,t){var a=canStringToAny_1_2_0_canStringToAny(e);canReflect_1_17_4_canReflect.setValue(t,a)}},not:{get:function(e){return!canReflect_1_17_4_canReflect.getValue(e)},set:function(e,t){canReflect_1_17_4_canReflect.setValue(t,!e)}},"index-to-selected":{get:function(e,t){var a=canReflect_1_17_4_canReflect.getValue(e),n=canReflect_1_17_4_canReflect.getValue(t).indexOf(a);return n},set:function(e,t,a){var n=canReflect_1_17_4_canReflect.getValue(a)[e];canReflect_1_17_4_canReflect.setValue(t,n)}},"selected-to-index":{get:function(e,t){var a=canReflect_1_17_4_canReflect.getValue(e),n=canReflect_1_17_4_canReflect.getValue(t),r=n[a];return r},set:function(e,t,a){var n=canReflect_1_17_4_canReflect.getValue(a).indexOf(e);canReflect_1_17_4_canReflect.setValue(t,n)}},"either-or":{get:function(e,t,a){var n=canReflect_1_17_4_canReflect.getValue(e),r=canReflect_1_17_4_canReflect.getValue(t),o=canReflect_1_17_4_canReflect.getValue(a),s=r===n;return s||o===n?s:void 0},set:function(e,t,n,a){var r=e?canReflect_1_17_4_canReflect.getValue(n):canReflect_1_17_4_canReflect.getValue(a);canReflect_1_17_4_canReflect.setValue(t,r)}},equal:{get:function(){var e=canReflect_1_17_4_canReflect.toArray(arguments);if(shouldPop&&e.pop(),1<e.length){var t=canReflect_1_17_4_canReflect.getValue(e.pop());return e.every(function(e){var a=canReflect_1_17_4_canReflect.getValue(e);return a===t})}},set:function(){var e=canReflect_1_17_4_canReflect.toArray(arguments);if(shouldPop&&e.pop(),2<e.length){var t=e.shift(),a=e.pop();if(t)for(var n=0;n<e.length;n++)canReflect_1_17_4_canReflect.setValue(e[n],a)}}}};canStache_4_10_5_canStache.addConverter(converters);var canStacheConverters_4_2_4_canStacheConverters=converters,camelize=canString_1_0_0_canString.camelize,ignoreAttributesRegExp=/^(dataViewId|class|id|type|src)$/i,typeMatch=/\s*text\/(stache)\s*/;function isIn(e,t){for(;e.parentNode;)if(e=e.parentNode,e.nodeName.toLowerCase()===t.toLowerCase())return!0}function setAttr(e,t,a){var n=camelize(t);if(!ignoreAttributesRegExp.test(n)){var r=e.getAttribute(t);a.attr?a.attr(n,r):a.set?a.set(n,r):a[n]=r}}function insertAfter(e,t){e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)}function render(e,t,a){var n=e(t);isIn(a,"head")?document.body.appendChild(n):"script"===a.nodeName.toLowerCase()?insertAfter(a,n):(insertAfter(a,n),a.parentNode.removeChild(a))}function setupScope(e){var t=canViewModel_4_0_1_canViewModel(e);return canReflect_1_17_4_canReflect.each(e.attributes||[],function(a){setAttr(e,a.name,t)}),canDomEvents_1_3_0_canDomEvents.addEventListener(e,"attributes",function(a){setAttr(e,a.attributeName,t)}),t}var promise=new Promise(function(e,t){function a(){var a=[];canReflect_1_17_4_canReflect.each(document.querySelectorAll("[can-autorender]"),function(e){e.style.display="none";var t=e.innerHTML||e.text,n=e.getAttribute("type"),r=n.match(typeMatch),o=r&&r[1];a.push(canImportModule_1_2_0_canImportModule("can-"+o).then(function(a){if(a.async)return a.async(t).then(function(t){render(t,setupScope(e),e)});var n=a(t);render(n,setupScope(e),e)}))}),Promise.all(a).then(e,t)}"complete"===document.readyState?a():canDomEvents_1_3_0_canDomEvents.addEventListener(window,"load",a)}),canViewAutorender_5_0_1_canViewAutorender=canNamespace_1_0_0_canNamespace.autorender=function(e,t){return promise.then(e,t)};function superModel(e){e=canReflect_1_17_4_canReflect.assignDeep({},e),e.name||(e.name=canReflect_1_17_4_canReflect.getName(e.Map)+".connection"),e.queryLogic||(e.queryLogic=new canQueryLogic_1_1_0_canQueryLogic(e.Map));var t=[constructor_1,map$5,ref,store,callbacks,combineRequests_1,parse$1,url,realTime,callbacksOnce];return"undefined"!=typeof localStorage&&(!e.cacheConnection&&(e.cacheConnection=canConnect_3_0_2_canConnect([localstorageCache],{name:e.name+".cacheConnection",idProp:e.idProp,queryLogic:e.queryLogic})),t.push(callbacksCache,fallThroughCache_1)),canConnect_3_0_2_canConnect(t,e)}var canSuperModel_1_0_1_canSuperModel=canNamespace_1_0_0_canNamespace.superModel=superModel;function getIdProp(e){var t=e.algebra&&e.algebra.clauses&&e.algebra.clauses.id,a;if(t&&(a=Object.keys(t)[0]),!a&&!e.idProp)throw new Error("An idProp was not set in the Model for "+e+". Things may not work as expected.");return a||e.idProp}var service=canConnect_3_0_2_canConnect.behavior("data/feathers-service",function(e){if(!this.feathersService)throw new Error("You must provide a feathersService to the feathers-service behavior: https://canjs.com/doc/can-connect-feathers.html");var t=this.feathersService;return{init:function(){e.init.apply(this,arguments);var a=this;t.on("created",function(e){a.createInstance(e)}),t.on("updated",function(e){a.updateInstance(e)}),t.on("patched",function(e){a.updateInstance(e)}),t.on("removed",function(e){a.destroyInstance(e)})},getListData:function(e){return t.find({query:e})},getData:function(e){var a=null,n=getIdProp(this);return"string"==typeof e||"number"==typeof e?(a=e,e={}):e&&"undefined"!=typeof e[n]&&(a=e[n],delete e[n]),t.get(a,{query:e})},createData:function(e){return t.create(e)},updateData:function(e){var a=getIdProp(this);return t.update(e[a],e)},destroyData:function(e){var a=getIdProp(this);return t.remove(e[a])}}}),s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d,ms_2_0_0_index=function(e,t){t=t||{};var a=typeof e;if("string"==a&&0<e.length)return parse$2(e);if("number"==a&&!1===isNaN(e))return t.long?fmtLong(e):fmtShort(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse$2(e){if(e+="",!(100<e.length)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();return"years"===n||"year"===n||"yrs"===n||"yr"===n||"y"===n?a*y:"days"===n||"day"===n||"d"===n?a*d:"hours"===n||"hour"===n||"hrs"===n||"hr"===n||"h"===n?a*h:"minutes"===n||"minute"===n||"mins"===n||"min"===n||"m"===n?a*m:"seconds"===n||"second"===n||"secs"===n||"sec"===n||"s"===n?a*s:"milliseconds"===n||"millisecond"===n||"msecs"===n||"msec"===n||"ms"===n?a:void 0}}}function fmtShort(e){var t=Math.round;return e>=d?t(e/d)+"d":e>=h?t(e/h)+"h":e>=m?t(e/m)+"m":e>=s?t(e/s)+"s":e+"ms"}function fmtLong(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(e,t,a){return e<t?void 0:e<1.5*t?Math.floor(e/t)+" "+a:Math.ceil(e/t)+" "+a+"s"}var debug=createCommonjsModule(function(e,t){function a(e){var a=0,n;for(n in e)a=(a<<5)-a+e.charCodeAt(n),a|=0;return t.colors[Math.abs(a)%t.colors.length]}function n(e){function n(){if(n.enabled){var e=n,a=+new Date,r=a-(o||a);e.diff=r,e.prev=o,e.curr=a,o=a;for(var s=Array(arguments.length),l=0;l<s.length;l++)s[l]=arguments[l];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var d=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(a,n){if("%%"===a)return a;d++;var r=t.formatters[n];if("function"==typeof r){var o=s[d];a=r.call(e,o),s.splice(d,1),d--}return a}),t.formatArgs.call(e,s);var p=n.log||t.log||console.log.bind(console);p.apply(e,s)}}var o;return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=a(e),n.destroy=r,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function o(e){t.save(e),t.names=[],t.skips=[];var a=("string"==typeof e?e:"").split(/[\s,]+/),n=a.length,r;for(r=0;r<n;r++)a[r]&&(e=a[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var o=t.instances[r];o.enabled=t.enabled(o.namespace)}}function s(){t.enable("")}function i(e){if("*"===e[e.length-1])return!0;var a,n;for(a=0,n=t.skips.length;a<n;a++)if(t.skips[a].test(e))return!1;for(a=0,n=t.names.length;a<n;a++)if(t.names[a].test(e))return!0;return!1}t=e.exports=n.debug=n["default"]=n,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=s,t.enable=o,t.enabled=i,t.humanize=ms_2_0_0_index,t.instances=[],t.names=[],t.skips=[],t.formatters={}}),debug_1=debug.coerce,debug_2=debug.disable,debug_3=debug.enable,debug_4=debug.enabled,debug_5=debug.humanize,debug_6=debug.instances,debug_7=debug.names,debug_8=debug.skips,debug_9=debug.formatters,browser=createCommonjsModule(function(e,t){function a(e){var a=this.useColors;if(e[0]=(a?"%c":"")+this.namespace+(a?" %c":" ")+e[0]+(a?"%c ":" ")+"+"+t.humanize(this.diff),!!a){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"===e||(r++,"%c"===e&&(o=r))}),e.splice(o,0,n)}}function n(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(t){}}function r(){var e;try{e=t.storage.debug}catch(t){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}t=e.exports=debug,t.log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=a,t.save=n,t.load=r,t.useColors=function(){return!!("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}),browser_1=browser.log,browser_2=browser.formatArgs,browser_3=browser.save,browser_4=browser.load,browser_5=browser.useColors,browser_6=browser.storage,browser_7=browser.colors,feathersErrors_2_9_2_lib=createCommonjsModule(function(e,t){function a(e,t,n,r,o){e=e||"Error";var s=void 0,i=void 0,l=void 0;e instanceof Error?(i=e.message||"Error",e.errors&&(s=e.errors)):"object"===("undefined"==typeof e?"undefined":_(e))?(i=e.message||"Error",o=e):i=e,o&&(l=JSON.parse(JSON.stringify(o)),l.errors?(s=l.errors,delete l.errors):o.errors&&(s=JSON.parse(JSON.stringify(o.errors)))),this.type="FeathersError",this.name=t,this.message=i,this.code=n,this.className=r,this.data=l,this.errors=s||{},k(this.name+"("+this.code+"): "+this.message),k(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,a):this.stack=new Error().stack}function n(e,t){a.call(this,e,"BadRequest",400,"bad-request",t)}function r(e,t){a.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function o(e,t){a.call(this,e,"PaymentError",402,"payment-error",t)}function s(e,t){a.call(this,e,"Forbidden",403,"forbidden",t)}function i(e,t){a.call(this,e,"NotFound",404,"not-found",t)}function l(e,t){a.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function d(e,t){a.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function p(e,t){a.call(this,e,"Timeout",408,"timeout",t)}function c(e,t){a.call(this,e,"Conflict",409,"conflict",t)}function u(e,t){a.call(this,e,"LengthRequired",411,"length-required",t)}function y(e,t){a.call(this,e,"Unprocessable",422,"unprocessable",t)}function h(e,t){a.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function g(e,t){a.call(this,e,"GeneralError",500,"general-error",t)}function f(e,t){a.call(this,e,"NotImplemented",501,"not-implemented",t)}function m(e,t){a.call(this,e,"BadGateway",502,"bad-gateway",t)}function b(e,t){a.call(this,e,"Unavailable",503,"unavailable",t)}Object.defineProperty(t,"__esModule",{value:!0});var v=Object.assign||function(e){for(var t=1,a;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=browser("feathers-errors");a.prototype=Object.create(Error.prototype),Object.defineProperty(a.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),n.prototype=a.prototype,r.prototype=a.prototype,o.prototype=a.prototype,s.prototype=a.prototype,i.prototype=a.prototype,l.prototype=a.prototype,d.prototype=a.prototype,p.prototype=a.prototype,c.prototype=a.prototype,u.prototype=a.prototype,y.prototype=a.prototype,h.prototype=a.prototype,g.prototype=a.prototype,f.prototype=a.prototype,m.prototype=a.prototype,b.prototype=a.prototype;var E={FeathersError:a,BadRequest:n,NotAuthenticated:r,PaymentError:o,Forbidden:s,NotFound:i,MethodNotAllowed:l,NotAcceptable:d,Timeout:p,Conflict:c,LengthRequired:u,Unprocessable:y,TooManyRequests:h,GeneralError:g,NotImplemented:f,BadGateway:m,Unavailable:b,400:n,401:r,402:o,403:s,404:i,405:l,406:d,408:p,409:c,411:u,422:y,429:h,500:g,501:f,502:m,503:b};t.default=v({convert:function(e){if(!e)return e;var t=E[e.name],a=t?new t(e.message,e.data):new Error(e.message||e);return"object"===("undefined"==typeof e?"undefined":_(e))&&v(a,e),a},types:E,errors:E},E),e.exports=t["default"]}),errors=unwrapExports(feathersErrors_2_9_2_lib);function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var events_1_1_1_events=EventEmitter;EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,a,n,r,o,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))if(t=arguments[1],t instanceof Error)throw t;else{var l=new Error("Uncaught, unspecified \"error\" event. ("+t+")");throw l.context=t,l}if(a=this._events[e],isUndefined(a))return!1;if(isFunction$3(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),a.apply(this,r);}else if(isObject(a))for(r=Array.prototype.slice.call(arguments,1),s=a.slice(),n=s.length,o=0;o<n;o++)s[o].apply(this,r);return!0},EventEmitter.prototype.addListener=function(e,t){var a;if(!isFunction$3(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction$3(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(a=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,a&&0<a&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function a(){this.removeListener(e,a),n||(n=!0,t.apply(this,arguments))}if(!isFunction$3(t))throw TypeError("listener must be a function");var n=!1;return a.listener=t,this.on(e,a),this},EventEmitter.prototype.removeListener=function(e,t){var a,n,r,o;if(!isFunction$3(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=this._events[e],r=a.length,n=-1,a===t||isFunction$3(a.listener)&&a.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(a)){for(o=r;0<o--;)if(a[o]===t||a[o].listener&&a[o].listener===t){n=o;break}if(0>n)return this;1===a.length?(a.length=0,delete this._events[e]):a.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a=this._events[e],isFunction$3(a))this.removeListener(e,a);else if(a)for(;a.length;)this.removeListener(e,a[a.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction$3(this._events[e])?[this._events[e]]:this._events[e].slice():[],t},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction$3(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};function isFunction$3(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}var feathersAuthenticationPopups=createCommonjsModule(function(e,t){function a(e,t,a){return{left:e.screenX+(e.outerWidth-t)/2,top:e.screenY+(e.outerHeight-a)/2}}Object.defineProperty(t,"__esModule",{value:!0}),t.authAgent=void 0,t.default=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n=t.width||1024,r=t.height||640,o=a(window,n,r),s=o.top,i=o.left;return window.open(e,"authWindow","width="+n+", height="+r+", top="+s+", left="+i)},t.getCenterCoordinates=a;var n=function(e){return e&&e.__esModule?e:{default:e}}(events_1_1_1_events);window.authAgent=new n.default;t.authAgent=window.authAgent}),require$$0=unwrapExports(feathersAuthenticationPopups),feathersAuthenticationPopups_1=feathersAuthenticationPopups.authAgent,feathersAuthenticationPopups_2=feathersAuthenticationPopups.getCenterCoordinates,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function InvalidCharacterError(e){this.message=e}InvalidCharacterError.prototype=new Error,InvalidCharacterError.prototype.name="InvalidCharacterError";function polyfill(e){var t=(e+"").replace(/=+$/,"");if(1==t.length%4)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var a=0,n=0,r="",o,s;s=t.charAt(n++);~s&&(o=a%4?64*o+s:s,a++%4)?r+=String.fromCharCode(255&o>>(6&-2*a)):0)s=chars.indexOf(s);return r}var atob="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||polyfill;function b64DecodeUnicode(e){return decodeURIComponent(atob(e).replace(/(.)/g,function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return 2>a.length&&(a="0"+a),"%"+a}))}var base64_url_decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!";}try{return b64DecodeUnicode(t)}catch(e){return atob(t)}};function InvalidTokenError(e){this.message=e}InvalidTokenError.prototype=new Error,InvalidTokenError.prototype.name="InvalidTokenError";var jwtDecode_2_2_0_lib=function(e,t){if("string"!=typeof e)throw new InvalidTokenError("Invalid token specified");t=t||{};var a=!0===t.header?0:1;try{return JSON.parse(base64_url_decode(e.split(".")[a]))}catch(t){throw new InvalidTokenError("Invalid token specified: "+t.message)}},InvalidTokenError_1=InvalidTokenError;jwtDecode_2_2_0_lib.InvalidTokenError=InvalidTokenError_1;function readCookie(e){for(var t=e+"=",a=document.cookie.split(";"),n=0,r;n<a.length;n++){for(r=a[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}function getStoredToken(e){var t=readCookie(e);return!t&&(window&&window.localStorage||window.sessionStorage)&&(t=window.sessionStorage.getItem(e)||window.localStorage.getItem(e)),t}function payloadIsValid(e){return e&&1e3*e.exp>new Date().getTime()}function hasValidToken(e){var t=getStoredToken(e);if(t)try{var a=jwtDecode_2_2_0_lib(t);return payloadIsValid(a)}catch(e){return!1}return!1}function convertLocalAuthData(e){var t=canAssign_1_3_1_canAssign({},e);return t&&"local"===t.strategy&&t.user&&(Object.keys(t.user).forEach(function(e){t[e]=t.user[e]}),delete t.user),t}var utils$2={readCookie:readCookie,getStoredToken:getStoredToken,hasValidToken:hasValidToken,payloadIsValid:payloadIsValid,convertLocalAuthData:convertLocalAuthData},storage={data:{},getStore:function(){if(window.doneSsr){var e=window.CanZone||void 0;return"undefined"==typeof e?this.data:e.current.data}return this.data},setItem:function(e,t){var a=this.getStore();a[e]=t},getItem:function(e){var t=this.getStore();return t[e]},removeItem:function(e){var t=this.getStore();delete t[e]}},authAgent=require$$0.authAgent,payloadIsValid$1=utils$2.payloadIsValid,hasValidToken$1=utils$2.hasValidToken,convertLocalAuthData$1=utils$2.convertLocalAuthData,session=canConnect_3_0_2_canConnect.behavior("data/feathers-session",function(e){var t=this.feathersClient;if(!t)throw new Error("You must provide a feathersClient instance to the feathers-session behavior. See https://canjs.com/doc/can-connect-feathers.html");if(!this.Map)throw new Error("You must provide a Map instance to the feathers-session behavior. See https://canjs.com/doc/can-connect-feathers.html");if(!t.passport)throw new Error("You must register the feathers-authentication-client plugin before using the feathers-session behavior. See https://canjs.com/doc/can-connect-feathers.html");var a=t.passport.options,n=this.Map;return Object.defineProperty(n,"current",{get:function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(n,"current"),void 0===storage.getItem("can-connect-feathers-session")&&(storage.removeItem("can-connect-feathers-session"),n.get().then(function(e){storage.setItem("can-connect-feathers-session",e),n.dispatch("current",[e])}).catch(function(e){if(storage.setItem("can-connect-feathers-session",null),n.dispatch("current",[null]),!e.className||0>e.className.indexOf("not-authenticated"))return Promise.reject(e)})),storage.getItem("can-connect-feathers-session")}}),n.on("created",function(e,t){storage.setItem("can-connect-feathers-session",t),n.dispatch("current",[t])}),n.on("destroyed",function(){storage.removeItem("can-connect-feathers-session"),n.dispatch("current",[void 0,storage.getItem("can-connect-feathers-session")])}),{init:function(){e.init.apply(this,arguments);var a=this;authAgent.on("login",function(e){try{var n=jwtDecode_2_2_0_lib(e);if(!payloadIsValid$1(n))throw new Error("invalid token")}catch(e){throw new Error("An invalid token was received through the feathers-authentication-popups authAgent")}t.authenticate({strategy:"jwt",accessToken:e}).then(function(e){var t=jwtDecode_2_2_0_lib(e.accessToken);a.createInstance(t)})})},createData:function(e){var a=convertLocalAuthData$1(e);return t.authenticate(a).then(function(e){return e.accessToken&&Object.assign(e,jwtDecode_2_2_0_lib(e.accessToken)),e})},getData:function(){return new Promise(function(e,n){var r=a.tokenKey||a.cookie;hasValidToken$1(r)&&!window.doneSsr?t.authenticate().then(function(t){var a=jwtDecode_2_2_0_lib(t.accessToken);return e(a)}).catch(n):n(new errors.NotAuthenticated("Not Authenticated"))})},destroyData:function(e){return t.logout().then(function(){return e})}}}),canConnectFeathers_5_0_0_canConnectFeathers={service:service,session:session},each$6=canReflect_1_17_4_canReflect.each,convertToValue=function(e){return"function"==typeof e?convertToValue(e()):e};function connectTag(e,t){var a=function(e,t,a){return t=t||"{",a=a||"}",e[0]===t&&e[e.length-1]===a?e.substr(1,e.length-2):e};canViewCallbacks_4_3_1_canViewCallbacks.tag(e,function(e,n){var r=e.getAttribute("getList")||e.getAttribute("get-list"),o=e.getAttribute("get"),s=r?"getList":"get",i=expression_1.parse("tmp("+a(r||o)+")",{baseMethodType:"Call"}),l=!1,d=canObservationRecorder_1_2_0_canObservationRecorder.ignore(function(e,a){if(!l){var r=n.scope.peek("%root")||n.scope.peek("@root");r&&r.pageData&&("get"===s&&(e=t.id(e)),r.pageData(t.name,e,a))}l=!0}),p=new canObservation_4_1_0_canObservation(function(){var e={};if("object"==typeof i.hash)each$6(i.hash,function(t,a){e[a]=t&&t.hasOwnProperty("get")?n.scope.read(t.get,{}).value:t});else if("function"==typeof i.hash){var a=i.hash(n.scope,n.options,{});each$6(a(),function(t,a){e[a]=convertToValue(t)})}else e=i.argExprs.length?canReflect_1_17_4_canReflect.getValue(i.argExprs[0].value(n.scope,n.options)):{};var r=t[s](e);return d(e,r),r});e[canSymbol_1_6_1_canSymbol.for("can.viewModel")]=p;var c=canViewNodelist_4_3_2_canViewNodelist.register([],void 0,n.parentNodeList||!0),u=n.subtemplate?n.subtemplate(n.scope.add(p),n.options,c):document.createDocumentFragment();canDomMutate_1_2_1_node.appendChild.call(e,u),canViewNodelist_4_3_2_canViewNodelist.update(c,e.childNodes);var y=canDomMutate_1_2_1_canDomMutate.onNodeRemoval(e,function(){e.ownerDocument.contains(e)||(y(),canViewNodelist_4_3_2_canViewNodelist.unregister(c))})})}var canConnectTag_1_0_0_canConnectTag=canNamespace_1_0_0_canNamespace.connectTag=connectTag,extractResponse=canFixture_3_0_0_core.extractResponse;function requestHandlerToListener(e){return function(t,a){e({data:t},function(){var e=extractResponse.apply(null,arguments);200===e[0]?a(null,e[1]):a(e[1])})}}function storeToListeners(e){return["getListData","getData","updateData","createData","destroyData"].reduce(function(t,a){return t[a]=requestHandlerToListener(e[a]),t},{})}var store$1={requestHandlerToListener:requestHandlerToListener,storeToListeners:storeToListeners},storeToListeners$1=store$1.storeToListeners;function subscribeFeathersStoreToServer(e,t,a,n){var r=storeToListeners$1(t);a.on(e+"::find",toFeathersDataHandler(r.getListData,null,toFeathersFind)),a.on(e+"::get",toFeathersDataHandler(r.getData,wrapToId(n),null)),a.on(e+"::remove",toFeathersRemoveHandler(r.getData,r.destroyData,n)),a.on(e+"::create",toFeathersCreateHandler(r.createData)),a.on(e+"::update",toFeathersUpdateHandler(r.updateData,n))}function toFeathersDataHandler(e,t,a){return function(n){var r=Array.prototype.slice.call(arguments),o;"function"==typeof r[r.length-1]&&(o=r[r.length-1]),n=t?t(n):n,e(n,function(e,t){e?o&&o(e):(t=a?a(t):t,o&&o(null,t))})}}function wrapToId(e){return function(t){var a={},n=e&&e.id||"id";return a[n]=t,a}}function toFeathersFind(e){return{total:e.count,limit:e.limit,skip:e.offset,data:e.data}}function toFeathersRemoveHandler(e,t,a){return function(n,r,o){var s=wrapToId(a)(n);e(s,function(e,a){e?o(e):t(s,function(e){e?o(e):o(null,a)})})}}function toFeathersUpdateHandler(e,t){return function(a,n,r,o){var s=wrapToId(t)(a);e(canAssign_1_3_1_canAssign(s,n),function(e,t){e?o(e):o(null,canAssign_1_3_1_canAssign(s,canAssign_1_3_1_canAssign(n,t)))})}}function toFeathersCreateHandler(e){return function(t,a,n){e(t,function(e,a){e?n(e):n(null,canAssign_1_3_1_canAssign(t,a))})}}var feathersClient={subscribeFeathersStoreToServer:subscribeFeathersStoreToServer},subscribeFeathersStoreToServer$1=feathersClient.subscribeFeathersStoreToServer,MockedServer=function(e){this.io=e,this.events={},this.subscribers={},resetManagerCache(e.managers),this.origs=mockManager(e.Manager.prototype,this)};MockedServer.prototype.on=function(e,t){var a=this,n={};"string"==typeof e&&(n[e]=t),"object"==typeof e&&(n=e),Object.keys(n).forEach(function(e){sub$1(a.events,e,n[e])})},MockedServer.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1);pub(this.subscribers,e,t)},MockedServer.prototype.onFeathersService=function(e,t,a){subscribeFeathersStoreToServer$1(e,t,this,a)},MockedServer.prototype.restore=function(){restoreManager(this.io.Manager.prototype,this.origs),resetManagerCache(this.io.managers)};var MockedSocket=function(e){this._server=e,this.io={engine:this}};MockedSocket.prototype={on:function(e,t){debug$1("MockedSocket.on ... "+e),sub$1(this._server.subscribers,e,t)},emit:function(e){var t=Array.prototype.slice.call(arguments,1);debug$1("MockedSocket.emit ..."+e),pub(this._server.events,e,t)},once:function(){debug$1("MockedSocket.once ...")},off:function(e,t){debug$1("MockedSocket.off ... "+e),unsub(this._server.subscribers,e,t)},open:function(){return this.connect()},connect:function(){this.connected=!0,this.disconnected=!1},close:function(){return this.disconnect()},disconnect:function(){this.connected=!1,this.disconnected=!0}};function pub(e,t,a){debug$1(" >>> pub "+t);var n=e[t]||[];n.forEach(function(e){e.apply(null,a)})}function sub$1(e,t,a){debug$1(" <<< sub "+t),e[t]||(e[t]=[]),e[t].push(a)}function unsub(e,t,a){debug$1(" <<< unsub "+t),e[t].forEach(function(n,r){n===a&&e[t].splice(r,1)})}function mockManager(e,t){var a=["open","socket"].map(function(t){return{name:t,method:e[t]}});return e.open=e.connect=function(){debug$1("MockedManager.prototype.open or connect ... arguments:",arguments),setTimeout(function(){pub(t.subscribers,"connect"),pub(t.events,"connection")},0)},e.socket=function(){debug$1("MockedManager.prototype.socket ...");var e=new MockedSocket(t);return e.connected=!0,e.disconnected=!1,e},a}function restoreManager(e,t){debug$1("Restore."),t.forEach(function(t){e[t.name]=t.method})}function resetManagerCache(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t]}var _DEBUG=!1;function debug$1(){_DEBUG&&console.log.apply(console,arguments)}var canFixtureSocket_2_0_0_src={Server:MockedServer,mockSocketManager:mockManager,restoreManager:restoreManager},canFixtureSocket_2_0_0_canFixtureSocket={Server:canFixtureSocket_2_0_0_src.Server,requestHandlerToListener:store$1.requestHandlerToListener,storeToListeners:store$1.storeToListeners},ndjsonStream=function(e){var t=!1,a;return new ReadableStream({start:function(n){var r=e.getReader();a=r;var o=new TextDecoder,s="";r.read().then(function e(a){if(a.done){if(t)return;if(s=s.trim(),0!==s.length)try{var d=JSON.parse(s);n.enqueue(d)}catch(t){return void n.error(t)}return void n.close()}var p=o.decode(a.value,{stream:!0});s+=p;for(var c=s.split("\n"),u=0,y;u<c.length-1;++u)if(y=c[u].trim(),0<y.length)try{var h=JSON.parse(y);n.enqueue(h)}catch(a){return n.error(a),t=!0,void r.cancel()}return s=c[c.length-1],r.read().then(e)})},cancel:function(e){console.log("Cancel registered due to ",e),t=!0,a.cancel()}})},canNdjsonStream_1_0_0_canNdjsonStream=canNamespace_1_0_0_canNamespace.ndjsonStream=ndjsonStream,connectNdjson=canConnect_3_0_2_canConnect.behavior("data-ndjson",function(e){try{if(new ReadableStream,"function"!=typeof window.fetch)throw new Error("fetch not supported")}catch(e){return{}}return{hydrateList:function(t,a){a=a||this.listSet(t);var n=sortedSetJson(a),r=e.hydrateList.call(this,t,a);return this._getHydrateListCallbacks[n]&&(this._getHydrateListCallbacks[n].shift()(r),!this._getHydrateListCallbacks[n].length&&delete this._getHydrateListCallbacks[n]),r},_getHydrateListCallbacks:{},_getHydrateList:function(e,t){var a=sortedSetJson(e);this._getHydrateListCallbacks[a]||(this._getHydrateListCallbacks[a]=[]),this._getHydrateListCallbacks[a].push(t)},getListData:function(e){var t=fetch(this.ndjson||this.url);return this._getHydrateList(e,function(a){function e(t){canReflect_1_17_4_canReflect.setKeyValue(a,"isStreaming",!1),canReflect_1_17_4_canReflect.setKeyValue(a,"streamError",t)}t.then(function(e){return canReflect_1_17_4_canReflect.setKeyValue(a,"isStreaming",!0),canNdjsonStream_1_0_0_canNdjsonStream(e.body)}).then(function(t){var n=t.getReader();n.read().then(function t(r){return r.done?void canReflect_1_17_4_canReflect.setKeyValue(a,"isStreaming",!1):void(a.push(r.value),n.read().then(t,e))},e)})}),t.then(function(){return{data:[]}})}}}),canConnectNdjson_1_0_0_canConnectNdjson=canNamespace_1_0_0_canNamespace.connectNdjson=connectNdjson;function MockRoute(){this.routeValue=new canSimpleObservable_2_2_0_canSimpleObservable("")}canReflect_1_17_4_canReflect.assignMap(MockRoute.prototype,{paramsMatcher:/^(?:&[^=]+=[^&]*)+/,querySeparator:"&",matchSlashes:!1,root:"#!",get:function(){return this.value},set:function(e){return this.value=e},on:function(e){canReflect_1_17_4_canReflect.onValue(this,e)},off:function(e){canReflect_1_17_4_canReflect.offValue(this,e)}}),Object.defineProperty(MockRoute.prototype,"value",{get:function(){return this.routeValue.get().split(/#!?/)[1]||""},set:function(e){return"#"===e[0]?this.routeValue.set(e||""):this.routeValue.set("#"+(e||"")),e}}),canReflect_1_17_4_canReflect.assignSymbols(MockRoute.prototype,{"can.onValue":function(e){this.routeValue.on(e)},"can.offValue":function(e){this.routeValue.off(e)},"can.getValue":function(){return this.value},"can.setValue":function(e){this.value=e}});var canRouteMock_1_0_1_canRouteMock=MockRoute,validate_js_0_11_1_validate=createCommonjsModule(function(e,t){(function(e,t,a){var n=function(e,t,a){a=r.extend({},r.options,a);var o=r.runValidations(e,t,a),s,i;for(s in o)for(i in o[s])if(r.isPromise(o[s][i]))throw new Error("Use validate.async if you want support for promises");return n.processValidationResults(o,a)},r=n;r.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var a in t)e[a]=t[a]}),e},r.extend(n,{version:{major:0,minor:11,patch:1,metadata:null,toString:function(){var e=r.format("%{major}.%{minor}.%{patch}",r.version);return r.isEmpty(r.version.metadata)||(e+="+"+r.version.metadata),e}},Promise:"undefined"==typeof Promise?null:Promise,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(e,t,a){var n=[],o,s,i,l,d,p,c;for(o in(r.isDomElement(e)||r.isJqueryElement(e))&&(e=r.collectFormValues(e)),t)for(s in i=r.getDeepObjectValue(e,o),l=r.result(t[o],i,e,o,a,t),l){if(d=r.validators[s],!d)throw c=r.format("Unknown validator %{name}",{name:s}),new Error(c);(p=l[s],p=r.result(p,i,e,o,a,t),!!p)&&n.push({attribute:o,value:i,validator:s,globalOptions:a,attributes:e,options:p,error:d.call(d,i,p,o,e,a)})}return n},processValidationResults:function(e,t){e=r.pruneEmptyErrors(e,t),e=r.expandMultipleErrors(e,t),e=r.convertErrorMessages(e,t);var a=t.format||"grouped";if("function"==typeof r.formatters[a])e=r.formatters[a](e);else throw new Error(r.format("Unknown format %{format}",t));return r.isEmpty(e)?void 0:e},async:function(e,t,a){a=r.extend({},r.async.options,a);var n=a.wrapErrors||function(e){return e};!1!==a.cleanAttributes&&(e=r.cleanAttributes(e,t));var o=r.runValidations(e,t,a);return new r.Promise(function(s,i){r.waitForResults(o).then(function(){var l=r.processValidationResults(o,a);l?i(new n(l,a,e,t)):s(e)},function(e){i(e)})})},single:function(e,t,a){return a=r.extend({},r.single.options,a,{format:"flat",fullMessages:!1}),r({single:e},{single:t},a)},waitForResults:function(e){return e.reduce(function(e,t){return r.isPromise(t.error)?e.then(function(){return t.error.then(function(e){t.error=e||null})}):e},new r.Promise(function(e){e()}))},result:function(e){var t=[].slice.call(arguments,1);return"function"==typeof e&&(e=e.apply(null,t)),e},isNumber:function(e){return"number"==typeof e&&!isNaN(e)},isFunction:function(e){return"function"==typeof e},isInteger:function(e){return r.isNumber(e)&&0==e%1},isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e===Object(e)},isDate:function(e){return e instanceof Date},isDefined:function(e){return null!==e&&e!==void 0},isPromise:function(e){return!!e&&r.isFunction(e.then)},isJqueryElement:function(e){return e&&r.isString(e.jquery)},isDomElement:function(e){return!!e&&!!(e.querySelectorAll&&e.querySelector)&&(!!(r.isObject(document)&&e===document)||("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName))},isEmpty:function(e){if(!r.isDefined(e))return!0;if(r.isFunction(e))return!1;if(r.isString(e))return r.EMPTY_STRING_REGEXP.test(e);if(r.isArray(e))return 0===e.length;if(r.isDate(e))return!1;if(r.isObject(e)){for(var t in e)return!1;return!0}return!1},format:r.extend(function(e,t){return r.isString(e)?e.replace(r.format.FORMAT_REGEXP,function(e,a,n){return"%"===a?"%{"+n+"}":t[n]+""}):e},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(e){return r.isNumber(e)?0==100*e%1?""+e:parseFloat(Math.round(100*e)/100).toFixed(2):r.isArray(e)?e.map(function(e){return r.prettify(e)}).join(", "):r.isObject(e)?e.toString():(e=""+e,e.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(e,t,a){return""+t+" "+a.toLowerCase()}).toLowerCase())},stringifyValue:function(e){return r.prettify(e)},isString:function(e){return"string"==typeof e},isArray:function(e){return"[object Array]"==={}.toString.call(e)},isHash:function(e){return r.isObject(e)&&!r.isArray(e)&&!r.isFunction(e)},contains:function(e,t){return!!r.isDefined(e)&&(r.isArray(e)?-1!==e.indexOf(t):t in e)},unique:function(e){return r.isArray(e)?e.filter(function(e,t,a){return a.indexOf(e)==t}):e},forEachKeyInKeypath:function(e,t,a){if(r.isString(t)){var n="",o=!1,s;for(s=0;s<t.length;++s)switch(t[s]){case".":o?(o=!1,n+="."):(e=a(e,n,!1),n="");break;case"\\":o?(o=!1,n+="\\"):o=!0;break;default:o=!1,n+=t[s];}return a(e,n,!0)}},getDeepObjectValue:function(e,t){return r.isObject(e)?r.forEachKeyInKeypath(e,t,function(e,t){if(r.isObject(e))return e[t]}):void 0},collectFormValues:function(e,t){var a={},n,o,s,l,d,p;if(r.isJqueryElement(e)&&(e=e[0]),!e)return a;for(t=t||{},l=e.querySelectorAll("input[name], textarea[name]"),n=0;n<l.length;++n)(s=l.item(n),!r.isDefined(s.getAttribute("data-ignored")))&&(p=r.sanitizeFormValue(s.value,t),"number"===s.type?p=p?+p:null:"checkbox"===s.type?s.attributes.value?!s.checked&&(p=a[s.name]||null):p=s.checked:"radio"===s.type&&!s.checked&&(p=a[s.name]||null),a[s.name]=p);for(l=e.querySelectorAll("select[name]"),n=0;n<l.length;++n){if(s=l.item(n),s.multiple)for(o in p=[],s.options)d=s.options[o],d.selected&&p.push(r.sanitizeFormValue(d.value,t));else p=r.sanitizeFormValue(s.options[s.selectedIndex].value,t);a[s.name]=p}return a},sanitizeFormValue:function(e,t){return t.trim&&r.isString(e)&&(e=e.trim()),!1!==t.nullify&&""===e?null:e},capitalize:function(e){return r.isString(e)?e[0].toUpperCase()+e.slice(1):e},pruneEmptyErrors:function(e){return e.filter(function(e){return!r.isEmpty(e.error)})},expandMultipleErrors:function(e){var t=[];return e.forEach(function(e){r.isArray(e.error)?e.error.forEach(function(a){t.push(r.extend({},e,{error:a}))}):t.push(e)}),t},convertErrorMessages:function(e,t){t=t||{};var a=[];return e.forEach(function(e){var n=r.result(e.error,e.value,e.attribute,e.options,e.attributes,e.globalOptions);return r.isString(n)?void("^"===n[0]?n=n.slice(1):!1!==t.fullMessages&&(n=r.capitalize(r.prettify(e.attribute))+" "+n),n=n.replace(/\\\^/g,"^"),n=r.format(n,{value:r.stringifyValue(e.value)}),a.push(r.extend({},e,{error:n}))):void a.push(e)}),a},groupErrorsByAttribute:function(e){var t={};return e.forEach(function(e){var a=t[e.attribute];a?a.push(e):t[e.attribute]=[e]}),t},flattenErrorsToArray:function(e){return e.map(function(e){return e.error}).filter(function(e,t,a){return a.indexOf(e)===t})},cleanAttributes:function(e,t){function a(e,t,a){return r.isObject(e[t])?e[t]:e[t]=!!a||{}}function n(e){var t={},n;for(n in e)e[n]&&r.forEachKeyInKeypath(t,n,a);return t}function o(e,t){if(!r.isObject(e))return e;var a=r.extend({},e),n,s;for(s in e)n=t[s],r.isObject(n)?a[s]=o(a[s],n):!n&&delete a[s];return a}return r.isObject(t)&&r.isObject(e)?(t=n(t),o(e,t)):{}},exposeModule:function(e,t,a,n,r){a?(n&&n.exports&&(a=n.exports=e),a.validate=e):(t.validate=e,e.isFunction(r)&&r.amd&&r([],function(){return e}))},warn:function(e){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+e)},error:function(e){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+e)}}),n.validators={presence:function(e,t){if(t=r.extend({},this.options,t),t.allowEmpty?!r.isDefined(e):r.isEmpty(e))return t.message||this.message||"can't be blank"},length:function(e,t,a){if(r.isDefined(e)){t=r.extend({},this.options,t);var n=t.is,o=t.maximum,s=t.minimum,i=t.tokenizer||function(e){return e},l=[],d;e=i(e);var p=e.length;if(!r.isNumber(p))return r.error(r.format("Attribute %{attr} has a non numeric value for `length`",{attr:a})),t.message||this.notValid||"has an incorrect length";if(r.isNumber(n)&&p!==n&&(d=t.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",l.push(r.format(d,{count:n}))),r.isNumber(s)&&p<s&&(d=t.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",l.push(r.format(d,{count:s}))),r.isNumber(o)&&p>o&&(d=t.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",l.push(r.format(d,{count:o}))),0<l.length)return t.message||l}},numericality:function(e,t){if(r.isDefined(e)){t=r.extend({},this.options,t);var a=[],n={greaterThan:function(e,t){return e>t},greaterThanOrEqualTo:function(e,t){return e>=t},equalTo:function(e,t){return e===t},lessThan:function(e,t){return e<t},lessThanOrEqualTo:function(e,t){return e<=t},divisibleBy:function(e,t){return 0==e%t}},o,s;if(r.isString(e)&&t.strict){var i="^(0|[1-9]\\d*)";if(t.onlyInteger||(i+="(\\.\\d+)?"),i+="$",!new RegExp(i).test(e))return t.message||t.notValid||this.notValid||this.message||"must be a valid number"}if(!0!==t.noStrings&&r.isString(e)&&!r.isEmpty(e)&&(e=+e),!r.isNumber(e))return t.message||t.notValid||this.notValid||this.message||"is not a number";if(t.onlyInteger&&!r.isInteger(e))return t.message||t.notInteger||this.notInteger||this.message||"must be an integer";for(o in n)if(s=t[o],r.isNumber(s)&&!n[o](e,s)){var l="not"+r.capitalize(o),d=t[l]||this[l]||this.message||"must be %{type} %{count}";a.push(r.format(d,{count:s,type:r.prettify(o)}))}if(t.odd&&1!=e%2&&a.push(t.notOdd||this.notOdd||this.message||"must be odd"),t.even&&0!=e%2&&a.push(t.notEven||this.notEven||this.message||"must be even"),a.length)return t.message||a}},datetime:r.extend(function(e,t){if(!r.isFunction(this.parse)||!r.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(r.isDefined(e)){t=r.extend({},this.options,t);var a=[],n=t.earliest?this.parse(t.earliest,t):NaN,o=t.latest?this.parse(t.latest,t):NaN,s;if(e=this.parse(e,t),isNaN(e)||t.dateOnly&&0!=e%864e5)return s=t.notValid||t.message||this.notValid||"must be a valid date",r.format(s,{value:arguments[0]});if(!isNaN(n)&&e<n&&(s=t.tooEarly||t.message||this.tooEarly||"must be no earlier than %{date}",s=r.format(s,{value:this.format(e,t),date:this.format(n,t)}),a.push(s)),!isNaN(o)&&e>o&&(s=t.tooLate||t.message||this.tooLate||"must be no later than %{date}",s=r.format(s,{date:this.format(o,t),value:this.format(e,t)}),a.push(s)),a.length)return r.unique(a)}},{parse:null,format:null}),date:function(e,t){return t=r.extend({},t,{dateOnly:!0}),r.validators.datetime.call(r.validators.datetime,e,t)},format:function(e,t){(r.isString(t)||t instanceof RegExp)&&(t={pattern:t}),t=r.extend({},this.options,t);var a=t.message||this.message||"is invalid",n=t.pattern,o;if(r.isDefined(e)){if(!r.isString(e))return a;if(r.isString(n)&&(n=new RegExp(t.pattern,t.flags)),o=n.exec(e),!o||o[0].length!=e.length)return a}},inclusion:function(e,t){if(r.isDefined(e)&&(r.isArray(t)&&(t={within:t}),t=r.extend({},this.options,t),!r.contains(t.within,e))){var a=t.message||this.message||"^%{value} is not included in the list";return r.format(a,{value:e})}},exclusion:function(e,t){if(r.isDefined(e)&&(r.isArray(t)&&(t={within:t}),t=r.extend({},this.options,t),!!r.contains(t.within,e))){var a=t.message||this.message||"^%{value} is restricted";return r.format(a,{value:e})}},email:r.extend(function(e,t){t=r.extend({},this.options,t);var a=t.message||this.message||"is not a valid email";return r.isDefined(e)?r.isString(e)?this.PATTERN.exec(e)?void 0:a:a:void 0},{PATTERN:/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i}),equality:function(e,t,a,n){if(r.isDefined(e)){r.isString(t)&&(t={attribute:t}),t=r.extend({},this.options,t);var o=t.message||this.message||"is not equal to %{attribute}";if(r.isEmpty(t.attribute)||!r.isString(t.attribute))throw new Error("The attribute must be a non empty string");var s=r.getDeepObjectValue(n,t.attribute),i=t.comparator||function(e,t){return e===t};if(!i(e,s,t,a,n))return r.format(o,{attribute:r.prettify(t.attribute)})}},url:function(e,t){if(r.isDefined(e)){t=r.extend({},this.options,t);var a=t.message||this.message||"is not a valid url",n=t.schemes||this.schemes||["http","https"],o=t.allowLocal||this.allowLocal||!1;if(!r.isString(e))return a;var s="^(?:(?:"+n.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",i="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";o?i+="?":s+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",s+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+i+")(?::\\d{2,5})?(?:[/?#]\\S*)?$";var l=new RegExp(s,"i");if(!l.exec(e))return a}}},n.formatters={detailed:function(e){return e},flat:r.flattenErrorsToArray,grouped:function(e){for(var t in e=r.groupErrorsByAttribute(e),e)e[t]=r.flattenErrorsToArray(e[t]);return e},constraint:function(e){for(var t in e=r.groupErrorsByAttribute(e),e)e[t]=e[t].map(function(e){return e.validator}).sort();return e}},n.exposeModule(n,this,e,t,a)}).call(commonjsGlobal,t,e,null)}),makeValidator=function(e){return function(t){return validate_js_0_11_1_validate.single(t,e)}};makeValidator.many=function(e){return function(t){var a=validate_js_0_11_1_validate(t,e,{format:"detailed",fullMessages:!1}),n;return a&&(n=[],canReflect_1_17_4_canReflect.eachIndex(a,function(e){n.push({message:e.options.message||e.error,related:[e.attribute]})})),n}},makeValidator.validatejs=validate_js_0_11_1_validate;var canValidateValidatejs_0_1_3_canValidateValidatejs=makeValidator,validate={},helpers$3={object:function(e){var t=0<e.length?{}:void 0;return canReflect_1_17_4_canReflect.eachIndex(e,function(e){canReflect_1_17_4_canReflect.eachIndex(e.related,function(a){t[a]||(t[a]=[]),t[a].push(e.message)})}),t},flat:function(e){var t=0<e.length?[]:void 0;return canReflect_1_17_4_canReflect.eachIndex(e,function(e){t.push(e.message)}),t},errors:function(e){return 0<e.length?e:void 0},"errors-object":function(e){var t=0<e.length?{}:void 0;return canReflect_1_17_4_canReflect.eachIndex(e,function(e){canReflect_1_17_4_canReflect.eachIndex(e.related,function(a){t[a]||(t[a]=[]),t[a].push(e)})}),t}},parseErrorItem=function(e){var t=[];return"string"==typeof e&&t.push({message:e,related:["*"]}),"object"!=typeof e||Array.isArray(e)||(e.related?!Array.isArray(e.related)&&(e.related=[e.related]):e.related="*",t.push(e)),Array.isArray(e)&&canReflect_1_17_4_canReflect.eachIndex(e,function(e){[].push.apply(t,parseErrorItem(e))}),t},normalizeErrors=function(e){var t=[];return"string"!=typeof e&&("object"!=typeof e||Array.isArray(e))||(e=[e]),null!=e&&canReflect_1_17_4_canReflect.eachIndex(e,function(e){[].push.apply(t,parseErrorItem(e))}),t};validate.formatErrors=function(e,t){var a=normalizeErrors(e);return t?helpers$3[t]?helpers$3[t](a):a:a};var canValidate_1_2_0_canValidate=validate,formatErrors=canValidate_1_2_0_canValidate.formatErrors,getMapConstraints=function(e){var t={};return canReflect_1_17_4_canReflect.eachKey(e.prototype._define.definitions,function(e,a){e.validate&&0!==canReflect_1_17_4_canReflect.size(e.validate)&&(t[a]=e.validate)}),t},validateMap=function(e,t){var a=e.prototype._define;e.prototype.testSet=function(){var a={},n=!1;if(arguments.length){if("object"==typeof arguments[0]&&!!arguments[0]&&(a=arguments[0],n=!!arguments[1]),"string"==typeof arguments[0]&&(a[arguments[0]]=arguments[1]),n)a=new e(a);else{var r=this.serialize();canAssign_1_3_1_canAssign(r,a),a=r}return t(a)}return this.errors()},e.prototype.errors=function(){var e=this._errors,t;if(arguments.length){var a=formatErrors(e,"errors-object");t=[],canReflect_1_17_4_canReflect.eachIndex(arguments,function(e){[].push.apply(t,a?a[e]:[])}),t=0<t.length?t:void 0}else t=e;return t},canDefine_2_5_8_canDefine.property(e.prototype,"_errors",{get:function(){var e=t(this);return e}},a.dataInitializers,a.computedInitializers)},decorator=function(e){var t=getMapConstraints(e),a=canValidateValidatejs_0_1_3_canValidateValidatejs.many(t);validateMap(e,function(e){var t=a(e);return formatErrors(t,"errors")})};decorator.validatejs=canValidateValidatejs_0_1_3_canValidateValidatejs.validatejs;var canDefineValidateValidatejs_1_1_0_canDefineValidateValidatejs=decorator,makeValidator$1=function(e){return function(t){return validate_js_0_11_1_validate.single(t,e)}};makeValidator$1.many=function(e){return function(t){var a=validate_js_0_11_1_validate(t,e,{format:"detailed",fullMessages:!1}),n;return a&&(n=[],canReflect_1_17_4_canReflect.eachIndex(a,function(e){n.push({message:e.options.message||e.error,related:[e.attribute]})})),n}},makeValidator$1.validatejs=validate_js_0_11_1_validate;var canValidateValidatejs_1_0_0_canValidateValidatejs=makeValidator$1,baseEventType="keyup";function isEnterEvent(e){var t="Enter"===e.key,a=13===e.keyCode;return t||a}var enterEvent={defaultEventType:"enter",addEventListener:function(e,t,a){var n=function(e){if(isEnterEvent(e))return a.apply(this,arguments)},r=enterEvent._eventTypeHandlerMap[t];r||(r=enterEvent._eventTypeHandlerMap[t]=new Map),r.set(a,n),this.addEventListener(e,baseEventType,n)},removeEventListener:function(e,t,a){var n=enterEvent._eventTypeHandlerMap[t];if(n){var r=n.get(a);r&&(n.delete(a),0===n.size&&delete enterEvent._eventTypeHandlerMap[t],this.removeEventListener(e,baseEventType,r))}},_eventTypeHandlerMap:{}},canEventDomEnter_2_2_0_canEventDomEnter=canNamespace_1_0_0_canNamespace.domEventEnter=enterEvent,bubble={bind:function(e,t){if(!e.__inSetup){var a=bubble.events(e,t),n=a.length,r;e._bubbleBindings||(e._bubbleBindings={});for(var o=0;o<n;o++)r=a[o],e._bubbleBindings[r]?e._bubbleBindings[r]++:(e._bubbleBindings[r]=1,bubble.childrenOf(e,r))}},unbind:function(e,t){for(var a=bubble.events(e,t),n=a.length,r=0,o;r<n;r++)o=a[r],e._bubbleBindings&&e._bubbleBindings[o]--,e._bubbleBindings&&!e._bubbleBindings[o]&&(delete e._bubbleBindings[o],bubble.teardownChildrenFrom(e,o),0===canReflect_1_17_4_canReflect.size(e._bubbleBindings)&&delete e._bubbleBindings)},add:function(e,t,a){if(canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isMapLike(t)&&e._bubbleBindings)for(var n in e._bubbleBindings)e._bubbleBindings[n]&&(bubble.teardownFromParent(e,t,n),bubble.toParent(t,e,a,n))},addMany:function(e,t){for(var a=0,n=t.length;a<n;a++)bubble.add(e,t[a],a)},remove:function(e,t){if(canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isMapLike(t)&&e._bubbleBindings)for(var a in e._bubbleBindings)e._bubbleBindings[a]&&bubble.teardownFromParent(e,t,a)},removeMany:function(e,t){for(var a=0,n=t.length;a<n;a++)bubble.remove(e,t[a])},set:function(e,t,a,n){return canReflect_1_17_4_canReflect.isObservableLike(a)&&canReflect_1_17_4_canReflect.isMapLike(a)&&bubble.add(e,a,t),canReflect_1_17_4_canReflect.isObservableLike(n)&&canReflect_1_17_4_canReflect.isMapLike(n)&&bubble.remove(e,n),a},events:function(e,t){return e.constructor._bubbleRule(t,e)},toParent:function(e,t,a,n){map$1.listenTo.call(t,e,n,function(){var r=canReflect_1_17_4_canReflect.toArray(arguments),o=r.shift();r[0]=(canReflect_1_17_4_canReflect.isObservableLike(t)&&canReflect_1_17_4_canReflect.isListLike(t)?t.indexOf(e):a)+(r[0]?"."+r[0]:""),o.triggeredNS=o.triggeredNS||{};o.triggeredNS[t._cid]||(o.triggeredNS[t._cid]=!0,map$1.dispatch.call(t,o,r),"change"===n&&map$1.dispatch.call(t,r[0],[r[2],r[3]]))})},childrenOf:function(e,t){e._each(function(a,n){a&&a.bind&&bubble.toParent(a,e,n,t)})},teardownFromParent:function(e,t,a){t&&t.unbind&&map$1.stopListening.call(e,t,a)},teardownChildrenFrom:function(e,t){e._each(function(a){bubble.teardownFromParent(e,a,t)})},isBubbling:function(e,t){return e._bubbleBindings&&e._bubbleBindings[t]}},canMap_4_3_3_bubble=bubble,canMap_4_3_3_mapHelpers=createCommonjsModule(function(e,t){var a=null,n=function(){for(var e in a)a[e].added&&delete a[e].obj._cid;a=null},r={attrParts:function(e,t){return t?[e]:"object"==typeof e?e:(""+e).split(".")},canMakeObserve:function(e){return e&&!canReflect_1_17_4_canReflect.isPromise(e)&&(Array.isArray(e)||canReflect_1_17_4_canReflect.isPlainObject(e))},reflectSerialize:function(e){return this.forEach(function(t,a){t=this.___serialize?this.___serialize(a,t):canReflect_1_17_4_canReflect.serialize(t),void 0!==t&&(e[a]=t)},this),e},reflectUnwrap:function(e){return this.forEach(function(t,a){void 0!==t&&(e[a]=canReflect_1_17_4_canReflect.unwrap(t))}),e},removeSpecialKeys:function(e){return e&&["_data","constructor","_cid","__bindEvents"].forEach(function(t){delete e[t]}),e},serialize:function(){var e=null;return function(t,a,n){var o=canCid_1_3_0_canCid(t),s=!1;return e||(s=!0,e={attr:{},serialize:{}}),e[a][o]=n,t.forEach(function(o,s){var i=canReflect_1_17_4_canReflect.isObservableLike(o),l=i&&e[a][canCid_1_3_0_canCid(o)],d;d=l?l:t["___"+a]?t["___"+a](s,o):r.getValue(t,s,o,a),void 0!==d&&(n[s]=d)}),s&&(e=null),n}}(),getValue:function(e,t,a,n){return"attr"===n&&(n=canSymbol_1_6_1_canSymbol.for("can.getValue")),canReflect_1_17_4_canReflect.isObservableLike(a)&&a[n]?a[n]():a},define:null,addComputedAttr:function(e,t,a){e._computedAttrs[t]={compute:a,count:0,handler:function(a,n){e._triggerChange(t,"set",a,n)}}},addToMap:function(e,t){var r;a||(r=n,a={});var o=e._cid,s=canCid_1_3_0_canCid(e);return a[s]||(a[s]={obj:e,instance:t,added:!o}),r},getMapFromObject:function(e){return a&&a[e._cid]&&a[e._cid].instance},twoLevelDeepExtend:function(e,t){for(var a in t)e[a]=e[a]||{},canAssign_1_3_1_canAssign(e[a],t[a])}};e.exports=t=r}),canTypes_1_4_0_canTypes=createCommonjsModule(function(e){var t={isMapLike:function(e){return canReflect_1_17_4_canReflect.isObservableLike(e)&&canReflect_1_17_4_canReflect.isMapLike(e)},isListLike:function(e){return canReflect_1_17_4_canReflect.isObservableLike(e)&&canReflect_1_17_4_canReflect.isListLike(e)},isPromise:function(e){return canReflect_1_17_4_canReflect.isPromise(e)},isConstructor:function(e){return canReflect_1_17_4_canReflect.isConstructorLike(e)},isCallableForValue:function(e){return e&&canReflect_1_17_4_canReflect.isFunctionLike(e)&&!canReflect_1_17_4_canReflect.isConstructorLike(e)},isCompute:function(e){return e&&e.isComputed},get iterator(){return canSymbol_1_6_1_canSymbol.iterator||canSymbol_1_6_1_canSymbol.for("iterator")},DefaultMap:null,DefaultList:null,queueTask:function(e){var t=e[2]||[];e[0].apply(e[1],t)},wrapElement:function(e){return e},unwrapElement:function(e){return e}};if(canNamespace_1_0_0_canNamespace.types)throw new Error("You can't have two versions of can-types, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.types=t}),canCid_1_3_0_helpers={each:function(e,t,a){for(var n in e)t.call(a,e[n],n);return e}},getCID=canCid_1_3_0_canCid.get,CIDSet;if("undefined"!=typeof Set)CIDSet=Set;else{var CIDSet=function(){this.values={}};CIDSet.prototype.add=function(e){this.values[getCID(e)]=e},CIDSet.prototype["delete"]=function(e){var t=getCID(e)in this.values;return t&&delete this.values[getCID(e)],t},CIDSet.prototype.forEach=function(e,t){canCid_1_3_0_helpers.each(this.values,e,t)},CIDSet.prototype.has=function(e){return getCID(e)in this.values},CIDSet.prototype.clear=function(){return this.values={}},Object.defineProperty(CIDSet.prototype,"size",{get:function(){var e=0;return canCid_1_3_0_helpers.each(this.values,function(){e++}),e}})}var set$3=CIDSet,getCID$1=canCid_1_3_0_canCid.get,CIDMap;if("undefined"!=typeof Map)CIDMap=Map;else{var CIDMap=function(){this.values={}};CIDMap.prototype.set=function(e,t){this.values[getCID$1(e)]={key:e,value:t}},CIDMap.prototype["delete"]=function(e){var t=getCID$1(e)in this.values;return t&&delete this.values[getCID$1(e)],t},CIDMap.prototype.forEach=function(e,t){canCid_1_3_0_helpers.each(this.values,function(a){return e.call(t||this,a.value,a.key,this)},this)},CIDMap.prototype.has=function(e){return getCID$1(e)in this.values},CIDMap.prototype.get=function(e){var t=this.values[getCID$1(e)];return t&&t.value},CIDMap.prototype.clear=function(){return this.values={}},Object.defineProperty(CIDMap.prototype,"size",{get:function(){var e=0;return canCid_1_3_0_helpers.each(this.values,function(){e++}),e}})}var map$6=CIDMap,unobservable={constructor:!0},hasOwnProperty={}.hasOwnProperty,Map$1=canConstruct_3_5_1_canConstruct.extend({setup:function(e){if(canConstruct_3_5_1_canConstruct.setup.apply(this,arguments),this._computedPropertyNames=[],Map$1){for(var t in type$1(this),this[canSymbol_1_6_1_canSymbol.for("can.defineInstanceKey")]=function(e,t){void 0!==t.value&&(this.defaults[e]=t.value),!1===t.enumerable&&(this.enumerable[e]=!1)},this.defaults||(this.defaults={}),this.enumerable||(this.enumerable={}),this.prototype)"define"!=t&&"constructor"!=t&&("function"!=typeof this.prototype[t]||this.prototype[t].prototype instanceof canConstruct_3_5_1_canConstruct)?this.defaults[t]=this.prototype[t]:canReflect_1_17_4_canReflect.isObservableLike(this.prototype[t])&&this._computedPropertyNames.push(t);canMap_4_3_3_mapHelpers.define&&canMap_4_3_3_mapHelpers.define(this,e.prototype.define)}},shortName:"Map",_bubbleRule:function(e){return"change"===e||0<=e.indexOf(".")?["change"]:[]},addEventListener:map$1.addEventListener,removeEventListener:map$1.removeEventListener,keys:function(e){return canReflect_1_17_4_canReflect.getOwnEnumerableKeys(e)}},{setup:function(e){canReflect_1_17_4_canReflect.isObservableLike(e)&&"function"==typeof e.serialize&&(e=e.serialize()),this._data=Object.create(null),canCid_1_3_0_canCid(this,".map"),this._setupComputedProperties();var t=e&&canMap_4_3_3_mapHelpers.addToMap(e,this),a=this._setupDefaults(e),n=canAssign_1_3_1_canAssign(canReflect_1_17_4_canReflect.assignDeep({},a),e);this.attr(n),t&&t()},_setupComputedProperties:function(){this._computedAttrs=Object.create(null);for(var e=this.constructor._computedPropertyNames,t=0,a=e.length,n;t<a;t++)n=e[t],canMap_4_3_3_mapHelpers.addComputedAttr(this,n,this[n])},_setupDefaults:function(){return this.constructor.defaults||{}},attr:function(e,t){var a=typeof e;return void 0===e?this._getAttrs():"string"!=a&&"number"!=a?this._setAttrs(e,t):1===arguments.length?this._get(e):(this._set(e+"",t),this)},_get:function(e){e+="";var t=e.indexOf(".");if(0<=t){var a=this.___get(e);if(void 0!==a)return canObservationRecorder_1_2_0_canObservationRecorder.add(this,e),a;var n=e.substr(0,t),r=e.substr(t+1),o=this.__get(n);return o&&canReflect_1_17_4_canReflect.getKeyValue(o,r)}return this.__get(e)},__get:function(e){return unobservable[e]||this._computedAttrs[e]||canObservationRecorder_1_2_0_canObservationRecorder.add(this,e),this.___get(e)},___get:function(e){if(e!==void 0){var t=this._computedAttrs[e];return t?canReflect_1_17_4_canReflect.getValue(t.compute):hasOwnProperty.call(this._data,e)?this._data[e]:void 0}return this._data},_set:function(e,t,a){e+="";var n=e.indexOf("."),r;if(0<=n&&!a){var o=e.substr(0,n),s=e.substr(n+1);r=this.__inSetup?void 0:this.___get(o),canReflect_1_17_4_canReflect.isMapLike(r)?canReflect_1_17_4_canReflect.setKeyValue(r,s,t):(r=this.__inSetup?void 0:this.___get(e),this.__convert&&(t=this.__convert(e,t)),this.__set(e,this.__type(t,e),r))}else r=this.__inSetup?void 0:this.___get(e),this.__convert&&(t=this.__convert(e,t)),this.__set(e,this.__type(t,e),r)},__type:function(e){if("object"==typeof e&&!canReflect_1_17_4_canReflect.isObservableLike(e)&&canMap_4_3_3_mapHelpers.canMakeObserve(e)&&!canReflect_1_17_4_canReflect.isListLike(e)){var t=canMap_4_3_3_mapHelpers.getMapFromObject(e);if(t)return t;var a=this.constructor.Map||Map$1;return new a(e)}return e},__set:function(e,t,a){if(t!==a||!Object.prototype.hasOwnProperty.call(this._data,e)){var n=this._computedAttrs[e],r=n||a!==void 0||hasOwnProperty.call(this.___get(),e)?"set":"add";this.___set(e,"object"==typeof t?canMap_4_3_3_bubble.set(this,e,t,a):t),n&&n.count||this._triggerChange(e,r,t,a),"object"==typeof a&&canMap_4_3_3_bubble.teardownFromParent(this,a)}},___set:function(e,t){var a=this._computedAttrs[e];a?canReflect_1_17_4_canReflect.setValue(a.compute,t):this._data[e]=t,"function"==typeof this.constructor.prototype[e]||a||(this[e]=t)},removeAttr:function(e){return this._remove(e)},_remove:function(e){var t=canMap_4_3_3_mapHelpers.attrParts(e),a=t.shift(),n=this.___get(a);return t.length&&n?canReflect_1_17_4_canReflect.deleteKeyValue(n,t.join(".")):("string"!=typeof e||!~e.indexOf(".")||(a=e),this.__remove(a,n),n)},__remove:function(e,t){e in this._data&&(this.___remove(e),this._triggerChange(e,"remove",void 0,t))},___remove:function(e){delete this._data[e],e in this.constructor.prototype||delete this[e]},___serialize:function(e,t){return this._legacyAttrBehavior?canMap_4_3_3_mapHelpers.getValue(this,e,t,"serialize"):canReflect_1_17_4_canReflect.serialize(t,map$6)},_getAttrs:function(){return this._legacyAttrBehavior?canMap_4_3_3_mapHelpers.serialize(this,"attr",{}):canReflect_1_17_4_canReflect.unwrap(this,map$6)},_setAttrs:function(e,t){return this._legacyAttrBehavior?this.__setAttrs(e,t):(!0===t||"true"===t?this[canSymbol_1_6_1_canSymbol.for("can.updateDeep")](e):this[canSymbol_1_6_1_canSymbol.for("can.assignDeep")](e),this)},__setAttrs:function(e,t){e=canAssign_1_3_1_canAssign({},e);var a=this,n,r;for(n in canQueues_1_1_3_canQueues.batch.start(),this._each(function(n,o){if("_cid"!==o)return r=e[o],void 0===r?void(t&&a.removeAttr(o)):void(a.__convert&&(r=a.__convert(o,r)),canTypes_1_4_0_canTypes.isMapLike(n)&&canMap_4_3_3_mapHelpers.canMakeObserve(r)?!0===t?canReflect_1_17_4_canReflect.updateDeep(n,r):canReflect_1_17_4_canReflect.assignDeep(n,r):n!==r&&a.__set(o,a.__type(r,o),n),delete e[o])}),e)"_cid"!==n&&(r=e[n],this._set(n,r,!0));return canQueues_1_1_3_canQueues.batch.stop(),this},serialize:function(){return canReflect_1_17_4_canReflect.serialize(this,map$6)},_triggerChange:function(e,t,a,n,r){canQueues_1_1_3_canQueues.batch.start(),canMap_4_3_3_bubble.isBubbling(this,"change")&&map$1.dispatch.call(this,{type:"change",target:this,batchNum:r},[e,t,a,n]),map$1.dispatch.call(this,{type:e,target:this,batchNum:r,patches:[{type:"set",key:e,value:a}]},[a,n]),("remove"===t||"add"===t)&&map$1.dispatch.call(this,{type:"__keys",target:this,batchNum:r}),canQueues_1_1_3_canQueues.batch.stop()},compute:function(e){if("function"==typeof this.constructor.prototype[e])return canCompute_4_1_0_canCompute(this[e],this);var t=canStacheKey_1_4_0_canStacheKey.reads(e),a=t.length-1;return canCompute_4_1_0_canCompute(function(n){return arguments.length?void canStacheKey_1_4_0_canStacheKey.write(this,t[a].key,n,{}):canStacheKey_1_4_0_canStacheKey.get(this,e)},this)},forEach:function(e,t){for(var a=canReflect_1_17_4_canReflect.getOwnEnumerableKeys(this),n=0,r=a.length,o,s;n<r&&(o=a[n],s=this.attr(o),!1!==e.call(t||s,s,o,this));n++);return this},_each:function(e){var t=this.___get();for(var a in t)hasOwnProperty.call(t,a)&&e(t[a],a)},dispatch:map$1.dispatch});map$1(Map$1.prototype),Map$1.prototype.addEventListener=function(e){var t=this._computedAttrs&&this._computedAttrs[e];return t&&t.compute&&(t.count?t.count++:(t.count=1,canReflect_1_17_4_canReflect.onValue(t.compute,t.handler,"notify"))),canMap_4_3_3_bubble.bind(this,e),map$1.addEventListener.apply(this,arguments)},Map$1.prototype.removeEventListener=function(e){var t=this._computedAttrs&&this._computedAttrs[e];return t&&(1===t.count?(t.count=0,canReflect_1_17_4_canReflect.offValue(t.compute,t.handler)):t.count--),canMap_4_3_3_bubble.unbind(this,e),map$1.removeEventListener.apply(this,arguments)},Map$1.prototype.on=Map$1.prototype.bind=Map$1.prototype.addEventListener,Map$1.prototype.off=Map$1.prototype.unbind=Map$1.prototype.removeEventListener,Map$1.on=Map$1.bind=Map$1.addEventListener,Map$1.off=Map$1.unbind=Map$1.removeEventListener,canReflect_1_17_4_canReflect.assignSymbols(Map$1.prototype,{"can.isMapLike":!0,"can.isListLike":!1,"can.isValueLike":!1,"can.getKeyValue":Map$1.prototype._get,"can.setKeyValue":Map$1.prototype._set,"can.deleteKeyValue":Map$1.prototype._remove,"can.getOwnEnumerableKeys":function(){this.__inSetup||canObservationRecorder_1_2_0_canObservationRecorder.add(this,"__keys");var e=this.constructor.enumerable;return e?Object.keys(this._data).filter(function(t){return!1!==e[t]},this):Object.keys(this._data)},"can.assignDeep":function(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.assignDeepMap(this,canMap_4_3_3_mapHelpers.removeSpecialKeys(canReflect_1_17_4_canReflect.assignMap({},e))),canQueues_1_1_3_canQueues.batch.stop()},"can.updateDeep":function(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.updateDeepMap(this,canMap_4_3_3_mapHelpers.removeSpecialKeys(canReflect_1_17_4_canReflect.assignMap({},e))),canQueues_1_1_3_canQueues.batch.stop()},"can.unwrap":canMap_4_3_3_mapHelpers.reflectUnwrap,"can.serialize":canMap_4_3_3_mapHelpers.reflectSerialize,"can.onKeyValue":function(e,t,a){var n=function(e,a,n){t.call(this,a,n)};canSingleReference_1_2_0_canSingleReference.set(t,this,n,e),this.addEventListener(e,n,a)},"can.offKeyValue":function(e,t,a){this.removeEventListener(e,canSingleReference_1_2_0_canSingleReference.getAndDelete(t,this,e),a)},"can.keyHasDependencies":function(e){return!!(this._computedAttrs&&this._computedAttrs[e]&&this._computedAttrs[e].compute)},"can.getKeyDependencies":function(e){var t;return this._computedAttrs&&this._computedAttrs[e]&&this._computedAttrs[e].compute&&(t={},t.valueDependencies=new set$3,t.valueDependencies.add(this._computedAttrs[e].compute)),t}}),canTypes_1_4_0_canTypes.DefaultMap||(canTypes_1_4_0_canTypes.DefaultMap=Map$1);var canMap_4_3_3_canMap=canNamespace_1_0_0_canNamespace.Map=Map$1,splice$3=[].splice,spliceRemovesProps=function(){var e={0:"a",length:1};return splice$3.call(e,0,1),!e[0]}(),serializeNonTypes=function(e,t,a){t&&t.serialize&&!(t instanceof e)?a.push(new e(t.serialize())):a.push(t)},List=canMap_4_3_3_canMap.extend({Map:canMap_4_3_3_canMap},{setup:function(e,t){this.length=0,canCid_1_3_0_canCid(this,".map"),this._setupComputedProperties(),e=e===void 0?[]:canReflect_1_17_4_canReflect.toArray(e);var a;canReflect_1_17_4_canReflect.isPromise(e)?this.replace(e):(a=e.length&&canMap_4_3_3_mapHelpers.addToMap(e,this),this.push.apply(this,e)),a&&a(),canAssign_1_3_1_canAssign(this,t)},_triggerChange:function(e,t,a,n){canQueues_1_1_3_canQueues.batch.start();var r=+e,o;~(""+e).indexOf(".")||isNaN(r)?canMap_4_3_3_canMap.prototype._triggerChange.apply(this,arguments):(canMap_4_3_3_bubble.isBubbling(this,"change")&&map$1.dispatch.call(this,{type:"change",target:this},[e,t,a,n]),"add"===t?(o=[{insert:a,index:r,deleteCount:0,type:"splice"}],map$1.dispatch.call(this,{type:t,patches:o},[a,r]),map$1.dispatch.call(this,"length",[this.length])):"remove"===t?(o=[{index:r,deleteCount:n.length,type:"splice"}],map$1.dispatch.call(this,{type:t,patches:o},[n,r]),map$1.dispatch.call(this,"length",[this.length])):map$1.dispatch.call(this,t,[a,r])),canQueues_1_1_3_canQueues.batch.stop()},___get:function(e){if(e){var t=this._computedAttrs[e];return t&&t.compute?canReflect_1_17_4_canReflect.getValue(t.compute):this[e]&&this[e].isComputed&&"function"==typeof this.constructor.prototype[e]?canReflect_1_17_4_canReflect.getValue(this[e]):this[e]}return this},__set:function(e,t,a){if(e=isNaN(+e)||e%1?e:+e,"number"==typeof e){if(e>this.length-1){var n=Array(e+1-this.length);return n[n.length-1]=t,this.push.apply(this,n),n}return this.splice(e,1,t),this}return canMap_4_3_3_canMap.prototype.__set.call(this,""+e,t,a)},___set:function(e,t){this[e]=t,+e>=this.length&&(this.length=+e+1)},__remove:function(e,t){isNaN(+e)?(delete this[e],this._triggerChange(e,"remove",void 0,t)):this.splice(e,1)},_each:function(e){for(var t=this.___get(),a=0;a<t.length;a++)e(t[a],a)},serialize:function(){return canReflect_1_17_4_canReflect.serialize(this,map$6)},splice:function(e,t){var a=canReflect_1_17_4_canReflect.toArray(arguments),n=[],r=2<a.length,o,s,l;for(e=e||0,o=0,s=a.length-2;o<s;o++)l=o+2,a[l]=this.__type(a[l],l),n.push(a[l]),this[o+e]!==a[l]&&(r=!1);if(r&&this.length<=n.length)return n;void 0===t&&(t=a[1]=this.length-e);var d=splice$3.apply(this,a);if(!spliceRemovesProps)for(o=this.length;o<d.length+this.length;o++)delete this[o];return canQueues_1_1_3_canQueues.batch.start(),0<t&&(canMap_4_3_3_bubble.removeMany(this,d),this._triggerChange(""+e,"remove",void 0,d)),2<a.length&&(canMap_4_3_3_bubble.addMany(this,n),this._triggerChange(""+e,"add",n,d)),canQueues_1_1_3_canQueues.batch.stop(),d}}),getArgs$1=function(e){return e[0]&&Array.isArray(e[0])?e[0]:canReflect_1_17_4_canReflect.toArray(e)};canReflect_1_17_4_canReflect.eachKey({push:"length",unshift:0},function(e,t){var a=[][t];List.prototype[t]=function(){for(var t=[],n=e?this.length:0,r=arguments.length,o,s;r--;)s=arguments[r],t[r]=canMap_4_3_3_bubble.set(this,r,this.__type(s,r));return o=a.apply(this,t),(!this.comparator||t.length)&&this._triggerChange(""+n,"add",t,void 0),o}}),canReflect_1_17_4_canReflect.eachKey({pop:"length",shift:0},function(e,t){List.prototype[t]=function(){if(this.length){var a=getArgs$1(arguments),n=e&&this.length?this.length-1:0,r=[][t].apply(this,a);return this._triggerChange(""+n,"remove",void 0,[r]),r&&r.removeEventListener&&canMap_4_3_3_bubble.remove(this,r),r}}}),canAssign_1_3_1_canAssign(List.prototype,{indexOf:function(e,t){canObservationRecorder_1_2_0_canObservationRecorder.add(this,"length");for(var a=t||0,n=this.length;a<n;a++)if(this.attr(a)===e)return a;return-1},join:function(){return canObservationRecorder_1_2_0_canObservationRecorder.add(this,"length"),[].join.apply(this,arguments)},reverse:function(){var e=[].reverse.call(canReflect_1_17_4_canReflect.toArray(this));return this.replace(e)},slice:function(){canObservationRecorder_1_2_0_canObservationRecorder.add(this,"length");var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var e=[],t=this.constructor.Map;return canReflect_1_17_4_canReflect.each(arguments,function(a){if(canReflect_1_17_4_canReflect.isObservableLike(a)&&canReflect_1_17_4_canReflect.isListLike(a)||Array.isArray(a)){var n=canReflect_1_17_4_canReflect.isObservableLike(a)&&canReflect_1_17_4_canReflect.isListLike(a)?canReflect_1_17_4_canReflect.toArray(a):a;canReflect_1_17_4_canReflect.each(n,function(a){serializeNonTypes(t,a,e)})}else serializeNonTypes(t,a,e)}),new this.constructor(Array.prototype.concat.apply(canReflect_1_17_4_canReflect.toArray(this),e))},forEach:function(e,t){for(var a=0,n=this.attr("length"),r;a<n&&(r=this.attr(a),void 0===r||!1!==e.call(t||r,r,a,this));a++);return this},replace:function(e){if(canReflect_1_17_4_canReflect.isPromise(e)){this._promise&&(this._promise.__isCurrentPromise=!1);var t=this._promise=e;t.__isCurrentPromise=!0;var a=this;e.then(function(e){t.__isCurrentPromise&&a.replace(e)})}else e=void 0===e?[]:canReflect_1_17_4_canReflect.toArray(e),this.splice.apply(this,[0,this.length].concat(e));return this},filter:function(e,t){var a=new this.constructor,n=this,r;return this.forEach(function(o,s){r=e.call(t||n,o,s,n),r&&a.push(o)}),a},map:function(e,t){var a=new List,n=this;return this.forEach(function(r,o){var s=e.call(t||n,r,o,n);a.push(s)}),a}});var oldType=canMap_4_3_3_canMap.prototype.__type;canMap_4_3_3_canMap.prototype.__type=function(e){if("object"==typeof e&&Array.isArray(e)){var t=canMap_4_3_3_mapHelpers.getMapFromObject(e);return t?t:new List(e)}return oldType.apply(this,arguments)};var oldSetup=canMap_4_3_3_canMap.setup;canMap_4_3_3_canMap.setup=function(){oldSetup.apply(this,arguments),this.prototype instanceof List||(this.List=canMap_4_3_3_canMap.List.extend({Map:this},{}))},canTypes_1_4_0_canTypes.DefaultList||(canTypes_1_4_0_canTypes.DefaultList=List),canReflect_1_17_4_canReflect.assignSymbols(List.prototype,{"can.isMoreListLikeThanMapLike":!0,"can.isListLike":!0,"can.getKeyValue":List.prototype._get,"can.setKeyValue":List.prototype._set,"can.deleteKeyValue":List.prototype._remove,"can.getOwnEnumerableKeys":function(){return Object.keys(this._data||{}).concat(this.map(function(e,t){return t}))},"can.assignDeep":function(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.assignDeepList(this,e),canQueues_1_1_3_canQueues.batch.stop()},"can.updateDeep":function(e){canQueues_1_1_3_canQueues.batch.start(),canReflect_1_17_4_canReflect.updateDeepList(this,e),canQueues_1_1_3_canQueues.batch.stop()},"can.unwrap":canMap_4_3_3_mapHelpers.reflectUnwrap,"can.serialize":canMap_4_3_3_mapHelpers.reflectSerialize,"can.onKeysAdded":function(e){this[canSymbol_1_6_1_canSymbol.for("can.onKeyValue")]("add",e)},"can.onKeysRemoved":function(e){this[canSymbol_1_6_1_canSymbol.for("can.onKeyValue")]("remove",e)},"can.splice":function(e,t,a){this.splice.apply(this,[e,t].concat(a))}}),canMap_4_3_3_canMap.List=List;var canList_4_1_0_canList=canNamespace_1_0_0_canNamespace.List=List,define$1={},keysForDefinition$1=function(e){var t=[];for(var a in e){var n=e[a];("object"!=typeof n||("serialize"in n?!!n.serialize:!n.get))&&t.push(a)}return t},getPropDefineBehavior=function(e,t,a){var n,r;if(a){if(n=a[t],r=a["*"],n&&void 0!==n[e])return n[e];if(r&&void 0!==r[e])return r[e]}};canMap_4_3_3_mapHelpers.define=function(e,t){var a=e.prototype.define;if(t){var n={};canMap_4_3_3_mapHelpers.twoLevelDeepExtend(n,t),canMap_4_3_3_mapHelpers.twoLevelDeepExtend(n,a),canAssign_1_3_1_canAssign(a,n)}for(var r in e.defaultGenerators={},a){var o=a[r].type;"string"==typeof o&&"object"==typeof define$1.types[o]&&(delete a[r].type,canAssign_1_3_1_canAssign(a[r],define$1.types[o])),"value"in a[r]&&("function"==typeof a[r].value?e.defaultGenerators[r]=a[r].value:e.defaults[r]=a[r].value),"function"==typeof a[r].Value&&function(t){e.defaultGenerators[r]=function(){return new t}}(a[r].Value)}};var oldSetupDefaults=canMap_4_3_3_canMap.prototype._setupDefaults;canMap_4_3_3_canMap.prototype._setupDefaults=function(e){var t=canAssign_1_3_1_canAssign({},oldSetupDefaults.call(this)),a={},n=this.constructor,r=this._get;for(var o in this._get=function(e){var n=-1===e.indexOf(".")?e:e.substr(0,e.indexOf("."));return n in t&&!(n in a)&&(this.attr(n,t[n]),a[n]=!0),r.apply(this,arguments)},n.defaultGenerators)e&&o in e||(t[o]=n.defaultGenerators[o].call(this));return delete this._get,t};var proto=canMap_4_3_3_canMap.prototype,oldSet=proto.__set;proto.__set=function(e,t,a,n,r){var o=this,s=function(t){var a=r&&r.call(o,t);return!1!==a&&map$1.dispatch.call(o,"error",[e,t],!0),!1},i=getPropDefineBehavior("set",e,this.define),l=getPropDefineBehavior("get",e,this.define);if(i){canQueues_1_1_3_canQueues.batch.start();var d=!1,p=i.call(this,t,function(t){l?o[e](t):oldSet.call(o,e,t,a,n,s),d=!0},s,l?this._computedAttrs[e].compute.computeInstance.lastSetValue.get():a);return l?(void 0!==p&&!d&&1<=i.length&&this._computedAttrs[e].compute(p),void canQueues_1_1_3_canQueues.batch.stop()):void 0===p&&!d&&1<i.length?void canQueues_1_1_3_canQueues.batch.stop():(d||oldSet.call(o,e,0===i.length&&void 0===p?t:p,a,n,s),canQueues_1_1_3_canQueues.batch.stop(),this)}return oldSet.call(o,e,t,a,n,s),this},define$1.types={date:function(e){var t=typeof e;return"string"==t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"==t?new Date(e):e},number:function(e){return null==e?e:+e},boolean:function(e){return null==e?e:!!("false"!==e&&"0"!==e&&e)},htmlbool:function(e){return"string"==typeof e||!!e},"*":function(e){return e},string:function(e){return null==e?e:""+e},compute:{set:function(e,t,a,n){return e&&e.isComputed?e:n&&n.isComputed?(n(e),n):e},get:function(e){return e&&e.isComputed?e():e}}};var oldType$1=proto.__type;proto.__type=function(e,t){var a=getPropDefineBehavior("type",t,this.define),n=getPropDefineBehavior("Type",t,this.define),r=e;return("string"==typeof a&&(a=define$1.types[a]),a||n)?(a&&(r=a.call(this,r,t)),n&&null!=r&&!(r instanceof n)&&(r=new n(r)),r):(canReflect_1_17_4_canReflect.isPlainObject(r)&&r.define&&(r=canMap_4_3_3_canMap.extend(r),r=new r),oldType$1.call(this,r,t))};var oldRemove=proto.__remove;proto.__remove=function(e,t){var a=getPropDefineBehavior("remove",e,this.define),n;return a?(canQueues_1_1_3_canQueues.batch.start(),n=a.call(this,t),!1===n?void canQueues_1_1_3_canQueues.batch.stop():(n=oldRemove.call(this,e,t),canQueues_1_1_3_canQueues.batch.stop(),n)):oldRemove.call(this,e,t)};var oldSetupComputes=proto._setupComputedProperties;proto._setupComputedProperties=function(){for(var e in oldSetupComputes.apply(this,arguments),this.define){var t=this.define[e],a=t.get;a&&canMap_4_3_3_mapHelpers.addComputedAttr(this,e,canCompute_4_1_0_canCompute.async(void 0,a,this))}};var oldSingleSerialize=proto.___serialize,serializeProp=function(e,t,a){var n="*"!==t&&getPropDefineBehavior("serialize",t,e.define);if(n===void 0)return oldSingleSerialize.call(e,t,a);return!1===n?void 0:"function"==typeof n?n.call(e,a,t):oldSingleSerialize.call(e,t,a)};proto.___serialize=function(e,t){return serializeProp(this,e,t)};var oldSerialize=proto.serialize;proto.serialize=function(e){var t=oldSerialize.apply(this,arguments);if(e)return t;var a,n;for(var r in this.define)r in t||(a=this.define&&(this.define[r]&&this.define[r].serialize||this.define["*"]&&this.define["*"].serialize),a&&(n=serializeProp(this,r,this.attr(r)),void 0!==n&&(t[r]=n)));return t},canReflect_1_17_4_canReflect.assignSymbols(proto,{"can.hasKey":function(e){var t=this.define&&e in this.define,a=this._data&&e in this._data,n=e in this;return t||a||n},"can.getOwnEnumerableKeys":function(){this.__inSetup||canObservationRecorder_1_2_0_canObservationRecorder.add(this,"__keys");var e=keysForDefinition$1(this.define),t=Object.keys(this._data),a=this.constructor.enumerable;a&&(t=t.filter(function(e){return!1!==a[e]}));var n,r;for(n=0;n<t.length;n++)r=t[n],!(0>e.indexOf(r))||this.define&&this.define[r]||e.push(t[n]);return e}});var canMapDefine_4_3_3_canMapDefine=define$1,IsBoolean=function(){};makeEnum_1(IsBoolean,[!0,!1],function(e){return!("true"!==e)||"false"!==e&&e});function hasKey(e,t,a,n){if(e&&"object"==typeof e)for(var r in e)if(t[r]){if("function"==typeof t[r])a[n]=t[r](e);else return!0;}else if(hasKey(e[r],t,e,r))return!0;return!1}function convertToJSONAPISort(e){var t=e.split(" "),a="desc"===(t[1]||"").toLowerCase();return a?"-"+t[0]:t[0]}function convertToLegacySort(e){var t=helpers_1$1.sortData(e);return t.desc?"-"+t.prop:t.prop}var set$4={UNIVERSAL:set_1$1.UNIVERSAL,EMPTY:set_1$1.EMPTY,UNDEFINABLE:set_1$1.UNDEFINABLE,UNKNOWABLE:set_1$1.UNKNOWABLE,Algebra:function(){var e={schema:[],hydrate:[],serialize:[]};canReflect_1_17_4_canReflect.eachIndex(arguments,function(t){for(var a in t)if(e[a])e[a].push(t[a]);else throw new Error("can-query-logic: This type of configuration is not supported. Please use can-query-logic directly.")});var t=canReflect_1_17_4_canReflect.assignSymbols({},{"can.getSchema":function(){var t={kind:"record",identity:[],keys:{}};return e.schema.forEach(function(e){e(t)}),t.identity.length||t.identity.push("id"),t}});return new canQueryLogic_1_1_0_canQueryLogic(t,{toQuery:function(t){return e.hydrate.reduce(function(e,t){return t(e)},{filter:t})},toParams:function(t){if(set_1$1.isSpecial(t))return t;if(Array.isArray(t.filter))return set_1$1.UNDEFINABLE;var a=t.filter||{};if(hasKey(a,{$ne:!0,$in:function(e){return e.$in}}))return set_1$1.UNDEFINABLE;var n=e.serialize.reduce(function(e,t){return t(e)},t);return a=n.filter||{},delete n.filter,canReflect_1_17_4_canReflect.assign(n,a)}})},Translate:function(e,t){if("where"!==e)throw new Error("can-query-logic/compat.Translate is only able to translate the where clause");return{hydrate:function(e){var a=canReflect_1_17_4_canReflect.serialize(e),n=a.filter[t];return delete a.filter[t],n&&canReflect_1_17_4_canReflect.assign(a.filter,n),a},serialize:function(e){if(e.filter){var a=canReflect_1_17_4_canReflect.serialize(e),n=e.filter;return a.filter={},a.filter[t]=n,a}return e}}},props:{boolean:function(e){return{schema:function(t){t.keys[e]=IsBoolean}}},dotNotation:function(){return{}},enum:function(e,t){function a(){}return makeEnum_1(a,t),{schema:function(t){t.keys[e]=a}}},id:function(e){return{schema:function(t){t.identity.push(e)}}},offsetLimit:function(e,t){return e=e||"offset",t=t||"limit",{hydrate:function(a){var n=canReflect_1_17_4_canReflect.serialize(a);return(e in n.filter||t in n.filter)&&(n.page={}),e in n.filter&&(n.page.start=parseInt(n.filter[e],10),delete n.filter[e]),t in n.filter&&(n.page.end=(n.page.start||0)+parseInt(n.filter[t],10)-1,delete n.filter[t]),n},serialize:function(a){var n=canReflect_1_17_4_canReflect.serialize(a);return n.page&&(n[e]=n.page.start,n[t]=n.page.end-n.page.start+1,delete n.page),n}}},rangeInclusive:function(e,t){var a={};a["filter."+e]="page.start",a["filter."+t]="page.end";var n={"page.start":e,"page.end":t};return{hydrate:function(e){var t=transform(e,a);return t.page&&(t.page.start&&(t.page.start=parseInt(t.page.start,10)),t.page.end&&(t.page.end=parseInt(t.page.end,10))),t},serialize:function(e){return transform(e,n)}}},ignore:function(e){return{hydrate:function(t){var a=canReflect_1_17_4_canReflect.serialize(t);return delete a.filter[e],a}}},sort:function(e,t){if(e||(e="sort"),t)throw new Error("can-query-logic/compat.sort - sortFunc is not supported");return{hydrate:function(t){var a=canReflect_1_17_4_canReflect.serialize(t),n=get_1(a,"filter."+e);return void 0!==n&&(_delete(a,"filter."+e),a.sort=convertToJSONAPISort(n)),a},serialize:function(t){var a=canReflect_1_17_4_canReflect.serialize(t),n=a.sort;return void 0!==n&&(delete a.sort,a[e]=convertToLegacySort(n)),a}}}}},defaultAlgebra;function makeAlgebra(e){if(!e)return defaultAlgebra;return e instanceof canQueryLogic_1_1_0_canQueryLogic?e:new set$4.Algebra(e)}function makeFromTwoQueries(e){set$4[e]=function(t,a,n){return makeAlgebra(n)[e](t,a)}}makeFromTwoQueries("difference"),makeFromTwoQueries("union"),makeFromTwoQueries("intersection"),makeFromTwoQueries("isSubset"),makeFromTwoQueries("isEqual"),makeFromTwoQueries("isProperSubset"),set$4.count=function(e,t){return makeAlgebra(t).count(e)},set$4.comparators=set$4.props,defaultAlgebra=new set$4.Algebra;var canSetLegacy_1_0_0_canSetLegacy=set$4;export{canDefine_2_5_8_canDefine as define,map$2 as DefineMap,list$1 as DefineList,canValue_1_0_1_canValue as value,canObservation_4_1_0_canObservation as Observation,canObservationRecorder_1_2_0_canObservationRecorder as ObservationRecorder,canSimpleMap_4_2_0_canSimpleMap as SimpleMap,canBind_1_0_0_canBind as bind,map$1 as mapEventBindings,value as valueEventBindings,canSimpleObservable_2_2_0_canSimpleObservable as SimpleObservable,canComponent_4_4_2_canComponent as Component,canStache_4_10_5_canStache as stache,canStacheBindings_4_4_0_canStacheBindings as stacheBindings,canStacheRouteHelpers_1_1_1_canStacheRouteHelpers as stacheRouteHelpers,canViewCallbacks_4_3_1_canViewCallbacks as viewCallbacks,canViewLive_4_2_0_canViewLive as viewLive,canViewModel_4_0_1_canViewModel as viewModel,canViewNodelist_4_3_2_canViewNodelist as nodeList,canViewParser_4_1_0_canViewParser as viewParser,canViewScope_4_7_0_canViewScope as Scope,canViewTarget_4_1_0_canViewTarget as target,canFixture_3_0_0_fixture as fixture,canQueryLogic_1_1_0_canQueryLogic as QueryLogic,canRealtimeRestModel_1_0_0_canRealtimeRestModel as realtimeRestModel,canRestModel_1_0_0_canRestModel as restModel,canConnect_3_0_2_all as connect,canLocalStore_1_0_0_canLocalStore as localStore,canMemoryStore_1_0_0_canMemoryStore as memoryStore,canRoute_4_3_12_canRoute as route,canRouteHash_1_0_1_canRouteHash as RouteHash,canRoutePushstate_5_0_2_canRoutePushstate as RoutePushstate,canParam_1_1_0_canParam as param,canDeparam_1_2_0_canDeparam as deparam,canAssign_1_3_1_canAssign as assign,canDefineLazyValue_1_1_0_defineLazyValue as defineLazyValue,canDiff_1_4_1_canDiff as diff,canGlobals_1_2_0_canGlobals as globals,canKey_1_2_0_canKey as key,canKeyTree_1_2_0_canKeyTree as KeyTree,canMakeMap_1_2_0_canMakeMap as makeMap,canParseUri_1_2_0_canParseUri as parseURI,canQueues_1_1_3_canQueues as queues,canString_1_0_0_canString as string,canStringToAny_1_2_0_canStringToAny as stringToAny,canAjax_2_1_0_canAjax as ajax,canAttributeEncoder_1_1_0_canAttributeEncoder as attributeEncoder,canChildNodes_1_2_0_canChildNodes as childNodes,canControl_4_2_0_canControl as Control,canDomEvents_1_3_0_canDomEvents as domEvents,canDomMutate_1_2_1_canDomMutate as domMutate,canDomMutate_1_2_1_node as domMutateNode,canDomMutate_1_2_1_domEvents as domMutateDomEvents,canFragment_1_2_0_canFragment as fragment,canValidateInterface_1_0_2_index as makeInterfaceValidator,canCid_1_3_0_canCid as cid,canConstruct_3_5_1_canConstruct as Construct,maybeBoolean as MaybeBoolean,maybeDate as MaybeDate,maybeNumber as MaybeNumber,maybeString as MaybeString,canNamespace_1_0_0_canNamespace as can,canReflect_1_17_4_canReflect as Reflect,canReflectDependencies_1_1_0_canReflectDependencies as reflectDependencies,canReflectPromise_2_1_0_canReflectPromise as reflectPromise,canDebug_2_0_1_canDebug as debug,canDefineBackup_2_0_0_canDefineBackup as defineBackup,canDefineStream_1_1_0_canDefineStream as defineStream,canDefineStreamKefir_1_1_0_canDefineStreamKefir as defineStreamKefir,canKefir_1_1_0_canKefir as kefir,canObserve_2_2_0_canObserve as observe,canStream_1_1_0_canStream as stream,canStreamKefir_1_2_0_canStreamKefir as streamKefir,canMapCompat_1_1_0_canMapCompat as makeMapCompat,canStacheConverters_4_2_4_canStacheConverters as stacheConverters,canViewAutorender_5_0_1_canViewAutorender as viewAutorender,canSuperModel_1_0_1_canSuperModel as superModel,canConnectFeathers_5_0_0_canConnectFeathers as connectFeathers,canConnectTag_1_0_0_canConnectTag as connectTag,canFixtureSocket_2_0_0_canFixtureSocket as fixtureSocket,canNdjsonStream_1_0_0_canNdjsonStream as ndjsonStream,canConnectNdjson_1_0_0_canConnectNdjson as connectNDJSON,canRouteMock_1_0_1_canRouteMock as RouteMock,canDefineValidateValidatejs_1_1_0_canDefineValidateValidatejs as defineValidateValidatejs,canValidate_1_2_0_canValidate as validate,canValidateValidatejs_1_0_0_canValidateValidatejs as validateValidatejs,canEventDomRadiochange_2_2_0_canEventDomRadiochange as radioChangeEvent,canEventDomEnter_2_2_0_canEventDomEnter as enterEvent,canCompute_4_1_0_canCompute as compute,canMap_4_3_3_canMap as CanMap,canList_4_1_0_canList as CanList,canMapDefine_4_3_3_canMapDefine as canMapDefine,canSetLegacy_1_0_0_canSetLegacy as set};